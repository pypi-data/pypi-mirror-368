var Fr=Object.defineProperty;var an=A=>{throw TypeError(A)};var zr=(A,S,R)=>S in A?Fr(A,S,{enumerable:!0,configurable:!0,writable:!0,value:R}):A[S]=R;var ln=(A,S,R)=>zr(A,typeof S!="symbol"?S+"":S,R),Vr=(A,S,R)=>S.has(A)||an("Cannot "+R);var Ee=(A,S,R)=>(Vr(A,S,"read from private field"),R?R.call(A):S.get(A)),on=(A,S,R)=>S.has(A)?an("Cannot add the same private member more than once"):S instanceof WeakSet?S.add(A):S.set(A,R);(function(){"use strict";var te;var A=document.createElement("style");A.textContent=`.box.svelte-1i3pq41{display:flex;width:100%!important;align-items:center;gap:1em}.box.svelte-1i3pq41 label:where(.svelte-1i3pq41){display:flex;flex-direction:column}.box.svelte-1i3pq41 label>textarea:where(.svelte-1i3pq41),.box.svelte-1i3pq41 label>div:where(.svelte-1i3pq41){margin-top:0;margin-bottom:0;height:5em}.box.svelte-1i3pq41 .text:where(.svelte-1i3pq41){flex-grow:1}.box.svelte-1i3pq41 .weight:where(.svelte-1i3pq41){max-width:fit-content;flex-basis:7ch;flex-shrink:1}fieldset.flex.svelte-yi3joh{display:flex!important;gap:1em;border:1px solid var(--bs-secondary-bg, #abc2fb)!important;background-color:var(--bs-secondary-bg, #abc2fb);padding:1em}.sl-row.svelte-yi3joh{padding:1em;background-color:var(--pico-color-zinc-150, #ddd);--transition-property: transform;--transition-duration: .18s;transition:var(--transition-property) var(--transition-duration) ease-in-out}.sl-row.svelte-yi3joh:hover,.sl-row.svelte-yi3joh:focus-within{transform:scale(1.03)}[name=add].svelte-yi3joh{max-width:12ch}.sl-row.svelte-yi3joh:nth-child(odd){background-color:var(--pico-color-amber-50, #bbb)}:root{--pico-color-amber-50: #FCEFD9;--pico-color-zinc-150: #D1D5DB}
`,document.head.appendChild(A);var S=Array.isArray,R=Array.from,sn=Object.isFrozen,st=Object.defineProperty,ue=Object.getOwnPropertyDescriptor,ut=Object.prototype,un=Array.prototype,ft=Object.getPrototypeOf;function fn(e){for(var t=0;t<e.length;t++)e[t]()}const Q=2,ct=4,fe=8,vt=16,B=32,Fe=64,$=128,Ie=256,K=512,G=1024,ne=2048,ee=4096,re=8192,cn=16384,ze=32768,vn=65536,dn=1<<18,L=Symbol("$state");function dt(e){return e===this.v}function _n(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ve(e){return!_n(e,this.v)}function hn(e){throw new Error("effect_in_teardown")}function pn(){throw new Error("effect_in_unowned_derived")}function mn(e){throw new Error("effect_orphan")}function gn(){throw new Error("effect_update_depth_exceeded")}function xn(e){throw new Error("props_invalid_value")}function yn(){throw new Error("state_unsafe_mutation")}function Y(e){return{f:0,v:e,reactions:null,equals:dt,version:0}}function _t(e){var n;const t=Y(e);return t.equals=Ve,I!==null&&I.l!==null&&((n=I.l).s??(n.s=[])).push(t),t}function P(e,t){return C!==null&&Ze()&&C.f&Q&&yn(),e.equals(t)||(e.v=t,e.version=Pt(),ht(e,G),Ze()&&E!==null&&E.f&K&&!(E.f&B)&&(z!==null&&z.includes(e)?(U(E,G),Ne(E)):Z===null?Un([e]):Z.push(e))),t}function ht(e,t){var n=e.reactions;if(n!==null)for(var r=Ze(),a=n.length,i=0;i<a;i++){var l=n[i],o=l.f;o&G||!r&&l===E||(U(l,t),o&(K|$)&&(o&Q?ht(l,ne):Ne(l)))}}const je=1,Ue=2,pt=4,wn=8,bn=16,kn=1,En=2,In=4,Tn=8,Sn=16,qn=1,Cn=2,ce=Symbol();let An=!1;function F(e,t=null,n){if(typeof e=="object"&&e!=null&&!sn(e)){if(L in e){const a=e[L];if(a.t===e||a.p===e)return a.p}const r=ft(e);if(r===ut||r===un){const a=new Proxy(e,On);return st(e,L,{value:{s:new Map,v:Y(0),a:S(e),p:a,t:e},writable:!0,enumerable:!1}),a}}return e}function mt(e,t=1){P(e,e.v+t)}const On={defineProperty(e,t,n){if(n.value){const r=e[L],a=r.s.get(t);a!==void 0&&P(a,F(n.value,r))}return Reflect.defineProperty(e,t,n)},deleteProperty(e,t){const n=e[L],r=n.s.get(t),a=n.a,i=delete e[t];if(a&&i){const l=n.s.get("length"),o=e.length-1;l!==void 0&&l.v!==o&&P(l,o)}return r!==void 0&&P(r,ce),i&&mt(n.v),i},get(e,t,n){var i;if(t===L)return Reflect.get(e,L);const r=e[L];let a=r.s.get(t);if(a===void 0&&(!(t in e)||(i=ue(e,t))!=null&&i.writable)&&(a=Y(F(e[t],r)),r.s.set(t,a)),a!==void 0){const l=x(a);return l===ce?void 0:l}return Reflect.get(e,t,n)},getOwnPropertyDescriptor(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){const a=e[L].s.get(t);a&&(n.value=x(a))}return n},has(e,t){var i;if(t===L)return!0;const n=e[L],r=Reflect.has(e,t);let a=n.s.get(t);return(a!==void 0||E!==null&&(!r||(i=ue(e,t))!=null&&i.writable))&&(a===void 0&&(a=Y(r?F(e[t],n):ce),n.s.set(t,a)),x(a)===ce)?!1:r},set(e,t,n,r){const a=e[L];let i=a.s.get(t);i===void 0&&(zt(()=>r[t]),i=a.s.get(t)),i!==void 0&&P(i,F(n,a));const l=a.a,o=!(t in e);if(l&&t==="length")for(let d=n;d<e.length;d+=1){const h=a.s.get(d+"");h!==void 0&&P(h,ce)}var s=Reflect.getOwnPropertyDescriptor(e,t);if(s!=null&&s.set?s.set.call(r,n):e[t]=n,o){if(l){const d=a.s.get("length"),h=e.length;d!==void 0&&d.v!==h&&P(d,h)}mt(a.v)}return!0},ownKeys(e){const t=e[L];return x(t.v),Reflect.ownKeys(e)}};function gt(e){if(e!==null&&typeof e=="object"&&L in e){var t=e[L];if(t)return t.p}return e}function Dn(e,t){return Object.is(gt(e),gt(t))}var xt,yt,wt;function Mn(){if(xt===void 0){xt=window;var e=Element.prototype,t=Node.prototype;yt=ue(t,"firstChild").get,wt=ue(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__e=void 0,Text.prototype.__t=void 0}}function He(e=""){return document.createTextNode(e)}function Te(e){return yt.call(e)}function Se(e){return wt.call(e)}function D(e){return Te(e)}function qe(e,t){{var n=Te(e);return n instanceof Comment&&n.data===""?Se(n):n}}function y(e,t=!1){return Se(e)}function Nn(e){e.textContent=""}function Pn(e){E===null&&C===null&&mn(),C!==null&&C.f&$&&pn(),We&&hn()}function bt(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ve(e,t,n,r=!0){var a=(e&Fe)!==0,i=E,l={ctx:I,deps:null,nodes_start:null,nodes_end:null,f:e|G,first:null,fn:t,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var o=ie;try{Ot(!0),Me(l),l.f|=cn}catch(d){throw de(l),d}finally{Ot(o)}}else t!==null&&Ne(l);var s=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null;return!s&&!a&&r&&(i!==null&&bt(l,i),C!==null&&C.f&Q&&bt(l,C)),l}function kt(e){Pn();var t=E!==null&&(E.f&fe)!==0&&I!==null&&!I.m;if(t){var n=I;(n.e??(n.e=[])).push(e)}else{var r=Ce(e);return r}}function Rn(e){const t=ve(Fe,e,!0);return()=>{de(t)}}function Ce(e){return ve(ct,e,!1)}function Et(e){return ve(fe,e,!0)}function j(e){return Et(e)}function Be(e,t=0){return ve(fe|vt|t,e,!0)}function ae(e,t=!0){return ve(fe|B,e,!0,t)}function It(e){var t=e.teardown;if(t!==null){const n=We,r=C;Dt(!0),Mt(null);try{t.call(null)}finally{Dt(n),Mt(r)}}}function de(e,t=!0){var n=!1;if((t||e.f&dn)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var i=r===a?null:Se(r);r.remove(),r=i}n=!0}Xe(e,t&&!n),me(e,0),U(e,re);var l=e.transitions;if(l!==null)for(const s of l)s.stop();It(e);var o=e.parent;o!==null&&e.f&B&&o.first!==null&&Tt(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function Tt(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ae(e,t){var n=[];Ke(e,n,!0),St(n,()=>{de(e),t&&t()})}function St(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Ke(e,t,n){if(!(e.f&ee)){if(e.f^=ee,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var a=r.next,i=(r.f&ze)!==0||(r.f&B)!==0;Ke(r,t,i?n:!1),r=a}}}function Oe(e){qt(e,!0)}function qt(e,t){if(e.f&ee){e.f^=ee,pe(e)&&Me(e);for(var n=e.first;n!==null;){var r=n.next,a=(n.f&ze)!==0||(n.f&B)!==0;qt(n,a?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Ye=!1,Je=[];function Ln(){Ye=!1;const e=Je.slice();Je=[],fn(e)}function Fn(e){Ye||(Ye=!0,queueMicrotask(Ln)),Je.push(e)}function _e(e){let t=Q|G;E===null&&(t|=$);const n={deps:null,deriveds:null,equals:dt,f:t,first:null,fn:e,last:null,reactions:null,v:null,version:0};if(C!==null&&C.f&Q){var r=C;r.deriveds===null?r.deriveds=[n]:r.deriveds.push(n)}return n}function zn(e){const t=_e(e);return t.equals=Ve,t}function Ct(e){Xe(e);var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Vn(t[n])}}function At(e){var t;Ct(e),t=Rt(e);var n=(le||e.f&$)&&e.deps!==null?ne:K;U(e,n),e.equals(t)||(e.v=t,e.version=Pt())}function Vn(e){Ct(e),me(e,0),U(e,re),e.first=e.last=e.deps=e.reactions=e.fn=null}function jn(e){throw new Error("lifecycle_outside_component")}let De=!1,ie=!1,We=!1;function Ot(e){ie=e}function Dt(e){We=e}let Ge=[],he=0,C=null;function Mt(e){C=e}let E=null,z=null,V=0,Z=null;function Un(e){Z=e}let Nt=0,le=!1,I=null;function Pt(){return Nt++}function Ze(){return I!==null&&I.l===null}function pe(e){var l,o;var t=e.f;if(t&G)return!0;if(t&ne){var n=e.deps,r=(t&$)!==0;if(n!==null){var a;if(t&Ie){for(a=0;a<n.length;a++)((l=n[a]).reactions??(l.reactions=[])).push(e);e.f^=Ie}for(a=0;a<n.length;a++){var i=n[a];if(pe(i)&&At(i),i.version>e.version)return!0;r&&!le&&!((o=i==null?void 0:i.reactions)!=null&&o.includes(e))&&(i.reactions??(i.reactions=[])).push(e)}}r||U(e,K)}return!1}function Hn(e,t,n){throw e}function Rt(e){var d;var t=z,n=V,r=Z,a=C,i=le;z=null,V=0,Z=null,C=e.f&(B|Fe)?null:e,le=!ie&&(e.f&$)!==0;try{var l=(0,e.fn)(),o=e.deps;if(z!==null){var s;if(me(e,V),o!==null&&V>0)for(o.length=V+z.length,s=0;s<z.length;s++)o[V+s]=z[s];else e.deps=o=z;if(!le)for(s=V;s<o.length;s++)((d=o[s]).reactions??(d.reactions=[])).push(e)}else o!==null&&V<o.length&&(me(e,V),o.length=V);return l}finally{z=t,V=n,Z=r,C=a,le=i}}function Bn(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&Q&&(U(t,ne),t.f&($|Ie)||(t.f^=Ie),me(t,0))}function me(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Bn(e,n[r])}function Xe(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;de(n,t),n=r}}function Me(e){var t=e.f;if(!(t&re)){U(e,K);var n=e.ctx,r=E,a=I;E=e,I=n;try{t&vt||Xe(e),It(e);var i=Rt(e);e.teardown=typeof i=="function"?i:null,e.version=Nt}catch(l){Hn(l)}finally{E=r,I=a}}}function Kn(){he>1e3&&(he=0,gn()),he++}function Yn(e){var t=e.length;if(t!==0){Kn();var n=ie;ie=!0;try{for(var r=0;r<t;r++){var a=e[r];if(a.first===null&&!(a.f&B))Lt([a]);else{var i=[];Ft(a,i),Lt(i)}}}finally{ie=n}}}function Lt(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];!(r.f&(re|ee))&&pe(r)&&(Me(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Tt(r):r.fn=null))}}function Jn(){if(De=!1,he>1001)return;const e=Ge;Ge=[],Yn(e),De||(he=0)}function Ne(e){De||(De=!0,queueMicrotask(Jn));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&B){if(!(n&K))return;U(t,ne)}}Ge.push(t)}function Ft(e,t){var n=e.first,r=[];e:for(;n!==null;){var a=n.f,i=(a&(re|ee))===0,l=(a&B)!==0,o=(a&K)!==0,s=n.first;if(i&&(!l||!o)){if(l&&U(n,K),a&fe){if(!l&&pe(n)&&(Me(n),s=n.first),s!==null){n=s;continue}}else if(a&ct)if(l||o){if(s!==null){n=s;continue}}else r.push(n)}var d=n.next;if(d===null){let g=n.parent;for(;g!==null;){if(e===g)break e;var h=g.next;if(h!==null){n=h;continue e}g=g.parent}}n=d}for(var v=0;v<r.length;v++)s=r[v],t.push(s),Ft(s,t)}function x(e){var t=e.f;if(t&re)return e.v;if(C!==null){var n=C.deps;z===null&&n!==null&&n[V]===e?V++:z===null?z=[e]:z.push(e),Z!==null&&E!==null&&E.f&K&&!(E.f&B)&&Z.includes(e)&&(U(E,G),Ne(E))}if(t&Q){var r=e;pe(r)&&At(r)}return e.v}function zt(e){const t=C;try{return C=null,e()}finally{C=t}}const Wn=~(G|ne|K);function U(e,t){e.f=e.f&Wn|t}function oe(e){return Vt().get(e)}function Qe(e,t){return Vt().set(e,t),t}function Vt(e){return I===null&&jn(),I.c??(I.c=new Map(Gn(I)||void 0))}function Gn(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function ge(e,t=!1,n){I={p:I,c:null,e:null,m:!1,s:e,x:null,l:null},t||(I.l={s:null,u:null,r1:[],r2:Y(!1)})}function xe(e){const t=I;if(t!==null){const r=t.e;if(r!==null){t.e=null;for(var n=0;n<r.length;n++)Ce(r[n])}I=t.p,t.m=!0}return{}}const jt=new Set,$e=new Set;function et(e){for(var t=0;t<e.length;t++)jt.add(e[t]);for(var n of $e)n(e)}function Pe(e){var w;var t=this,n=t.ownerDocument,r=e.type,a=((w=e.composedPath)==null?void 0:w.call(e))||[],i=a[0]||e.target,l=0,o=e.__root;if(o){var s=a.indexOf(o);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;s<=d&&(l=s)}if(i=a[l]||e.target,i!==t){st(e,"currentTarget",{configurable:!0,get(){return i||n}});try{for(var h,v=[];i!==null;){var g=i.parentNode||i.host||null;try{var f=i["__"+r];if(f!==void 0&&!i.disabled)if(S(f)){var[c,...p]=f;c.apply(i,[e,...p])}else f.call(i,e)}catch(b){h?v.push(b):h=b}if(e.cancelBubble||g===t||g===null)break;i=g}if(h){for(let b of v)queueMicrotask(()=>{throw b});throw h}}finally{e.__root=t,i=t}}}function Zn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function tt(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&qn)!==0,r=(t&Cn)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Zn(i?e:"<!>"+e),n||(a=Te(a)));var l=r?document.importNode(a,!0):a.cloneNode(!0);if(n){var o=Te(l),s=l.lastChild;tt(o,s)}else tt(l,l);return l}}function ye(e=""){{var t=He(e+"");return tt(t,t),t}}function T(e,t){e!==null&&e.before(t)}const Xn=["wheel","touchstart","touchmove","touchend","touchcancel"];function Qn(e){return Xn.includes(e)}function nt(e,t){t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function $n(e,t){const n=t.anchor??t.target.appendChild(He());return er(e,{...t,anchor:n})}const se=new Map;function er(e,{target:t,anchor:n,props:r={},events:a,context:i,intro:l=!0}){Mn();var o=new Set,s=v=>{for(var g=0;g<v.length;g++){var f=v[g];if(!o.has(f)){o.add(f);var c=Qn(f);t.addEventListener(f,Pe,{passive:c});var p=se.get(f);p===void 0?(document.addEventListener(f,Pe,{passive:c}),se.set(f,1)):se.set(f,p+1)}}};s(R(jt)),$e.add(s);var d=void 0,h=Rn(()=>(ae(()=>{if(i){ge({});var v=I;v.c=i}a&&(r.$$events=a),d=e(n,r)||{},i&&xe()}),()=>{for(var v of o){t.removeEventListener(v,Pe);var g=se.get(v);--g===0?(document.removeEventListener(v,Pe),se.delete(v)):se.set(v,g)}$e.delete(s),Ut.delete(d)}));return Ut.set(d,h),d}let Ut=new WeakMap;function J(e,t=!1){return Re(e,new Map)}function Re(e,t,n,r){if(typeof e=="object"&&e!==null){const i=t.get(e);if(i!==void 0)return i;if(S(e)){const l=[];t.set(e,l);for(let o=0;o<e.length;o+=1)l.push(Re(e[o],t));return l}if(ft(e)===ut){const l={};t.set(e,l);for(var a in e)l[a]=Re(e[a],t);return l}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return Re(e.toJSON(),t)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function N(e,t,n,r=null,a=!1){var i=e,l=null,o=null,s=null,d=a?ze:0;Be(()=>{s!==(s=!!t())&&(s?(l?Oe(l):l=ae(()=>n(i)),o&&Ae(o,()=>{o=null})):(o?Oe(o):r&&(o=ae(()=>r(i))),l&&Ae(l,()=>{l=null})))},d)}let rt=null;function at(e,t){return t}function tr(e,t,n,r){for(var a=[],i=t.length,l=0;l<i;l++)Ke(t[l].e,a,!0);var o=i>0&&a.length===0&&n!==null;if(o){var s=n.parentNode;Nn(s),s.append(n),r.clear(),X(e,t[0].prev,t[i-1].next)}St(a,()=>{for(var d=0;d<i;d++){var h=t[d];o||(r.delete(h.k),X(e,h.prev,h.next)),de(h.e,!o)}})}function it(e,t,n,r,a,i=null){var l=e,o={flags:t,items:new Map,first:null},s=(t&pt)!==0;if(s){var d=e;l=d.appendChild(He())}var h=null;Be(()=>{var v=n(),g=S(v)?v:v==null?[]:R(v),f=g.length;nr(g,o,l,a,t,r),i!==null&&(f===0?h?Oe(h):h=ae(()=>i(l)):h!==null&&Ae(h,()=>{h=null}))})}function nr(e,t,n,r,a,i){var $t,en,tn,nn;var l=(a&wn)!==0,o=(a&(je|Ue))!==0,s=e.length,d=t.items,h=t.first,v=h,g,f=null,c,p=[],w=[],b,k,_,u;if(l)for(u=0;u<s;u+=1)b=e[u],k=i(b,u),_=d.get(k),_!==void 0&&(($t=_.a)==null||$t.measure(),(c??(c=new Set)).add(_));for(u=0;u<s;u+=1){if(b=e[u],k=i(b,u),_=d.get(k),_===void 0){var m=v?v.e.nodes_start:n;f=ar(m,t,f,f===null?t.first:f.next,b,k,u,r,a),d.set(k,f),p=[],w=[],v=f.next;continue}if(o&&rr(_,b,u,a),_.e.f&ee&&(Oe(_.e),l&&((en=_.a)==null||en.unfix(),(c??(c=new Set)).delete(_))),_!==v){if(g!==void 0&&g.has(_)){if(p.length<w.length){var q=w[0],O;f=q.prev;var Le=p[0],lt=p[p.length-1];for(O=0;O<p.length;O+=1)Ht(p[O],q,n);for(O=0;O<w.length;O+=1)g.delete(w[O]);X(t,Le.prev,lt.next),X(t,f,Le),X(t,lt,q),v=q,f=lt,u-=1,p=[],w=[]}else g.delete(_),Ht(_,v,n),X(t,_.prev,_.next),X(t,_,f===null?t.first:f.next),X(t,f,_),f=_;continue}for(p=[],w=[];v!==null&&v.k!==k;)(g??(g=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;_=v}p.push(_),f=_,v=_.next}if(v!==null||g!==void 0){for(var ke=g===void 0?[]:R(g);v!==null;)ke.push(v),v=v.next;var ot=ke.length;if(ot>0){var Lr=a&pt&&s===0?n:null;if(l){for(u=0;u<ot;u+=1)(tn=ke[u].a)==null||tn.measure();for(u=0;u<ot;u+=1)(nn=ke[u].a)==null||nn.fix()}tr(t,ke,Lr,d)}}l&&Fn(()=>{var rn;if(c!==void 0)for(_ of c)(rn=_.a)==null||rn.apply()}),E.first=t.first&&t.first.e,E.last=f&&f.e}function rr(e,t,n,r){r&je&&P(e.v,t),r&Ue?P(e.i,n):e.i=n}function ar(e,t,n,r,a,i,l,o,s){var d=rt;try{var h=(s&je)!==0,v=(s&bn)===0,g=h?v?_t(a):Y(a):a,f=s&Ue?Y(l):l,c={i:f,v:g,k:i,a:null,e:null,prev:n,next:r};return rt=c,c.e=ae(()=>o(e,g,f),An),c.e.prev=n&&n.e,c.e.next=r&&r.e,n===null?t.first=c:(n.next=c,n.e.next=c.e),r!==null&&(r.prev=c,r.e.prev=c.e),c}finally{rt=d}}function Ht(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var l=Se(i);a.before(i),i=l}}function X(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Bt(e,t,n){var r=e,a,i;Be(()=>{a!==(a=t())&&(i&&(Ae(i),i=null),a&&(i=ae(()=>n(r,a))))})}let Kt=!1;function ir(){Kt||(Kt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function we(e,t){var n=e.__attributes??(e.__attributes={});n.value!==(n.value=t)&&(e.value=t)}function W(e,t,n,r){n=n==null?null:n+"";var a=e.__attributes??(e.__attributes={});a[t]!==(a[t]=n)&&(n===null?e.removeAttribute(t):e.setAttribute(t,n))}function Yt(e,t,n,r=n){e.addEventListener(t,n);const a=e.__on_r;a?e.__on_r=()=>{a(),r()}:e.__on_r=r,ir()}function Jt(e,t,n){Yt(e,"change",()=>{var r=e.checked;n(r)}),t()==null&&n(!1),Et(()=>{var r=t();e.checked=!!r})}function Wt(e,t,n){if(e.multiple)return sr(e,t);for(var r of e.options){var a=be(r);if(Dn(a,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function lr(e,t){Ce(()=>{var n=new MutationObserver(()=>{var r=e.__value;Wt(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function or(e,t,n){var r=!0;Yt(e,"change",()=>{var a;if(e.multiple)a=[].map.call(e.querySelectorAll(":checked"),be);else{var i=e.querySelector(":checked");a=i&&be(i)}n(a)}),Ce(()=>{var a=t();if(Wt(e,a,r),r&&a===void 0){var i=e.querySelector(":checked");i!==null&&(a=be(i),n(a))}e.__value=a,r=!1}),lr(e)}function sr(e,t){for(var n of e.options)n.selected=~t.indexOf(be(n))}function be(e){return"__value"in e?e.__value:e.value}function H(e,t,n,r){var _;var a=(n&kn)!==0,i=(n&En)!==0,l=(n&Tn)!==0,o=(n&Sn)!==0,s=e[t],d=(_=ue(e,t))==null?void 0:_.set,h=r,v=!0,g=()=>(o&&v&&(v=!1,h=zt(r)),h);s===void 0&&r!==void 0&&(d&&i&&xn(),s=g(),d&&d(s));var f;if(i)f=()=>{var u=e[t];return u===void 0?g():(v=!0,u)};else{var c=(a?_e:zn)(()=>e[t]);c.f|=vn,f=()=>{var u=x(c);return u!==void 0&&(h=void 0),u===void 0?h:u}}if(!(n&In))return f;if(d){var p=e.$$legacy;return function(u,m){return arguments.length>0?((!i||!m||p)&&d(m?f():u),u):f()}}var w=!1,b=_t(s),k=_e(()=>{var u=f(),m=x(b);return w?(w=!1,m):b.v=u});return a||(k.equals=Ve),function(u,m){var q=x(k);if(arguments.length>0){const O=m?x(k):i&&l?F(u):u;return k.equals(O)||(w=!0,P(b,O),x(k)),u}return q}}const ur="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ur);const fr=e=>JSON.stringify(e,vr),cr=e=>JSON.parse(e,dr);function Gt(e){const t=document.querySelector("body"),n=t.dataset.portalUrl,a=t.dataset.baseUrl.replace(n,"");return`svecklist-${e}:${a}`}function vr(e,t){if(typeof t=="object"&&t!==null){if(t instanceof Map)return{_meta:{type:"map"},value:Array.from(t.entries())};if(t instanceof Set)return{_meta:{type:"set"},value:Array.from(t.values())};if("_meta"in t)return{...t,_meta:{type:"escaped-meta",value:t._meta}}}return t}function dr(e,t){if(typeof t=="object"&&t!==null&&"_meta"in t){if(t._meta.type==="map")return new Map(t.value);if(t._meta.type==="set")return new Set(t.value);if(t._meta.type==="escaped-meta")return{...t,_meta:t._meta.value};console.warn("Unexpected meta",t._meta)}return t}class Zt{constructor(t,n){on(this,te,Y());ln(this,"key","");this.key=t,Ee(this,te).v=F(n);const r=localStorage.getItem(t);r&&(Ee(this,te).v=F(this.deserialize(r))),console.log(`LocalStore: deserialized data: ${this.deserialize(r)}`),console.log(this.deserialize(r)),kt(()=>{console.log("effect run inside store ;)"),localStorage.setItem(this.key,this.serialize(J(this.value)))})}get value(){return x(Ee(this,te))}set value(t){P(Ee(this,te),F(t))}save(){localStorage.setItem(this.key,this.serialize(J(this.value))),console.log(`LocalStore: serialized and saved: ${this.serialize(J(this.value))}`)}serialize(t){return fr(t)}deserialize(t){return cr(t)}}te=new WeakMap;var _r=M('<input type="checkbox" name="checkbox">'),hr=M('<input type="checkbox" name="checkbox">'),pr=M('<textarea name="text" class="svelte-1i3pq41"></textarea>'),mr=M('<div class="text svelte-1i3pq41"> </div>'),gr=M('<label class="weight svelte-1i3pq41">weight <div class="svelte-1i3pq41"><input type="text" name="weight"></div></label>'),xr=M('<label class="remove svelte-1i3pq41"><div class="svelte-1i3pq41"><button><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"></path></svg></button></div></label>'),yr=M('<div class="box svelte-1i3pq41"><label class="checkbox svelte-1i3pq41"><!> <div class="svelte-1i3pq41"><!> <!></div></label> <label class="text svelte-1i3pq41"><!> <!> <!></label> <!> <!></div>');function Xt(e,t){ge(t,!0);let n=H(t,"checked",15,!1),r=H(t,"weight",11,0),a=H(t,"mode",3,"edit");const i=oe("fillItem"),l=oe("editItem"),o=oe("removeItem");var s=yr(),d=D(s),h=D(d);N(h,()=>a()==="edit",u=>{var m=ye(" ");T(u,m)});var v=y(y(h)),g=D(v);N(g,()=>a()==="edit",u=>{var m=_r();m.__change=l,j(()=>W(m,"data-index",t.index)),Jt(m,n,q=>n(q)),T(u,m)});var f=y(y(g));N(f,()=>a()==="display",u=>{var m=hr();m.__change=i,j(()=>W(m,"data-index",t.index)),Jt(m,n,q=>n(q)),T(u,m)});var c=y(y(d)),p=D(c);N(p,()=>a()==="edit",u=>{var m=ye("check description");T(u,m)});var w=y(y(p));N(w,()=>a()==="edit",u=>{var m=pr();m.__change=l,j(()=>{W(m,"data-index",t.index),we(m,t.label)}),T(u,m)});var b=y(y(w));N(b,()=>a()==="display",u=>{var m=mr(),q=D(m);j(()=>nt(q,t.label)),T(u,m)});var k=y(y(c));N(k,()=>a()==="edit",u=>{var m=gr(),q=y(D(m)),O=D(q);O.__change=l,j(()=>{W(O,"data-index",t.index),we(O,r())}),T(u,m)});var _=y(y(k));N(_,()=>a()==="edit",u=>{var m=xr(),q=D(m),O=D(q);O.__click=o,j(()=>W(O,"data-index",t.index)),T(u,m)}),T(e,s),xe()}et(["change","click"]);var wr=M('<textarea name="textarea" class="svelte-1i3pq41"></textarea>'),br=M(' <textarea name="textarea_data" class="svelte-1i3pq41"></textarea>',1),kr=M('<label class="weight svelte-1i3pq41">weight <div class="svelte-1i3pq41"><input type="text" name="weight"></div></label>'),Er=M('<label class="remove svelte-1i3pq41"><div class="svelte-1i3pq41"><button><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"></path><path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"></path></svg></button></div></label>'),Ir=M('<div class="box pico svelte-1i3pq41"><label class="text svelte-1i3pq41"><!> <!> <!></label> <!> <!></div>');function Qt(e,t){ge(t,!0);let n=H(t,"weight",11,0),r=H(t,"mode",3,"edit");const a=oe("fillItem"),i=oe("editItem"),l=oe("removeItem");var o=Ir(),s=D(o),d=D(s);N(d,()=>r()==="edit",c=>{var p=ye("notes");T(c,p)});var h=y(y(d));N(h,()=>r()==="edit",c=>{var p=wr();p.__change=i,j(()=>{W(p,"data-index",t.index),we(p,t.label)}),T(c,p)});var v=y(y(h));N(v,()=>r()==="display",c=>{var p=br(),w=qe(p),b=y(w);b.__change=a,j(()=>{nt(w,`${t.label??""} `),W(b,"data-index",t.index),we(b,t.text)}),T(c,p)});var g=y(y(s));N(g,()=>r()==="edit",c=>{var p=kr(),w=y(D(p)),b=D(w);b.__change=i,j(()=>{W(b,"data-index",t.index),we(b,n())}),T(c,p)});var f=y(y(g));N(f,()=>r()==="edit",c=>{var p=Er(),w=D(p),b=D(w);b.__click=l,j(()=>W(b,"data-index",t.index)),T(c,p)}),T(e,o),xe()}et(["change","click"]);var Tr=M('<div class="sl-row svelte-yi3joh"><!></div>'),Sr=M("<!> <!>",1);function qr(e,t){ge(t,!0);let n=H(t,"svecklistid",3,1);const r=Gt(n());console.log(`ChecklistDisplay: localstoragekey: ${r}`);let a=new Zt(r,{schema:[],data:new Map});const i={checkbox:Xt,textfield:Qt};F([{compType:"checkbox"},{compType:"textfield"}][0].compType);function o(f){const c=f.target,p=parseInt(c.dataset.index),w=c.name;switch(console.log(`fillItem name: ${w}`),w){case"text":a.value.data.set(p,{textdata:c.value});break;case"checkbox":console.log(`checked... ${p}`),a.value.data.set(p,{checked:c.checked});break;case"textarea_data":a.value.data.set(p,{textdata:c.value});break}a.save()}Qe("fillItem",o);function s(f){console.log(`getCheckedDataForIndex: ${f}`),console.log(a.value.data);const c=a.value.data.get(f);return c&&c.hasOwnProperty("checked")?c.checked:!1}function d(f){console.log(`getTextDataForIndex: ${f}`),console.log(a.value.data);const c=a.value.data.get(f);return c&&c.hasOwnProperty("textdata")?(console.log(`found text ${c.textdata}`),c.textdata):""}var h=Sr(),v=qe(h);it(v,17,()=>a.value.schema,at,(f,c,p)=>{var w=Tr(),b=D(w),k=_e(()=>s(p)),_=_e(()=>d(p));Bt(b,()=>i[x(c).compType],(u,m)=>{m(u,{index:p,get checked(){return x(k)},get label(){return x(c).text},get text(){return x(_)},get weight(){return x(c).weight},mode:"display"})}),T(f,w)});var g=y(y(v));N(g,()=>!a.value.schema,f=>{var c=ye("No list items added.");T(f,c)}),T(e,h),xe()}function Cr(e,t,n){console.log(J(x(t))),P(t,F([...x(t),{compType:J(x(n)),checked:!1,text:"",weight:0}]))}var Ar=M("<option> </option>"),Or=M('<div class="sl-row svelte-yi3joh"><!></div>'),Dr=M('<fieldset class="flex pico svelte-yi3joh"><select></select> <input type="button" name="add" value="add box" class="svelte-yi3joh"></fieldset> <!> <!>',1);function Mr(e,t){ge(t,!0);let n=H(t,"svecklistid",3,1);const r=Gt(n());console.log(`ChecklistEdit: localstoragekey: ${r}`);const a={checkbox:Xt,textfield:Qt};let i=[{compType:"checkbox"},{compType:"textfield"}],l=new Zt(r,{schema:[],data:new Map}),o=Y(F([])),s=Y(F(i[0].compType));function d(k){const _=k.target,u=parseInt(_.dataset.index);switch(_.name){case"text":x(o)[u].text=_.value;break;case"checkbox":x(o)[u].checked=_.checked;break;case"weight":x(o)[u].weight=_.value;break;case"textarea":x(o)[u].text=_.value;break}}function h(k){k.preventDefault();const _=k.target,u=parseInt(_.dataset.index);x(o).length<=1&&P(o,F([])),P(o,F(x(o).filter((m,q)=>q!==u))),console.log(J(x(o)))}Qe("editItem",d),Qe("removeItem",h);function v(){P(o,F(l.value.schema||[]))}kt(()=>{console.log(J(x(o)),typeof J(x(o))),console.log("store data in LS:"),console.log(J(x(o))),l.value.schema=J(x(o)),l.value.data=new Map}),v();var g=Dr(),f=qe(g),c=D(f);it(c,21,()=>i,at,(k,_)=>{var u=Ar(),m={},q=D(u);j(()=>{m!==(m=x(_).compType)&&(u.value=(u.__value=x(_).compType)==null?"":x(_).compType),nt(q,x(_).compType)}),T(k,u)});var p=y(y(c));p.__click=[Cr,o,s];var w=y(y(f));it(w,17,()=>x(o),at,(k,_,u)=>{var m=Or(),q=D(m);Bt(q,()=>a[x(_).compType],(O,Le)=>{Le(O,{index:u,get label(){return x(_).text},get checked(){return x(_).checked},get weight(){return x(_).weight}})}),T(k,m)});var b=y(y(w));N(b,()=>!x(o).length,k=>{var _=ye("No list items added.");T(k,_)}),or(c,()=>x(s),k=>P(s,k)),T(e,g),xe()}et(["click"]);var Nr=M("<!> <!>",1);function Pr(e,t){let n=H(t,"svecklistid",3,1),r=H(t,"mode",3,"display");var a=Nr(),i=qe(a);N(i,()=>r()==="edit",o=>{Mr(o,{get svecklistid(){return n()}})});var l=y(y(i));N(l,()=>r()==="display",o=>{qr(o,{get svecklistid(){return n()}})}),T(e,a)}function Rr(e,t){let n=H(t,"svecklistid",3,1),r=H(t,"mode",3,"display");Pr(e,{get svecklistid(){return n()},get mode(){return r()}})}document.querySelector("body").dataset.portalUrl,new Request("",{method:"PATCH",headers:{"Content-Type":"application/json"},body:""}),document.querySelectorAll(".svecklist").forEach(e=>{$n(Rr,{target:e,props:{svecklistid:e.getAttribute("svecklistid"),mode:e.getAttribute("mode")}})})})();
//# sourceMappingURL=svecklist-main.js.map
