version: "1.0"
gai_url: http://localhost:12033
logging:
    level: INFO
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    datefmt: "%Y-%m-%d %H:%M:%S"
    filename: ""
    filemode: a
    stream: stdout
    loggers:
        gai.ttt: DEBUG
        gai.common.http_utils: DEBUG
clients:
    ttt:
        ref: dolphin3.0_llama3.1:4.25bpw:exl2
    dolphin3.0_llama3.1:4.25bpw:exl2:
        type: ttt
        client_type: gai
        model: dolphin3.0_llama3.1:4.25bpw:exl2
        url: http://gai-llm-svr:12031/gen/v1/chat/completions
    tool-web:
        type: tool
        client_type: gai
        url: http://gai-tools-web-svr:12036/tools/web/v1
    gpt-4o:
        type: ttt
        client_type: openai
    sonnet-4:
        client_type: anthropic
        type: ttt
        engine: null
        model: claude-sonnet-4-0
        name: claude-sonnet-4-0
        url: null
        env: null
        extra:
            ANTHROPIC_API_KEY: ${ANTHROPIC_API_KEY}
    mcp-web:
        type: mcp
        client_type: gai
        url: file://../../src/gai/mcp/web/mcp_server/mcp_server.py
generators:
    ttt:
        ref: dolphin3.0_llama3.1:4.25bpw:exl2

    dolphin3.0_llama3.1:4.25bpw:exl2:
        # bpw: 8 bits, size: 3.98 GB
        type: ttt
        engine: exllamav2
        model: dolphin3.0_llama3.1:4.25bpw
        name: dolphin3.0_llama3.1:4.25bpw:exl2
        hyperparameters:
            temperature: 0.85
            top_p: 0.8
            top_k: 50
            max_tokens: 1000
            tool_choice: auto
            max_retries: 5
            stop:
                - <|im_end|>
                - </s>
                - "[/INST]"
        extra:
            model_path: models/Dolphin3.0-Llama3.1-8B-4_25bpw-exl2
            max_seq_len: 8192
            prompt_format: llama
            no_flash_attn: true
            seed: null
            decode_special_tokens: false
        module:
            name: gai.llm.server.gai_exllamav2
            class: GaiExLlamav2
        source:
            type: huggingface
            repo_id: bartowski/Dolphin3.0-Llama3.1-8B-exl2
            local_dir: Dolphin3.0-Llama3.1-8B-4_25bpw-exl2
            revision: 896301e945342d032ef0b3a81b57f0d5a8bac6fe
tools:
    tool-web:
        type: "tool"
        name: "tool-web"
        extra:
            scraper:
                headless: true
                scraper_type: "playwright"
                no_cache: false
                max_content_length: 250000
                max_links: 100
                max_depth: 1
                max_retries: 3
