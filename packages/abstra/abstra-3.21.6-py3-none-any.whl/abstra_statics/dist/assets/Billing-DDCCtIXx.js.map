{"version":3,"file":"Billing-DDCCtIXx.js","sources":["../../src/apps/console/views/Billing.vue"],"sourcesContent":["<template>\n  <LoadingContainer v-if=\"loading\" />\n  <div v-else-if=\"result\">\n    <AntFlex justify=\"space-between\" align=\"center\">\n      <AntTitle :level=\"3\">Current plan: {{ result.organization.coalescedPlan }}</AntTitle>\n      <AntButton type=\"primary\" @click=\"upgrade\">Upgrade</AntButton>\n    </AntFlex>\n    <AntDivider style=\"margin-top: 0\"></AntDivider>\n    <AntFlex v-if=\"result.organization.hasUsageReport\" align=\"center\" justify=\"center\">\n      <iframe\n        :src=\"result.reportUrl\"\n        frameborder=\"0\"\n        style=\"width: 1000px; height: 1700px\"\n      ></iframe>\n    </AntFlex>\n    <AntFlex v-else align=\"center\" justify=\"center\">\n      <AntTitle :level=\"4\">No usage report available</AntTitle>\n    </AntFlex>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { asyncComputed } from '@/utils/asyncComputed';\nimport { onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { OrganizationModel } from '../apis/cloud';\nimport { Comms } from '../apis/intercom';\n\nimport LoadingContainer from '@/components/LoadingContainer.vue';\nimport {\n  Button as AntButton,\n  Divider as AntDivider,\n  Flex as AntFlex,\n  TypographyTitle as AntTitle,\n} from 'ant-design-vue';\n\nconst route = useRoute();\nconst organizationId = route.params.organizationId as string;\n\nconst { loading, result } = asyncComputed(async () => {\n  const organization = await OrganizationModel.get(organizationId);\n  const reportUrl = await organization.getUsageReportUrl();\n\n  return { organization, reportUrl };\n});\n\nonMounted(() => {\n  if (location.search.includes('upgrade')) Comms.showNewMessage('I want to upgrade my plan');\n});\n\nconst upgrade = () => Comms.showNewMessage('I want to upgrade my plan');\n</script>\n"],"names":["organizationId","useRoute","loading","result","asyncComputed","organization","OrganizationModel","reportUrl","onMounted","Comms","upgrade"],"mappings":"+zBAqCA,MAAMA,EADQC,EAAA,EACe,OAAO,eAE9B,CAAE,QAAAC,EAAS,OAAAC,CAAA,EAAWC,EAAc,SAAY,CACpD,MAAMC,EAAe,MAAMC,EAAkB,IAAIN,CAAc,EACzDO,EAAY,MAAMF,EAAa,kBAAA,EAErC,MAAO,CAAE,aAAAA,EAAc,UAAAE,CAAA,CACzB,CAAC,EAEDC,EAAU,IAAM,CACV,SAAS,OAAO,SAAS,SAAS,GAAGC,EAAM,eAAe,2BAA2B,CAC3F,CAAC,EAED,MAAMC,EAAU,IAAMD,EAAM,eAAe,2BAA2B"}