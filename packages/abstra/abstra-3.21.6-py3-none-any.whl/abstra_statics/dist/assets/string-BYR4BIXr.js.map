{"version":3,"file":"string-BYR4BIXr.js","sources":["../../src/utils/string.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport function isEmail(email: string): boolean {\n  return z.string().email().safeParse(email).success;\n}\n\nexport function capitalizeFirstLetter(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nexport function normalizeToSnakeCase(\n  str: string,\n  allowTrailingUnderscore: boolean,\n  allowMultipleUnderscores = false,\n  toLower = true,\n  keepSlashes = false,\n  allowHyphen = true,\n) {\n  const lower = toLower ? str.toLocaleLowerCase() : str;\n  const unaccented = lower.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\n  const allowedChars = `a-zA-Z0-9${keepSlashes ? '/' : ''}${allowHyphen ? '-' : ''}`;\n  const regex = new RegExp(`[^${allowedChars}]`, 'g');\n  const underscored = unaccented.replace(regex, '_');\n\n  const aggregated = allowMultipleUnderscores ? underscored : underscored.replace(/_+/g, '_');\n\n  if (!allowTrailingUnderscore) {\n    return aggregated.replace(/_$/, '');\n  } else {\n    return aggregated;\n  }\n}\n\nexport function normalizeToKebabCase(str: string) {\n  const lower = str.toLocaleLowerCase().trim();\n  const unaccented = lower.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n  const alphanumericPattern = /[a-z0-9]+/g;\n  const matches = unaccented.match(alphanumericPattern);\n  return matches?.join('-') ?? '';\n}\n\nexport function validateJson(str: string): boolean {\n  try {\n    JSON.parse(str);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function fuzzyMatch(search: string, target: string) {\n  if (search.length === 0) return false;\n  if (target.length === 0) return false;\n  const searchLower = search.toLowerCase();\n  const targetLower = target.toLowerCase();\n  const charMatches: number[] | false = searchLower.split('').reduce((acc, searchChar) => {\n    if (acc === false) return false;\n    const lastIdx = acc[acc.length - 1] ?? null;\n    if (lastIdx === null) {\n      const targetCharIdx = targetLower.indexOf(searchChar);\n      if (targetCharIdx === -1) return false;\n      return [targetCharIdx];\n    } else {\n      const targetSearchSpace = targetLower.slice(lastIdx + 1);\n      const targetCharIdx = targetSearchSpace.indexOf(searchChar);\n      if (targetCharIdx === -1) return false;\n      return [...acc, lastIdx + 1 + targetCharIdx];\n    }\n  }, [] as number[] | false);\n  return charMatches;\n}\n"],"names":["isEmail","email","z","capitalizeFirstLetter","str","normalizeToSnakeCase","allowTrailingUnderscore","allowMultipleUnderscores","toLower","keepSlashes","allowHyphen","unaccented","allowedChars","regex","underscored","aggregated","normalizeToKebabCase","alphanumericPattern","fuzzyMatch","search","target","searchLower","targetLower","acc","searchChar","lastIdx","targetCharIdx"],"mappings":"wWAEO,SAASA,EAAQC,EAAwB,CAC9C,OAAOC,EAAE,SAAS,QAAQ,UAAUD,CAAK,EAAE,OAC7C,CAEO,SAASE,EAAsBC,EAAa,CACjD,OAAOA,EAAI,OAAO,CAAC,EAAE,cAAgBA,EAAI,MAAM,CAAC,CAClD,CAEO,SAASC,EACdD,EACAE,EACAC,EAA2B,GAC3BC,EAAU,GACVC,EAAc,GACdC,EAAc,GACd,CAEA,MAAMC,GADQH,EAAUJ,EAAI,kBAAA,EAAsBA,GACzB,UAAU,KAAK,EAAE,QAAQ,mBAAoB,EAAE,EAElEQ,EAAe,YAAYH,EAAc,IAAM,EAAE,GAAGC,EAAc,IAAM,EAAE,GAC1EG,EAAQ,IAAI,OAAO,KAAKD,CAAY,IAAK,GAAG,EAC5CE,EAAcH,EAAW,QAAQE,EAAO,GAAG,EAE3CE,EAAaR,EAA2BO,EAAcA,EAAY,QAAQ,MAAO,GAAG,EAE1F,OAAKR,EAGIS,EAFAA,EAAW,QAAQ,KAAM,EAAE,CAItC,CAEO,SAASC,EAAqBZ,EAAa,CAEhD,MAAMO,EADQP,EAAI,kBAAA,EAAoB,KAAA,EACb,UAAU,KAAK,EAAE,QAAQ,mBAAoB,EAAE,EAClEa,EAAsB,aAE5B,OADgBN,EAAW,MAAMM,CAAmB,GACpC,KAAK,GAAG,GAAK,EAC/B,CAWO,SAASC,EAAWC,EAAgBC,EAAgB,CAEzD,GADID,EAAO,SAAW,GAClBC,EAAO,SAAW,EAAG,MAAO,GAChC,MAAMC,EAAcF,EAAO,YAAA,EACrBG,EAAcF,EAAO,YAAA,EAe3B,OAdsCC,EAAY,MAAM,EAAE,EAAE,OAAO,CAACE,EAAKC,IAAe,CACtF,GAAID,IAAQ,GAAO,MAAO,GAC1B,MAAME,EAAUF,EAAIA,EAAI,OAAS,CAAC,GAAK,KACvC,GAAIE,IAAY,KAAM,CACpB,MAAMC,EAAgBJ,EAAY,QAAQE,CAAU,EACpD,OAAIE,IAAkB,GAAW,GAC1B,CAACA,CAAa,CACvB,KAAO,CAEL,MAAMA,EADoBJ,EAAY,MAAMG,EAAU,CAAC,EACf,QAAQD,CAAU,EAC1D,OAAIE,IAAkB,GAAW,GAC1B,CAAC,GAAGH,EAAKE,EAAU,EAAIC,CAAa,CAC7C,CACF,EAAG,CAAA,CAAsB,CAE3B"}