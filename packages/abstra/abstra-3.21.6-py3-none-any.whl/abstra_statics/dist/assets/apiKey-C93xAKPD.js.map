{"version":3,"file":"apiKey-C93xAKPD.js","sources":["../../src/apps/console/apis/cloud/apiKey.ts"],"sourcesContent":["import { CloudApiGateway } from './gateway';\n\ntype ApiKeyDTO = {\n  name: string;\n  value?: string;\n  id: string;\n  createdAt: string;\n  createdBy: string;\n};\n\nclass ApiKeyAPI {\n  private urlPath = `api-keys`;\n\n  async create({ projectId, name }: { projectId: string; name: string }): Promise<ApiKeyDTO> {\n    return CloudApiGateway.post(`projects/${projectId}/${this.urlPath}`, {\n      name,\n    });\n  }\n\n  async delete(projectId: string, key: string): Promise<void> {\n    await CloudApiGateway.delete(`projects/${projectId}/${this.urlPath}/${key}`);\n  }\n\n  async list(projectId: string): Promise<ApiKeyDTO[]> {\n    return CloudApiGateway.get(`projects/${projectId}/${this.urlPath}`);\n  }\n}\n\nconst api = new ApiKeyAPI();\n\nexport class ApiKeyModel {\n  private constructor(private dto: ApiKeyDTO) {}\n\n  public static async list(projectId: string): Promise<ApiKeyModel[]> {\n    const dtos = await api.list(projectId);\n    return dtos.map((dto) => new ApiKeyModel(dto));\n  }\n\n  static async create(creationDto: { projectId: string; name: string }): Promise<ApiKeyModel> {\n    const responseDto = await api.create(creationDto);\n    return new ApiKeyModel(responseDto);\n  }\n\n  static async delete(projectId: string, key: string): Promise<void> {\n    await api.delete(projectId, key);\n  }\n\n  get id(): string {\n    return this.dto.id;\n  }\n\n  get name(): string {\n    return this.dto.name;\n  }\n\n  get createdAt(): Date {\n    return new Date(this.dto.createdAt);\n  }\n\n  get ownerId(): string {\n    return this.dto.createdBy;\n  }\n\n  get value(): string | null {\n    return this.dto.value ?? null;\n  }\n}\n"],"names":["ApiKeyAPI","projectId","name","CloudApiGateway","key","api","ApiKeyModel","dto","creationDto","responseDto"],"mappings":"qYAUA,MAAMA,CAAU,CACN,QAAU,WAElB,MAAM,OAAO,CAAE,UAAAC,EAAW,KAAAC,GAAiE,CACzF,OAAOC,EAAgB,KAAK,YAAYF,CAAS,IAAI,KAAK,OAAO,GAAI,CACnE,KAAAC,CAAA,CACD,CACH,CAEA,MAAM,OAAOD,EAAmBG,EAA4B,CAC1D,MAAMD,EAAgB,OAAO,YAAYF,CAAS,IAAI,KAAK,OAAO,IAAIG,CAAG,EAAE,CAC7E,CAEA,MAAM,KAAKH,EAAyC,CAClD,OAAOE,EAAgB,IAAI,YAAYF,CAAS,IAAI,KAAK,OAAO,EAAE,CACpE,CACF,CAEA,MAAMI,EAAM,IAAIL,EAET,MAAMM,CAAY,CACf,YAAoBC,EAAgB,CAAhB,KAAA,IAAAA,CAAiB,CAE7C,aAAoB,KAAKN,EAA2C,CAElE,OADa,MAAMI,EAAI,KAAKJ,CAAS,GACzB,IAAKM,GAAQ,IAAID,EAAYC,CAAG,CAAC,CAC/C,CAEA,aAAa,OAAOC,EAAwE,CAC1F,MAAMC,EAAc,MAAMJ,EAAI,OAAOG,CAAW,EAChD,OAAO,IAAIF,EAAYG,CAAW,CACpC,CAEA,aAAa,OAAOR,EAAmBG,EAA4B,CACjE,MAAMC,EAAI,OAAOJ,EAAWG,CAAG,CACjC,CAEA,IAAI,IAAa,CACf,OAAO,KAAK,IAAI,EAClB,CAEA,IAAI,MAAe,CACjB,OAAO,KAAK,IAAI,IAClB,CAEA,IAAI,WAAkB,CACpB,OAAO,IAAI,KAAK,KAAK,IAAI,SAAS,CACpC,CAEA,IAAI,SAAkB,CACpB,OAAO,KAAK,IAAI,SAClB,CAEA,IAAI,OAAuB,CACzB,OAAO,KAAK,IAAI,OAAS,IAC3B,CACF"}