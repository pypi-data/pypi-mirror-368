{"version":3,"file":"ProjectLogin-D-9RagYX.js","sources":["../../src/widgets-lib/common/components/Loading.vue","../../src/apps/editor/views/ProjectLogin.vue"],"sourcesContent":["<template>\n  <div v-show=\"loading\" class=\"v-spinner\">\n    <div class=\"v-beat v-beat-odd\" :style=\"spinnerStyle\"></div>\n    <div class=\"v-beat v-beat-even\" :style=\"spinnerStyle\"></div>\n    <div class=\"v-beat v-beat-odd\" :style=\"spinnerStyle\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue';\n\nexport default defineComponent({\n  props: {\n    loading: {\n      type: Boolean,\n      default: true,\n    },\n    color: {\n      type: String,\n      default: '#ea576a',\n    },\n    size: {\n      type: String,\n      default: '10px',\n    },\n    radius: {\n      type: String,\n      default: '100%',\n    },\n  },\n  setup(props) {\n    const state = reactive({\n      spinnerStyle: {\n        width: props.size,\n        height: props.size,\n        borderRadius: props.radius,\n        backgroundColor: props.color,\n      },\n    });\n\n    return {\n      ...toRefs(state),\n    };\n  },\n});\n</script>\n\n<style scoped>\n.v-spinner .v-beat {\n  -webkit-animation: v-beatStretchDelay 0.7s infinite linear;\n  animation: v-beatStretchDelay 0.7s infinite linear;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  display: inline-block;\n}\n.v-spinner .v-beat-odd {\n  animation-delay: 0s;\n}\n.v-spinner .v-beat-even {\n  animation-delay: 0.35s;\n}\n@-webkit-keyframes v-beatStretchDelay {\n  50% {\n    -webkit-transform: scale(0.75);\n    transform: scale(0.75);\n    -webkit-opacity: 0.2;\n    opacity: 0.2;\n  }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    -webkit-opacity: 1;\n    opacity: 1;\n  }\n}\n@keyframes v-beatStretchDelay {\n  50% {\n    -webkit-transform: scale(0.75);\n    transform: scale(0.75);\n    -webkit-opacity: 0.2;\n    opacity: 0.2;\n  }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    -webkit-opacity: 1;\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <BaseLayout>\n    <template #navbar>\n      <APageHeader style=\"padding: 5px 25px; border: 1px solid #f0f0f0\">\n        <template #title>\n          <AbstraLogo />\n        </template>\n      </APageHeader>\n    </template>\n    <template #content\n      ><div class=\"content\"><Loading /></div>\n    </template>\n  </BaseLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport AbstraLogo from '@/components/AbstraLogo.vue';\nimport BaseLayout from '@/components/BaseLayout.vue';\nimport Loading from '@/widgets-lib/common/components/Loading.vue';\nimport { PageHeader as APageHeader } from 'ant-design-vue';\nimport { onMounted } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useCloudProjectStore } from '../stores/cloudProject';\n\nconst route = useRoute();\nconst router = useRouter();\nconst store = useCloudProjectStore();\n\nfunction removeApiKeyFromUrl() {\n  const url = new URL(location.href);\n  url.searchParams.delete('api-key');\n  router.replace(url.pathname + url.search);\n}\n\nfunction parseApiKeyFromUrl() {\n  const apiKey = route.query['api-key'];\n  if (typeof apiKey !== 'string') {\n    return;\n  }\n  return apiKey;\n}\n\nonMounted(async () => {\n  const apiKey = parseApiKeyFromUrl();\n  if (!apiKey) {\n    router.push({ name: 'error' });\n    return;\n  }\n  await store.createLogin(apiKey).then(removeApiKeyFromUrl);\n  router.push({ name: 'editor' });\n  return;\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n</style>\n"],"names":["_sfc_main$1","defineComponent","props","state","reactive","toRefs","_hoisted_1","_withDirectives","_openBlock","_createElementBlock","_createElementVNode","_normalizeStyle","_ctx","route","useRoute","router","useRouter","store","useCloudProjectStore","removeApiKeyFromUrl","url","parseApiKeyFromUrl","apiKey","onMounted"],"mappings":"uhCAWA,MAAAA,EAAeC,EAAgB,CAC7B,MAAO,CACL,QAAS,CACP,KAAM,QACN,QAAS,EAAA,EAEX,MAAO,CACL,KAAM,OACN,QAAS,SAAA,EAEX,KAAM,CACJ,KAAM,OACN,QAAS,MAAA,EAEX,OAAQ,CACN,KAAM,OACN,QAAS,MAAA,CACX,EAEF,MAAMC,EAAO,CACX,MAAMC,EAAQC,EAAS,CACrB,aAAc,CACZ,MAAOF,EAAM,KACb,OAAQA,EAAM,KACd,aAAcA,EAAM,OACpB,gBAAiBA,EAAM,KAAA,CACzB,CACD,EAED,MAAO,CACL,GAAGG,EAAOF,CAAK,CAAA,CAEnB,CACF,CAAC,EA3CuBG,EAAA,CAAA,MAAM,WAAA,0BAA5B,OAAAC,GAAAC,EAAA,EAAAC,EAIM,MAJNH,EAIM,CAHJI,EAA2D,MAAA,CAAtD,MAAM,oBAAqB,MAAKC,EAAEC,EAAA,YAAY,CAAA,EAAA,KAAA,CAAA,EACnDF,EAA4D,MAAA,CAAvD,MAAM,qBAAsB,MAAKC,EAAEC,EAAA,YAAY,CAAA,EAAA,KAAA,CAAA,EACpDF,EAA2D,MAAA,CAAtD,MAAM,oBAAqB,MAAKC,EAAEC,EAAA,YAAY,CAAA,EAAA,KAAA,CAAA,aAHxCA,EAAA,OAAO,CAAA,CAAA,sHCuBtB,MAAMC,EAAQC,EAAA,EACRC,EAASC,EAAA,EACTC,EAAQC,EAAA,EAEd,SAASC,GAAsB,CAC7B,MAAMC,EAAM,IAAI,IAAI,SAAS,IAAI,EACjCA,EAAI,aAAa,OAAO,SAAS,EACjCL,EAAO,QAAQK,EAAI,SAAWA,EAAI,MAAM,CAC1C,CAEA,SAASC,GAAqB,CAC5B,MAAMC,EAAST,EAAM,MAAM,SAAS,EACpC,GAAI,OAAOS,GAAW,SAGtB,OAAOA,CACT,CAEA,OAAAC,EAAU,SAAY,CACpB,MAAMD,EAASD,EAAA,EACf,GAAI,CAACC,EAAQ,CACXP,EAAO,KAAK,CAAE,KAAM,OAAA,CAAS,EAC7B,MACF,CACA,MAAME,EAAM,YAAYK,CAAM,EAAE,KAAKH,CAAmB,EACxDJ,EAAO,KAAK,CAAE,KAAM,QAAA,CAAU,CAEhC,CAAC"}