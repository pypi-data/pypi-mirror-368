{
  "circuits": [
    {
      "name": "main",
      "parent": null,
      "description": "\nThe top-level circuit:\n  - 5V -> regulator -> 3.3V\n  - ESP32 subcircuit (usb_bus, spi_bus, int_bus)\n  - USB port\n  - IMU subcircuit\n  - LEDs on 5V & 3V3 lines\n",
      "components": {
        "R7": {
          "symbol": "Device:R",
          "value": "330",
          "footprint": "Resistor_SMD:R_0603"
        },
        "D5": {
          "symbol": "Device:LED",
          "value": "LED",
          "footprint": "LED_SMD:LED_0603_1608Metric"
        },
        "R8": {
          "symbol": "Device:R",
          "value": "330",
          "footprint": "Resistor_SMD:R_0603"
        },
        "D6": {
          "symbol": "Device:LED",
          "value": "LED",
          "footprint": "LED_SMD:LED_0603_1608Metric"
        }
      },
      "nets": {
        "5V": [
          {
            "component": "R7",
            "pin_id": 1
          }
        ],
        "N$9": [
          {
            "component": "R7",
            "pin_id": 2
          },
          {
            "component": "D5",
            "pin_id": 1
          }
        ],
        "GND": [
          {
            "component": "D5",
            "pin_id": 2
          },
          {
            "component": "D6",
            "pin_id": 2
          }
        ],
        "3V3": [
          {
            "component": "R8",
            "pin_id": 1
          }
        ],
        "N$10": [
          {
            "component": "R8",
            "pin_id": 2
          },
          {
            "component": "D6",
            "pin_id": 1
          }
        ]
      }
    },
    {
      "name": "regulator",
      "parent": "main",
      "description": "\nA simple 3.3V regulator with input + output caps.\n",
      "components": {
        "U1": {
          "symbol": "Regulator_Linear:NCP1117-3.3_SOT223",
          "value": null,
          "footprint": "Package_TO_SOT_SMD:SOT-223-3_TabPin2"
        },
        "C1": {
          "symbol": "Device:C",
          "value": "10uF",
          "footprint": "Capacitor_SMD:C_0805"
        },
        "C2": {
          "symbol": "Device:C",
          "value": "10uF",
          "footprint": "Capacitor_SMD:C_0805"
        }
      },
      "nets": {
        "N$4": [
          {
            "component": "U1",
            "pin_id": 1
          },
          {
            "component": "C1",
            "pin_id": 2
          },
          {
            "component": "C2",
            "pin_id": 2
          }
        ],
        "N$2": [
          {
            "component": "U1",
            "pin_id": 2
          },
          {
            "component": "C2",
            "pin_id": 1
          }
        ],
        "5V": [
          {
            "component": "U1",
            "pin_id": 3
          },
          {
            "component": "C1",
            "pin_id": 1
          }
        ]
      }
    },
    {
      "name": "Comms_processor",
      "parent": "main",
      "description": "\nMain processor subcircuit (ESP32-S3), hooking up USB, SPI, interrupt lines,\nplus a debug header and a resistor divider for HW version detect.\n",
      "components": {
        "U2": {
          "symbol": "RF_Module:ESP32-S3-MINI-1",
          "value": null,
          "footprint": "RF_Module:ESP32-S2-MINI-1"
        },
        "C3": {
          "symbol": "Device:C",
          "value": "10uF",
          "footprint": "Capacitor_SMD:C_0603"
        },
        "D1": {
          "symbol": "Device:LED",
          "value": "LED",
          "footprint": "LED_SMD:LED_0603_1608Metric"
        },
        "R3": {
          "symbol": "Device:R",
          "value": "330",
          "footprint": "Resistor_SMD:R_0603"
        }
      },
      "nets": {
        "N$4": [
          {
            "component": "U2",
            "pin_id": 1
          }
        ],
        "N$2": [
          {
            "component": "U2",
            "pin_id": 3
          },
          {
            "component": "C3",
            "pin_id": 1
          }
        ],
        "HW_VER": [
          {
            "component": "U2",
            "pin_id": 5
          }
        ],
        "N$7": [
          {
            "component": "U2",
            "pin_id": 10
          },
          {
            "component": "R3",
            "pin_id": 1
          }
        ],
        "SPI_MI": [
          {
            "component": "U2",
            "pin_id": 11
          }
        ],
        "SPI_MO": [
          {
            "component": "U2",
            "pin_id": 12
          }
        ],
        "SPI_SCK": [
          {
            "component": "U2",
            "pin_id": 13
          }
        ],
        "SPI_CS": [
          {
            "component": "U2",
            "pin_id": 14
          }
        ],
        "INT1": [
          {
            "component": "U2",
            "pin_id": 15
          }
        ],
        "INT2": [
          {
            "component": "U2",
            "pin_id": 16
          }
        ],
        "USB_DN": [
          {
            "component": "U2",
            "pin_id": 19
          }
        ],
        "USB_DP": [
          {
            "component": "U2",
            "pin_id": 20
          }
        ],
        "N$3": [
          {
            "component": "U2",
            "pin_id": 33
          }
        ],
        "N$6": [
          {
            "component": "U2",
            "pin_id": 34
          }
        ],
        "N$5": [
          {
            "component": "U2",
            "pin_id": 35
          }
        ],
        "N$1": [
          {
            "component": "U2",
            "pin_id": 40
          }
        ],
        "GND": [
          {
            "component": "C3",
            "pin_id": 2
          },
          {
            "component": "D1",
            "pin_id": 2
          }
        ],
        "N$8": [
          {
            "component": "D1",
            "pin_id": 1
          },
          {
            "component": "R3",
            "pin_id": 2
          }
        ]
      }
    },
    {
      "name": "Debug_Header",
      "parent": "Comms_processor",
      "description": "\n2x03 header giving access to EN, TX, RX, IO0, etc.\n",
      "components": {
        "J2": {
          "symbol": "Connector_Generic:Conn_02x03_Odd_Even",
          "value": null,
          "footprint": "Connector_IDC:IDC-Header_2x03_P2.54mm_Vertical"
        }
      },
      "nets": {
        "N$1": [
          {
            "component": "J2",
            "pin_id": 1
          }
        ],
        "N$2": [
          {
            "component": "J2",
            "pin_id": 2
          }
        ],
        "N$3": [
          {
            "component": "J2",
            "pin_id": 3
          }
        ],
        "N$4": [
          {
            "component": "J2",
            "pin_id": 4
          }
        ],
        "N$5": [
          {
            "component": "J2",
            "pin_id": 5
          }
        ],
        "N$6": [
          {
            "component": "J2",
            "pin_id": 6
          }
        ]
      }
    },
    {
      "name": "HW_version",
      "parent": "Comms_processor",
      "description": "\nA resistor divider from 3.3V down to GND,\ntapping 'HW_VER' net in the middle.\n",
      "components": {
        "R1": {
          "symbol": "Device:R",
          "value": "10K",
          "footprint": "Resistor_SMD:R_0805"
        },
        "R2": {
          "symbol": "Device:R",
          "value": "10K",
          "footprint": "Resistor_SMD:R_0805"
        }
      },
      "nets": {
        "3V3": [
          {
            "component": "R1",
            "pin_id": 1
          }
        ],
        "HW_VER": [
          {
            "component": "R1",
            "pin_id": 2
          },
          {
            "component": "R2",
            "pin_id": 1
          }
        ],
        "GND": [
          {
            "component": "R2",
            "pin_id": 2
          }
        ]
      }
    },
    {
      "name": "USB_Port",
      "parent": "main",
      "description": "\nUSB-C port example with ESD diodes, 22-ohm inline resistors, CC resistor.\n",
      "components": {
        "J1": {
          "symbol": "Connector:USB_C_Plug_USB2.0",
          "value": null,
          "footprint": "Connector_USB:USB_C_Receptacle_GCT_USB4105-xx-A_16P_TopMnt_Horizontal"
        },
        "D2": {
          "symbol": "Diode:ESD5Zxx",
          "value": null,
          "footprint": "Diode_SMD:D_SOD-523"
        },
        "R4": {
          "symbol": "Device:R",
          "value": "5.1k",
          "footprint": "Resistor_SMD:R_0603"
        },
        "R5": {
          "symbol": "Device:R",
          "value": "22",
          "footprint": "Resistor_SMD:R_0603"
        },
        "D3": {
          "symbol": "Diode:ESD5Zxx",
          "value": null,
          "footprint": "Diode_SMD:D_SOD-523"
        },
        "R6": {
          "symbol": "Device:R",
          "value": "22",
          "footprint": "Resistor_SMD:R_0603"
        },
        "D4": {
          "symbol": "Diode:ESD5Zxx",
          "value": null,
          "footprint": "Diode_SMD:D_SOD-523"
        }
      },
      "nets": {
        "GND": [
          {
            "component": "J1",
            "pin_id": 1
          },
          {
            "component": "D2",
            "pin_id": 2
          },
          {
            "component": "R4",
            "pin_id": 2
          },
          {
            "component": "D3",
            "pin_id": 2
          },
          {
            "component": "D4",
            "pin_id": 2
          }
        ],
        "5V": [
          {
            "component": "J1",
            "pin_id": 3
          },
          {
            "component": "D2",
            "pin_id": 1
          }
        ],
        "N$1": [
          {
            "component": "J1",
            "pin_id": 4
          },
          {
            "component": "R4",
            "pin_id": 1
          }
        ],
        "N$3": [
          {
            "component": "J1",
            "pin_id": 5
          },
          {
            "component": "R6",
            "pin_id": 1
          }
        ],
        "N$2": [
          {
            "component": "J1",
            "pin_id": 6
          },
          {
            "component": "R5",
            "pin_id": 1
          }
        ],
        "USB_DN": [
          {
            "component": "R5",
            "pin_id": 2
          },
          {
            "component": "D3",
            "pin_id": 1
          }
        ],
        "USB_DP": [
          {
            "component": "R6",
            "pin_id": 2
          },
          {
            "component": "D4",
            "pin_id": 1
          }
        ]
      }
    },
    {
      "name": "IMU_Circuit",
      "parent": "main",
      "description": "\nExample IMU subcircuit using an LSM6DSL, connected to SPI + INT lines.\n",
      "components": {
        "U3": {
          "symbol": "Sensor_Motion:LSM6DSL",
          "value": null,
          "footprint": "Package_LGA:LGA-14_3x2.5mm_P0.5mm_LayoutBorder3x4y"
        },
        "C4": {
          "symbol": "Device:C",
          "value": "10uF",
          "footprint": "Capacitor_SMD:C_0603"
        }
      },
      "nets": {
        "SPI_MI": [
          {
            "component": "U3",
            "pin_id": 1
          }
        ],
        "SPI_CS": [
          {
            "component": "U3",
            "pin_id": 4
          }
        ],
        "SPI_MO": [
          {
            "component": "U3",
            "pin_id": 7
          }
        ],
        "SPI_SCK": [
          {
            "component": "U3",
            "pin_id": 8
          }
        ],
        "INT1": [
          {
            "component": "U3",
            "pin_id": 9
          }
        ],
        "3V3": [
          {
            "component": "U3",
            "pin_id": 10
          },
          {
            "component": "U3",
            "pin_id": 13
          },
          {
            "component": "C4",
            "pin_id": 1
          }
        ],
        "GND": [
          {
            "component": "U3",
            "pin_id": 11
          },
          {
            "component": "U3",
            "pin_id": 12
          },
          {
            "component": "C4",
            "pin_id": 2
          }
        ],
        "INT2": [
          {
            "component": "U3",
            "pin_id": 14
          }
        ]
      }
    }
  ]
}