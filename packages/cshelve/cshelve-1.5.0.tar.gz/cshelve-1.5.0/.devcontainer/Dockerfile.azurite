# Due to multiple errors with the official azurite image, we are using the azurite CLI instead
FROM node

RUN npm install -g azurite

# The option: --skipApiVersionCheck is temporary https://github.com/Azure/Azurite/issues/2562#issuecomment-3095055757
CMD azurite --debug /azurite/debug.log --inMemoryPersistence --blobHost 0.0.0.0 --skipApiVersionCheck
