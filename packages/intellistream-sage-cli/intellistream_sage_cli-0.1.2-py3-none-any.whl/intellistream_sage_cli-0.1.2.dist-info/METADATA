Metadata-Version: 2.4
Name: intellistream-sage-cli
Version: 0.1.2
Summary: SAGE Framework - å‘½ä»¤è¡Œå·¥å…·åŒ…ï¼Œæä¾›é›†ç¾¤ç®¡ç†ã€ä½œä¸šéƒ¨ç½²å’Œé…ç½®ç®¡ç†åŠŸèƒ½
Author-email: IntelliStream Team <intellistream@outlook.com>
License: MIT
Project-URL: Homepage, https://github.com/intellistream/SAGE
Project-URL: Repository, https://github.com/intellistream/SAGE.git
Project-URL: Documentation, https://intellistream.github.io/SAGE-Pub/
Project-URL: Issues, https://github.com/intellistream/SAGE/issues
Keywords: cli,command-line,sage,cluster,management,deployment,job,ray,intellistream
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Systems Administration
Classifier: Topic :: Utilities
Classifier: Environment :: Console
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: typer>=0.15.0
Requires-Dist: rich>=13.0.0
Requires-Dist: click>=8.0.0
Requires-Dist: pyyaml>=6.0.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: psutil>=5.9.0
Requires-Dist: shellingham>=1.5.0
Requires-Dist: intellistream-sage-kernel>=0.1.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-mock>=3.10.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: types-PyYAML>=6.0.0; extra == "dev"
Provides-Extra: enhanced
Requires-Dist: questionary>=1.10.0; extra == "enhanced"
Requires-Dist: prompt_toolkit>=3.0.50; extra == "enhanced"
Requires-Dist: colorama>=0.4.6; extra == "enhanced"
Requires-Dist: tabulate>=0.9.0; extra == "enhanced"
Provides-Extra: full
Requires-Dist: intellistream-sage-cli[enhanced]; extra == "full"

# SAGE CLI

SAGE Framework çš„å‘½ä»¤è¡Œå·¥å…·åŒ…ï¼Œæä¾›é›†ç¾¤ç®¡ç†ã€ä½œä¸šéƒ¨ç½²å’Œé…ç½®ç®¡ç†åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **é›†ç¾¤ç®¡ç†**: Ray é›†ç¾¤çš„å¯åŠ¨ã€åœæ­¢å’Œç›‘æ§
- **ä½œä¸šç®¡ç†**: SAGE ä½œä¸šçš„æäº¤ã€ç›‘æ§å’Œç®¡ç†  
- **éƒ¨ç½²ç®¡ç†**: ç³»ç»Ÿç»„ä»¶çš„ä¸€é”®éƒ¨ç½²å’Œé…ç½®
- **é…ç½®ç®¡ç†**: ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶ç®¡ç†å’Œç¯å¢ƒè®¾ç½®

### ğŸ“‹ å‘½ä»¤æ¦‚è§ˆ
- `sage config` - é…ç½®ç®¡ç†
- `sage deploy` - ç³»ç»Ÿéƒ¨ç½²
- `sage job` - ä½œä¸šç®¡ç†
- `sage cluster` - é›†ç¾¤ç®¡ç†
- `sage worker` - Worker èŠ‚ç‚¹ç®¡ç†
- `sage head` - Head èŠ‚ç‚¹ç®¡ç†

## å®‰è£…

```bash
pip install intsage-cli
```

### å¼€å‘å®‰è£…
```bash
pip install intsage-cli[dev]
```

### å®Œæ•´åŠŸèƒ½å®‰è£…
```bash
pip install intsage-cli[full]
```

## å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–é…ç½®
```bash
sage config init
```

### 2. å¯åŠ¨ SAGE ç³»ç»Ÿ
```bash
sage deploy start
```

### 3. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
```bash
sage cluster status
```

### 4. æäº¤ä½œä¸š
```bash
sage job submit my_job.py
```

## å‘½ä»¤å‚è€ƒ

### é…ç½®ç®¡ç† (`sage config`)
```bash
# æ˜¾ç¤ºæ‰€æœ‰é…ç½®
sage config show

# è®¾ç½®é…ç½®é¡¹
sage config set ray.head_port 10001

# è·å–é…ç½®é¡¹
sage config get ray.head_port
```

### éƒ¨ç½²ç®¡ç† (`sage deploy`)
```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿ (Ray + JobManager)
sage deploy start

# ä»…å¯åŠ¨ Ray é›†ç¾¤
sage deploy start --ray-only

# ä»…å¯åŠ¨ JobManager
sage deploy start --daemon-only

# åœæ­¢ç³»ç»Ÿ
sage deploy stop
```

### é›†ç¾¤ç®¡ç† (`sage cluster`)
```bash
# æŸ¥çœ‹é›†ç¾¤çŠ¶æ€
sage cluster status

# å¯åŠ¨é›†ç¾¤
sage cluster start

# åœæ­¢é›†ç¾¤
sage cluster stop

# é‡å¯é›†ç¾¤
sage cluster restart
```

### ä½œä¸šç®¡ç† (`sage job`)
```bash
# æäº¤ä½œä¸š
sage job submit script.py

# æŸ¥çœ‹ä½œä¸šçŠ¶æ€
sage job status [job_id]

# åˆ—å‡ºæ‰€æœ‰ä½œä¸š
sage job list

# å–æ¶ˆä½œä¸š
sage job cancel job_id

# æŸ¥çœ‹ä½œä¸šæ—¥å¿—
sage job logs job_id
```

## é…ç½®æ–‡ä»¶

CLI å·¥å…·ä½¿ç”¨ `~/.sage/config.yaml` ä½œä¸ºé»˜è®¤é…ç½®æ–‡ä»¶ï¼š

```yaml
ray:
  head_port: 10001
  dashboard_port: 8265
  object_store_memory: 1000000000

jobmanager:
  port: 8080
  max_jobs: 100

deployment:
  log_level: INFO
  auto_scaling: true
```

## ç¯å¢ƒå˜é‡

- `SAGE_CONFIG_PATH`: è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„
- `SAGE_LOG_LEVEL`: æ—¥å¿—çº§åˆ« (DEBUG, INFO, WARNING, ERROR)
- `RAY_ADDRESS`: Ray é›†ç¾¤åœ°å€
- `SAGE_HOME`: SAGE å®‰è£…ç›®å½•

## å¼€å‘

### é¡¹ç›®ç»“æ„
```
src/sage/cli/
â”œâ”€â”€ __init__.py              # CLI æ¨¡å—åˆå§‹åŒ–
â”œâ”€â”€ main.py                  # ä¸»å‘½ä»¤å…¥å£ç‚¹
â”œâ”€â”€ config_manager.py        # é…ç½®ç®¡ç†
â”œâ”€â”€ deploy.py               # éƒ¨ç½²ç®¡ç†
â”œâ”€â”€ job.py                  # ä½œä¸šç®¡ç†  
â”œâ”€â”€ cluster_manager.py      # é›†ç¾¤ç®¡ç†
â”œâ”€â”€ worker_manager.py       # Worker ç®¡ç†
â”œâ”€â”€ head_manager.py         # Head èŠ‚ç‚¹ç®¡ç†
â”œâ”€â”€ jobmanager_controller.py # JobManager æ§åˆ¶å™¨
â””â”€â”€ extensions.py           # æ‰©å±•ç®¡ç†
```

### è¿è¡Œæµ‹è¯•
```bash
pytest tests/
```

### ä»£ç æ ¼å¼åŒ–
```bash
black src/sage/cli/
ruff check src/sage/cli/
```

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](../../LICENSE) æ–‡ä»¶ã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](../../CONTRIBUTING.md) äº†è§£è¯¦ç»†æŒ‡å—ã€‚

## æ”¯æŒ

- ğŸ“– [æ–‡æ¡£](https://intellistream.github.io/SAGE-Pub/)
- ğŸ› [é—®é¢˜æŠ¥å‘Š](https://github.com/intellistream/SAGE/issues)
- ğŸ’¬ [è®¨è®º](https://github.com/intellistream/SAGE/discussions)
