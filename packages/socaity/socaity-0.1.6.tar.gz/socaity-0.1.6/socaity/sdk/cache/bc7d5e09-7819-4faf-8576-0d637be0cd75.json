{"id": "bc7d5e09-7819-4faf-8576-0d637be0cd75", "display_name": "zsxkib/diffbir", "description": null, "short_desc": null, "endpoints": [{"id": "predictions", "display_name": "predictions", "description": "", "short_desc": null, "path": "/predictions", "parameters": [{"name": "seed", "type": "integer", "required": false, "default": 231, "location": "body", "param_schema": {"type": "integer", "title": "Seed", "default": 231, "x-order": 18, "description": "Random seed to ensure reproducibility. Setting this ensures that multiple runs with the same input produce the same output."}, "description": "Random seed to ensure reproducibility. Setting this ensures that multiple runs with the same input produce the same output."}, {"name": "input", "type": ["file", "string"], "required": true, "default": null, "location": "body", "param_schema": {"type": "string", "title": "Input", "format": "uri", "x-order": 0, "description": "Path to the input image you want to enhance."}, "description": "Path to the input image you want to enhance."}, {"name": "steps", "type": "integer", "required": false, "default": 50, "location": "body", "param_schema": {"type": "integer", "title": "Steps", "default": 50, "maximum": 100, "minimum": 1, "x-order": 4, "description": "The number of enhancement iterations to perform. More steps might result in a clearer image but can also introduce artifacts."}, "description": "The number of enhancement iterations to perform. More steps might result in a clearer image but can also introduce artifacts."}, {"name": "tiled", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Tiled", "default": false, "x-order": 8, "description": "Whether to use patch-based sampling. This can be useful for very large images to enhance them in smaller chunks rather than all at once."}, "description": "Whether to use patch-based sampling. This can be useful for very large images to enhance them in smaller chunks rather than all at once."}, {"name": "tile_size", "type": "integer", "required": false, "default": 512, "location": "body", "param_schema": {"type": "integer", "title": "Tile Size", "default": 512, "x-order": 9, "description": "Size of each tile (or patch) when 'tiled' option is enabled. Determines how the image is divided during patch-based enhancement."}, "description": "Size of each tile (or patch) when 'tiled' option is enabled. Determines how the image is divided during patch-based enhancement."}, {"name": "has_aligned", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Has Aligned", "default": false, "x-order": 19, "description": "For 'faces' mode: Indicates if the input images are already cropped and aligned to faces. If not, the model will attempt to do this."}, "description": "For 'faces' mode: Indicates if the input images are already cropped and aligned to faces. If not, the model will attempt to do this."}, {"name": "tile_stride", "type": "integer", "required": false, "default": 256, "location": "body", "param_schema": {"type": "integer", "title": "Tile Stride", "default": 256, "x-order": 10, "description": "Distance between the start of each tile when the image is divided for patch-based enhancement. A smaller stride means more overlap between tiles."}, "description": "Distance between the start of each tile when the image is divided for patch-based enhancement. A smaller stride means more overlap between tiles."}, {"name": "repeat_times", "type": "integer", "required": false, "default": 1, "location": "body", "param_schema": {"type": "integer", "title": "Repeat Times", "default": 1, "maximum": 10, "minimum": 1, "x-order": 6, "description": "Number of times the enhancement process is repeated by feeding the output back as input. This can refine the result but might also introduce over-enhancement issues."}, "description": "Number of times the enhancement process is repeated by feeding the output back as input. This can refine the result but might also introduce over-enhancement issues."}, {"name": "use_guidance", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Use Guidance", "default": false, "x-order": 11, "description": "Use latent image guidance for enhancement. This can help in achieving more accurate and contextually relevant enhancements."}, "description": "Use latent image guidance for enhancement. This can help in achieving more accurate and contextually relevant enhancements."}, {"name": "color_fix_type", "type": "string", "required": false, "default": "wavelet", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/color_fix_type"}], "default": "wavelet", "x-order": 17, "description": "Method used for color correction post enhancement. 'wavelet' and 'adain' offer different styles of color correction, while 'none' skips this step."}, "description": "Method used for color correction post enhancement. 'wavelet' and 'adain' offer different styles of color correction, while 'none' skips this step."}, {"name": "guidance_scale", "type": "number", "required": false, "default": 0, "location": "body", "param_schema": {"type": "number", "title": "Guidance Scale", "default": 0, "x-order": 12, "description": "For 'general_scenes': Scale factor for the guidance mechanism. Adjusts the influence of guidance on the enhancement process."}, "description": "For 'general_scenes': Scale factor for the guidance mechanism. Adjusts the influence of guidance on the enhancement process."}, {"name": "guidance_space", "type": "string", "required": false, "default": "latent", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/guidance_space"}], "default": "latent", "x-order": 15, "description": "For 'general_scenes': Determines in which space (RGB or latent) the guidance operates. 'latent' can often provide more subtle and context-aware enhancements."}, "description": "For 'general_scenes': Determines in which space (RGB or latent) the guidance operates. 'latent' can often provide more subtle and context-aware enhancements."}, {"name": "guidance_repeat", "type": "integer", "required": false, "default": 5, "location": "body", "param_schema": {"type": "integer", "title": "Guidance Repeat", "default": 5, "x-order": 16, "description": "For 'general_scenes': Number of times the guidance process is repeated during enhancement."}, "description": "For 'general_scenes': Number of times the guidance process is repeated during enhancement."}, {"name": "only_center_face", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Only Center Face", "default": false, "x-order": 20, "description": "For 'faces' mode: If multiple faces are detected, only enhance the center-most face in the image."}, "description": "For 'faces' mode: If multiple faces are detected, only enhance the center-most face in the image."}, {"name": "guidance_time_stop", "type": "integer", "required": false, "default": -1, "location": "body", "param_schema": {"type": "integer", "title": "Guidance Time Stop", "default": -1, "x-order": 14, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism stops influencing the enhancement."}, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism stops influencing the enhancement."}, {"name": "guidance_time_start", "type": "integer", "required": false, "default": 1001, "location": "body", "param_schema": {"type": "integer", "title": "Guidance Time Start", "default": 1001, "x-order": 13, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism starts influencing the enhancement."}, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism starts influencing the enhancement."}, {"name": "background_upsampler", "type": "string", "required": false, "default": "RealESRGAN", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/background_upsampler"}], "default": "RealESRGAN", "x-order": 22, "description": "For 'faces' mode: Model used to upscale the background in images where the primary subject is a face."}, "description": "For 'faces' mode: Model used to upscale the background in images where the primary subject is a face."}, {"name": "face_detection_model", "type": "string", "required": false, "default": "retinaface_resnet50", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/face_detection_model"}], "default": "retinaface_resnet50", "x-order": 21, "description": "For 'faces' mode: Model used for detecting faces in the image. Choose based on accuracy and speed preferences."}, "description": "For 'faces' mode: Model used for detecting faces in the image. Choose based on accuracy and speed preferences."}, {"name": "upscaling_model_type", "type": "string", "required": false, "default": "general_scenes", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/upscaling_model_type"}], "default": "general_scenes", "x-order": 1, "description": "Choose the type of model best suited for the primary content of the image: 'faces' for portraits and 'general_scenes' for everything else."}, "description": "Choose the type of model best suited for the primary content of the image: 'faces' for portraits and 'general_scenes' for everything else."}, {"name": "restoration_model_type", "type": "string", "required": false, "default": "general_scenes", "location": "body", "param_schema": {"allOf": [{"$ref": "#/components/schemas/restoration_model_type"}], "default": "general_scenes", "x-order": 2, "description": "Select the restoration model that aligns with the content of your image. This model is responsible for image restoration which removes degradations."}, "description": "Select the restoration model that aligns with the content of your image. This model is responsible for image restoration which removes degradations."}, {"name": "super_resolution_factor", "type": "integer", "required": false, "default": 4, "location": "body", "param_schema": {"type": "integer", "title": "Super Resolution Factor", "default": 4, "maximum": 4, "minimum": 1, "x-order": 5, "description": "Factor by which the input image resolution should be increased. For instance, a factor of 4 will make the resolution 4 times greater in both height and width."}, "description": "Factor by which the input image resolution should be increased. For instance, a factor of 4 will make the resolution 4 times greater in both height and width."}, {"name": "disable_preprocess_model", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Disable Preprocess Model", "default": false, "x-order": 7, "description": "Disables the initial preprocessing step using SwinIR. Turn this off if your input image is already of high quality and doesn't require restoration."}, "description": "Disables the initial preprocessing step using SwinIR. Turn this off if your input image is already of high quality and doesn't require restoration."}, {"name": "reload_restoration_model", "type": "boolean", "required": false, "default": false, "location": "body", "param_schema": {"type": "boolean", "title": "Reload Restoration Model", "default": false, "x-order": 3, "description": "Reload the image restoration model (SwinIR) if set to True. This can be useful if you've updated or changed the underlying SwinIR model."}, "description": "Reload the image restoration model (SwinIR) if set to True. This can be useful if you've updated or changed the underlying SwinIR model."}, {"name": "background_upsampler_tile", "type": "integer", "required": false, "default": 400, "location": "body", "param_schema": {"type": "integer", "title": "Background Upsampler Tile", "default": 400, "x-order": 23, "description": "For 'faces' mode: Size of each tile used by the background upsampler when dividing the image into patches."}, "description": "For 'faces' mode: Size of each tile used by the background upsampler when dividing the image into patches."}, {"name": "background_upsampler_tile_stride", "type": "integer", "required": false, "default": 400, "location": "body", "param_schema": {"type": "integer", "title": "Background Upsampler Tile Stride", "default": 400, "x-order": 24, "description": "For 'faces' mode: Distance between the start of each tile when the background is divided for upscaling. A smaller stride means more overlap between tiles."}, "description": "For 'faces' mode: Distance between the start of each tile when the background is divided for upscaling. A smaller stride means more overlap between tiles."}], "responses": {"200": {"description": "Successful prediction", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Output"}}}}}, "timeout_s": null}], "specification": "socaity", "used_models": [], "category": ["0e50e16b-a3e3-443f-8bcd-d48b25d57ff6"], "family_id": "87d1bdb4-b289-4157-a82f-8fbf741923be", "service_address": {"url": "http://localhost:8001/v1/zsxkib/diffbir"}, "created_at": "2025-08-12T10:19:53.736597+00:00", "version": "f9614999550265e2d784eb2e27339bf8087f84cd", "schemas": {"Input": {"type": "object", "title": "Input", "required": ["input"], "properties": {"seed": {"type": "integer", "title": "Seed", "default": 231, "x-order": 18, "description": "Random seed to ensure reproducibility. Setting this ensures that multiple runs with the same input produce the same output."}, "input": {"type": "string", "title": "Input", "format": "uri", "x-order": 0, "description": "Path to the input image you want to enhance."}, "steps": {"type": "integer", "title": "Steps", "default": 50, "maximum": 100, "minimum": 1, "x-order": 4, "description": "The number of enhancement iterations to perform. More steps might result in a clearer image but can also introduce artifacts."}, "tiled": {"type": "boolean", "title": "Tiled", "default": false, "x-order": 8, "description": "Whether to use patch-based sampling. This can be useful for very large images to enhance them in smaller chunks rather than all at once."}, "tile_size": {"type": "integer", "title": "Tile Size", "default": 512, "x-order": 9, "description": "Size of each tile (or patch) when 'tiled' option is enabled. Determines how the image is divided during patch-based enhancement."}, "has_aligned": {"type": "boolean", "title": "Has Aligned", "default": false, "x-order": 19, "description": "For 'faces' mode: Indicates if the input images are already cropped and aligned to faces. If not, the model will attempt to do this."}, "tile_stride": {"type": "integer", "title": "Tile Stride", "default": 256, "x-order": 10, "description": "Distance between the start of each tile when the image is divided for patch-based enhancement. A smaller stride means more overlap between tiles."}, "repeat_times": {"type": "integer", "title": "Repeat Times", "default": 1, "maximum": 10, "minimum": 1, "x-order": 6, "description": "Number of times the enhancement process is repeated by feeding the output back as input. This can refine the result but might also introduce over-enhancement issues."}, "use_guidance": {"type": "boolean", "title": "Use Guidance", "default": false, "x-order": 11, "description": "Use latent image guidance for enhancement. This can help in achieving more accurate and contextually relevant enhancements."}, "color_fix_type": {"allOf": [{"$ref": "#/components/schemas/color_fix_type"}], "default": "wavelet", "x-order": 17, "description": "Method used for color correction post enhancement. 'wavelet' and 'adain' offer different styles of color correction, while 'none' skips this step."}, "guidance_scale": {"type": "number", "title": "Guidance Scale", "default": 0, "x-order": 12, "description": "For 'general_scenes': Scale factor for the guidance mechanism. Adjusts the influence of guidance on the enhancement process."}, "guidance_space": {"allOf": [{"$ref": "#/components/schemas/guidance_space"}], "default": "latent", "x-order": 15, "description": "For 'general_scenes': Determines in which space (RGB or latent) the guidance operates. 'latent' can often provide more subtle and context-aware enhancements."}, "guidance_repeat": {"type": "integer", "title": "Guidance Repeat", "default": 5, "x-order": 16, "description": "For 'general_scenes': Number of times the guidance process is repeated during enhancement."}, "only_center_face": {"type": "boolean", "title": "Only Center Face", "default": false, "x-order": 20, "description": "For 'faces' mode: If multiple faces are detected, only enhance the center-most face in the image."}, "guidance_time_stop": {"type": "integer", "title": "Guidance Time Stop", "default": -1, "x-order": 14, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism stops influencing the enhancement."}, "guidance_time_start": {"type": "integer", "title": "Guidance Time Start", "default": 1001, "x-order": 13, "description": "For 'general_scenes': Specifies when (at which step) the guidance mechanism starts influencing the enhancement."}, "background_upsampler": {"allOf": [{"$ref": "#/components/schemas/background_upsampler"}], "default": "RealESRGAN", "x-order": 22, "description": "For 'faces' mode: Model used to upscale the background in images where the primary subject is a face."}, "face_detection_model": {"allOf": [{"$ref": "#/components/schemas/face_detection_model"}], "default": "retinaface_resnet50", "x-order": 21, "description": "For 'faces' mode: Model used for detecting faces in the image. Choose based on accuracy and speed preferences."}, "upscaling_model_type": {"allOf": [{"$ref": "#/components/schemas/upscaling_model_type"}], "default": "general_scenes", "x-order": 1, "description": "Choose the type of model best suited for the primary content of the image: 'faces' for portraits and 'general_scenes' for everything else."}, "restoration_model_type": {"allOf": [{"$ref": "#/components/schemas/restoration_model_type"}], "default": "general_scenes", "x-order": 2, "description": "Select the restoration model that aligns with the content of your image. This model is responsible for image restoration which removes degradations."}, "super_resolution_factor": {"type": "integer", "title": "Super Resolution Factor", "default": 4, "maximum": 4, "minimum": 1, "x-order": 5, "description": "Factor by which the input image resolution should be increased. For instance, a factor of 4 will make the resolution 4 times greater in both height and width."}, "disable_preprocess_model": {"type": "boolean", "title": "Disable Preprocess Model", "default": false, "x-order": 7, "description": "Disables the initial preprocessing step using SwinIR. Turn this off if your input image is already of high quality and doesn't require restoration."}, "reload_restoration_model": {"type": "boolean", "title": "Reload Restoration Model", "default": false, "x-order": 3, "description": "Reload the image restoration model (SwinIR) if set to True. This can be useful if you've updated or changed the underlying SwinIR model."}, "background_upsampler_tile": {"type": "integer", "title": "Background Upsampler Tile", "default": 400, "x-order": 23, "description": "For 'faces' mode: Size of each tile used by the background upsampler when dividing the image into patches."}, "background_upsampler_tile_stride": {"type": "integer", "title": "Background Upsampler Tile Stride", "default": 400, "x-order": 24, "description": "For 'faces' mode: Distance between the start of each tile when the background is divided for upscaling. A smaller stride means more overlap between tiles."}}}, "Output": {"type": "array", "items": {"type": "string", "format": "uri"}, "title": "Output"}, "Status": {"enum": ["starting", "processing", "succeeded", "canceled", "failed"], "type": "string", "title": "Status", "description": "An enumeration."}, "WebhookEvent": {"enum": ["start", "output", "logs", "completed"], "type": "string", "title": "WebhookEvent", "description": "An enumeration."}, "color_fix_type": {"enum": ["wavelet", "adain", "none"], "type": "string", "title": "color_fix_type", "description": "An enumeration."}, "guidance_space": {"enum": ["rgb", "latent"], "type": "string", "title": "guidance_space", "description": "An enumeration."}, "ValidationError": {"type": "object", "title": "ValidationError", "required": ["loc", "msg", "type"], "properties": {"loc": {"type": "array", "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}}, "PredictionRequest": {"type": "object", "title": "PredictionRequest", "properties": {"id": {"type": "string", "title": "Id"}, "input": {"$ref": "#/components/schemas/Input"}, "webhook": {"type": "string", "title": "Webhook", "format": "uri", "maxLength": 65536, "minLength": 1}, "created_at": {"type": "string", "title": "Created At", "format": "date-time"}, "output_file_prefix": {"type": "string", "title": "Output File Prefix"}, "webhook_events_filter": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookEvent"}, "default": ["start", "output", "logs", "completed"]}}}, "PredictionResponse": {"type": "object", "title": "PredictionResponse", "properties": {"id": {"type": "string", "title": "Id"}, "logs": {"type": "string", "title": "Logs", "default": ""}, "error": {"type": "string", "title": "Error"}, "input": {"$ref": "#/components/schemas/Input"}, "output": {"$ref": "#/components/schemas/Output"}, "status": {"$ref": "#/components/schemas/Status"}, "metrics": {"type": "object", "title": "Metrics"}, "version": {"type": "string", "title": "Version"}, "created_at": {"type": "string", "title": "Created At", "format": "date-time"}, "started_at": {"type": "string", "title": "Started At", "format": "date-time"}, "completed_at": {"type": "string", "title": "Completed At", "format": "date-time"}}}, "HTTPValidationError": {"type": "object", "title": "HTTPValidationError", "properties": {"detail": {"type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}, "title": "Detail"}}}, "background_upsampler": {"enum": ["DiffBIR", "RealESRGAN"], "type": "string", "title": "background_upsampler", "description": "An enumeration."}, "face_detection_model": {"enum": ["retinaface_resnet50", "retinaface_mobile0.25", "YOLOv5l", "YOLOv5n", "dlib"], "type": "string", "title": "face_detection_model", "description": "An enumeration."}, "upscaling_model_type": {"enum": ["faces", "general_scenes"], "type": "string", "title": "upscaling_model_type", "description": "An enumeration."}, "restoration_model_type": {"enum": ["faces", "general_scenes"], "type": "string", "title": "restoration_model_type", "description": "An enumeration."}}}