Metadata-Version: 2.4
Name: intellistream-sage-utils
Version: 0.1.3
Summary: SAGE Framework - é€šç”¨å·¥å…·åº“ï¼ŒåŒ…å«é…ç½®ç®¡ç†ã€æ—¥å¿—è®°å½•ç­‰åŸºç¡€åŠŸèƒ½
Home-page: https://github.com/intellistream/SAGE
Author: IntelliStream Team
Author-email: IntelliStream Team <intellistream@outlook.com>
Project-URL: Homepage, https://github.com/intellistream/SAGE
Project-URL: Documentation, https://intellistream.github.io/SAGE
Project-URL: Repository, https://github.com/intellistream/SAGE
Project-URL: Bug Tracker, https://github.com/intellistream/SAGE/issues
Keywords: utils,config,logging,intellistream,sage,utilities,configuration,logger
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Logging
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: pyyaml>=6.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: platformdirs>=3.0.0
Requires-Dist: typing-extensions>=4.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: pytest-mock>=3.10.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: isort>=5.10.0; extra == "dev"
Requires-Dist: flake8>=5.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Provides-Extra: test
Requires-Dist: pytest>=7.0.0; extra == "test"
Requires-Dist: pytest-cov>=4.0.0; extra == "test"
Requires-Dist: pytest-mock>=3.10.0; extra == "test"

# SAGE Utils

é€šç”¨å·¥å…·åº“ï¼Œä¸ºSAGEæ¡†æ¶æä¾›åŸºç¡€çš„é…ç½®ç®¡ç†ã€æ—¥å¿—è®°å½•ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ é…ç½®ç®¡ç† (Config)
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒYAMLã€JSONã€TOMLç­‰é…ç½®æ–‡ä»¶æ ¼å¼
- **æ™ºèƒ½è·¯å¾„æŸ¥æ‰¾**: æ”¯æŒé¡¹ç›®çº§ã€ç”¨æˆ·çº§ã€ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶è‡ªåŠ¨å‘ç°
- **ç¯å¢ƒå˜é‡è¦†ç›–**: æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡åŠ¨æ€è¦†ç›–é…ç½®é¡¹
- **é…ç½®éªŒè¯**: åŸºäºPydanticçš„é…ç½®é¡¹éªŒè¯å’Œç±»å‹æ£€æŸ¥
- **ç¼“å­˜æœºåˆ¶**: é«˜æ•ˆçš„é…ç½®åŠ è½½å’Œç¼“å­˜ç­–ç•¥

### ğŸ“ æ—¥å¿—è®°å½• (Logging)
- **å¤šè¾“å‡ºç›®æ ‡**: æ”¯æŒæ§åˆ¶å°ã€æ–‡ä»¶ç­‰å¤šç§è¾“å‡ºç›®æ ‡
- **å½©è‰²è¾“å‡º**: æ”¯æŒä¸åŒæ—¥å¿—çº§åˆ«çš„é¢œè‰²åŒºåˆ†
- **IDEå‹å¥½**: æ ¼å¼åŒ–è¾“å‡ºæ”¯æŒIDEç‚¹å‡»è·³è½¬
- **çº¿ç¨‹å®‰å…¨**: å…¨å±€è°ƒè¯•å¼€å…³çš„çº¿ç¨‹å®‰å…¨æ§åˆ¶
- **åŠ¨æ€é…ç½®**: è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´æ—¥å¿—è¾“å‡ºé…ç½®

## å®‰è£…

```bash
pip install intellistream-sage-utils
```

## å¿«é€Ÿå¼€å§‹

### é…ç½®ç®¡ç†

```python
from sage.utils.config.loader import load_config
from sage.utils.config.manager import ConfigManager, BaseConfig

# ç®€å•é…ç½®åŠ è½½
config = load_config("config.yaml")  # è‡ªåŠ¨æŸ¥æ‰¾é…ç½®æ–‡ä»¶

# ä½¿ç”¨é…ç½®ç®¡ç†å™¨
manager = ConfigManager("./config")
config = manager.load("app.yaml")
manager.save("app.yaml", {"key": "value"})

# ä½¿ç”¨é…ç½®ç±»
class AppConfig(BaseConfig):
    app_name: str = "myapp"
    debug: bool = False
    port: int = 8000

config = AppConfig(app_name="sage", debug=True)
```

### æ—¥å¿—è®°å½•

```python
from sage.utils.logging.custom_logger import CustomLogger

# åŸºæœ¬ç”¨æ³•
logger = CustomLogger([
    ("console", "INFO"),           # æ§åˆ¶å°è¾“å‡º
    ("app.log", "DEBUG"),         # æ–‡ä»¶è¾“å‡º(ç›¸å¯¹è·¯å¾„)
    ("/tmp/error.log", "ERROR")   # æ–‡ä»¶è¾“å‡º(ç»å¯¹è·¯å¾„)
], name="MyApp", log_base_folder="./logs")

logger.info("åº”ç”¨å¯åŠ¨")
logger.error("å‘ç”Ÿé”™è¯¯", exc_info=True)

# å…¨å±€è°ƒè¯•æ§åˆ¶
CustomLogger.disable_global_console_debug()  # å…³é—­æ‰€æœ‰æ§åˆ¶å°è°ƒè¯•è¾“å‡º
CustomLogger.enable_global_console_debug()   # å¯ç”¨æ‰€æœ‰æ§åˆ¶å°è°ƒè¯•è¾“å‡º
```

## æ¨¡å—ç»“æ„

```
sage/
â””â”€â”€ utils/
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ loader.py      # é…ç½®æ–‡ä»¶åŠ è½½å™¨
    â”‚   â””â”€â”€ manager.py     # é…ç½®ç®¡ç†å™¨
    â””â”€â”€ logging/
        â”œâ”€â”€ custom_formatter.py  # è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼åŒ–å™¨
        â””â”€â”€ custom_logger.py     # è‡ªå®šä¹‰æ—¥å¿—è®°å½•å™¨
```

## é…ç½®æ–‡ä»¶æŸ¥æ‰¾ä¼˜å…ˆçº§

é…ç½®åŠ è½½å™¨æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼š

1. **æ˜¾å¼è·¯å¾„**: ç›´æ¥æŒ‡å®šçš„é…ç½®æ–‡ä»¶è·¯å¾„
2. **ç¯å¢ƒå˜é‡**: `SAGE_CONFIG` ç¯å¢ƒå˜é‡æŒ‡å®šçš„è·¯å¾„
3. **é¡¹ç›®çº§é…ç½®**: `<é¡¹ç›®æ ¹ç›®å½•>/config/config.yaml`
4. **ç”¨æˆ·çº§é…ç½®**: `~/.config/sage/config.yaml`
5. **ç³»ç»Ÿçº§é…ç½®**: `/etc/sage/config.yaml` (Linux/macOS)

## æ—¥å¿—è¾“å‡ºæ ¼å¼

æ—¥å¿—è¾“å‡ºé‡‡ç”¨IDEå‹å¥½çš„ä¸¤è¡Œæ ¼å¼ï¼š

```
2024-08-08 10:30:45 | INFO  | MyApp | /path/to/file.py:123 â†’
    åº”ç”¨å¯åŠ¨æˆåŠŸï¼Œç›‘å¬ç«¯å£ï¼š8000
```

## å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
pip install -e ".[dev]"
```

### è¿è¡Œæµ‹è¯•

```bash
pytest
pytest --cov=sage.utils  # å¸¦è¦†ç›–ç‡
```

### ä»£ç æ ¼å¼åŒ–

```bash
black src/ tests/
isort src/ tests/
flake8 src/ tests/
```

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚
