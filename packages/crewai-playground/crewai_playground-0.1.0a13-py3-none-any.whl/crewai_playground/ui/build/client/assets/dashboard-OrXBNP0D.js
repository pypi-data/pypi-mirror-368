import{w}from"./store-BDLt0vbv.js";import{l as e,r as o}from"./chunk-GNGMS2XR-KLeu_BA0.js";import{c as g,a as u,L as N,W as x,N as d,B as l,b as v,Z as b}from"./Layout-CP5Hc7nX.js";import{C as f}from"./card-DMpzrDC2.js";import{C as h}from"./clock-D9RgnNZI.js";import{C as y}from"./circle-alert-CVY5oy2y.js";function C({className:s,...a}){return e.jsx("div",{className:g("animate-pulse rounded-md bg-muted",s),...a})}/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],_=u("BookUser",k);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I=u("CircleCheck",D);function H(){return[{title:"CrewAI - Dashboard"},{name:"description",content:"Dashboard for CrewAI Playground"}]}function i({title:s,value:a,icon:r,isLoading:t=!1}){return e.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:s}),e.jsx(r,{className:"h-6 w-6 text-muted-foreground"})]}),t?e.jsx(C,{className:"h-10 w-16"}):e.jsx("p",{className:"text-4xl font-bold",children:a})]})}function A({flow:s}){const a={running:e.jsx(h,{className:"h-5 w-5 text-blue-500"}),failed:e.jsx(y,{className:"h-5 w-5 text-red-500"}),completed:e.jsx(I,{className:"h-5 w-5 text-green-500"})},r=t=>a[t]||e.jsx(h,{className:"h-5 w-5 text-gray-500"});return e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"h-5 w-5 mr-2 text-primary"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("div",{className:"flex items-center",children:[r(s.status),e.jsx("span",{className:"ml-2 text-sm capitalize",children:s.status})]})]})})}function S({trace:s}){const a=new Date(s.timestamp*1e3).toLocaleString();return e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.crew_name||"Unknown Crew"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a})]}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>window.open(`/traces/${s.id}`,"_blank"),children:"View"})]})})}const M=w(function(){const[a,r]=o.useState(!0),[t,j]=o.useState({counts:{crews:0,tools:0,flows:0},recent_traces:[],active_flows:[]});return o.useEffect(()=>{const c=async()=>{try{r(!0);const n=await(await fetch("/api/dashboard")).json();n.status==="success"&&n.data?j(n.data):console.error("Failed to fetch dashboard data:",n)}catch(m){console.error("Error fetching dashboard data:",m)}finally{r(!1)}};c();const p=setInterval(c,3e4);return()=>clearInterval(p)},[]),e.jsxs(N,{children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(i,{title:"Crews",value:t.counts.crews,icon:_,isLoading:a}),e.jsx(i,{title:"Tools",value:t.counts.tools,icon:x,isLoading:a}),e.jsx(i,{title:"Flows",value:t.counts.flows,icon:d,isLoading:a})]}),t.active_flows.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Active Flows"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.active_flows.map(c=>e.jsx(A,{flow:c},c.id))})]}),t.recent_traces.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Recent Activity"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.recent_traces.map(c=>e.jsx(S,{trace:c},c.id))})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs(l,{className:"h-auto py-6 flex flex-col items-center justify-center gap-2",onClick:()=>window.location.href="/chat",children:[e.jsx(v,{className:"h-8 w-8"}),e.jsx("span",{children:"Start Chat"})]}),e.jsxs(l,{className:"h-auto py-6 flex flex-col items-center justify-center gap-2",onClick:()=>window.location.href="/kickoff",children:[e.jsx(b,{className:"h-8 w-8"}),e.jsx("span",{children:"Kickoff Crew"})]}),e.jsxs(l,{className:"h-auto py-6 flex flex-col items-center justify-center gap-2",onClick:()=>window.location.href="/flow",children:[e.jsx(d,{className:"h-8 w-8"}),e.jsx("span",{children:"Run Flow"})]}),e.jsxs(l,{className:"h-auto py-6 flex flex-col items-center justify-center gap-2",onClick:()=>window.location.href="/tools",children:[e.jsx(x,{className:"h-8 w-8"}),e.jsx("span",{children:"Explore Tools"})]})]})]})]})});export{M as default,H as meta};
