import{w as S}from"./store-BDLt0vbv.js";import{r as a,l as e}from"./chunk-GNGMS2XR-KLeu_BA0.js";import{B as b,L as T}from"./Layout-CP5Hc7nX.js";import{L as C,T as A,I as E}from"./textarea-CUBdk2de.js";import{A as I}from"./alert-DAr1l6eU.js";import"./index-BKaxNvVC.js";function B(){return[{title:"CrewAI - Tools Testing"},{name:"description",content:"Test your CrewAI tools"}]}const J=S(function(){const[n,i]=a.useState(!0),[c,y]=a.useState([]),[o,h]=a.useState(null),[d,u]=a.useState({}),[p,m]=a.useState(""),[f,l]=a.useState("");a.useEffect(()=>{(async()=>{try{i(!0);const r=await(await fetch("/api/tools")).json();r.status==="success"&&Array.isArray(r.tools)?(y(r.tools),r.tools.length>0&&(h(r.tools[0]),g(r.tools[0]))):l("Failed to load tools: "+(r.message||"Unknown error"))}catch(t){console.error("Error fetching tools:",t),l("Failed to load tools. Please check if the server is running.")}finally{i(!1)}})()},[]);const g=s=>{if(!s||!s.parameters||!s.parameters.properties){u({});return}const t={};Object.keys(s.parameters.properties).forEach(r=>{t[r]=""}),u(t)},N=s=>{h(s),g(s),m(""),l("")},j=(s,t)=>{u(r=>({...r,[s]:t}))},v=async()=>{if(o)try{i(!0),l(""),m("");const t=await(await fetch(`/api/tools/${o.name}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:d})})).json();t.status==="success"?m(typeof t.result=="object"?JSON.stringify(t.result,null,2):String(t.result)):l(t.message||"An error occurred while executing the tool")}catch(s){console.error("Error executing tool:",s),l("Failed to execute tool. Please try again.")}finally{i(!1)}},w=e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Available Tools"}),n&&c.length===0?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(s=>e.jsx(b,{variant:(o==null?void 0:o.name)===s.name?"secondary":"ghost",className:"w-full justify-start text-left",onClick:()=>N(s),children:s.name},s.name))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No tools available"})]});return e.jsx(T,{rightSidebar:w,children:e.jsx("div",{className:"p-6",children:o?e.jsxs("div",{className:"max-w-3xl mx-auto bg-card rounded-lg shadow-sm p-6 border",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:o.name}),e.jsx("p",{className:"text-muted-foreground mb-6",children:o.description}),e.jsxs("div",{className:"space-y-6 bg-muted/30 p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Parameters"}),o.parameters&&o.parameters.properties?e.jsx("div",{className:"space-y-4",children:Object.entries(o.parameters.properties).map(([s,t])=>{var r;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(C,{htmlFor:s,className:"text-base font-medium",children:[s,((r=o.parameters.required)==null?void 0:r.includes(s))&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.type==="string"&&t.description.toLowerCase().includes("multi")?e.jsx(A,{id:s,placeholder:t.description,value:d[s]||"",onChange:x=>j(s,x.target.value),className:"w-full",rows:4}):e.jsx(E,{id:s,type:t.type==="number"?"number":"text",placeholder:t.description,value:d[s]||"",onChange:x=>j(s,x.target.value),className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]},s)})}):e.jsx("p",{className:"text-muted-foreground",children:"This tool has no parameters"}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(b,{onClick:v,disabled:n,className:"px-8",children:n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin mr-2",children:"‚è≥"}),"Processing..."]}):"Execute Tool"})}),f&&e.jsx(I,{variant:"destructive",className:"mt-4",children:f}),p&&e.jsxs("div",{className:"mt-8 bg-muted/50 p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Result"}),e.jsx("div",{className:"bg-background p-4 rounded-md overflow-auto max-h-96 border",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:p})})]})]})]}):e.jsx("div",{className:"flex flex-col items-center justify-center h-64 max-w-3xl mx-auto bg-card rounded-lg shadow-sm p-6 border",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:n?"Loading tools...":"Select a tool from the sidebar"})})})})});export{J as default,B as meta};
