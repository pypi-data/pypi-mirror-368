interactions:
- request:
    body: ''
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      host:
      - api.cohere.com
      x-fern-language:
      - Python
      x-fern-sdk-name:
      - cohere
      x-fern-sdk-version:
      - 5.15.0
    method: GET
    uri: https://api.cohere.com/v1/models
  response:
    body:
      string: '{"models":[{"name":"embed-english-light-v3.0","endpoints":["embed","classify"],"finetuned":false,"context_length":512,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/embed-english-light-v3.0.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"embed-multilingual-v2.0","endpoints":["embed","classify"],"finetuned":false,"context_length":256,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/embed-multilingual-v2.0.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"rerank-v3.5","endpoints":["rerank"],"finetuned":false,"context_length":4096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/rerank-v3.5.json","supports_vision":false,"features":null,"default_endpoints":["rerank"]},{"name":"command-r-08-2024","endpoints":["generate","chat","summarize"],"finetuned":false,"context_length":132096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-r-08-2024.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":[]},{"name":"command-r-plus-08-2024","endpoints":["generate","chat","summarize"],"finetuned":false,"context_length":132096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-r-plus-08-2024.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":[]},{"name":"embed-v4.0","endpoints":["embed"],"finetuned":false,"context_length":8192,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/embed-v4.0.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"rerank-english-v3.0","endpoints":["rerank"],"finetuned":false,"context_length":4096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/rerank-english-v3.0.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"command-nightly","endpoints":["chat"],"finetuned":false,"context_length":288000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-nightly.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":[]},{"name":"command-a-03-2025","endpoints":["chat"],"finetuned":false,"context_length":288000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-a-03-2025.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":["chat"]},{"name":"embed-english-light-v3.0-image","endpoints":["embed_image"],"finetuned":false,"context_length":0,"tokenizer_url":null,"supports_vision":false,"features":null,"default_endpoints":[]},{"name":"command-r","endpoints":["generate","chat","summarize"],"finetuned":false,"context_length":132096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-r.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","tools"],"default_endpoints":[]},{"name":"embed-english-v3.0-image","endpoints":["embed_image"],"finetuned":false,"context_length":0,"tokenizer_url":null,"supports_vision":false,"features":null,"default_endpoints":[]},{"name":"command-a-vision-07-2025","endpoints":["chat"],"finetuned":false,"context_length":128000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-a-vision-07-2025.json","supports_vision":true,"features":["vision","logprobs","json_mode","json_schema","strict_tools","safety_modes"],"default_endpoints":[]},{"name":"c4ai-aya-vision-32b","endpoints":["chat"],"finetuned":false,"context_length":16384,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/c4ai-aya-vision-32b.json","supports_vision":true,"features":["logprobs","vision"],"default_endpoints":[]},{"name":"command-r7b-arabic-02-2025","endpoints":["generate","chat"],"finetuned":false,"context_length":128000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-r7b-arabic-02-2025.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":[]},{"name":"command-light-nightly","endpoints":["generate","summarize","chat"],"finetuned":false,"context_length":4096,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-light-nightly.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"embed-english-v3.0","endpoints":["embed","classify"],"finetuned":false,"context_length":512,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/embed-english-v3.0.json","supports_vision":false,"features":null,"default_endpoints":[]},{"name":"command-r7b-12-2024","endpoints":["generate","chat"],"finetuned":false,"context_length":132000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/command-r7b-12-2024.json","supports_vision":false,"features":["logprobs","json_mode","json_schema","strict_tools","safety_modes","tools"],"default_endpoints":[]},{"name":"embed-multilingual-light-v3.0-image","endpoints":["embed_image"],"finetuned":false,"context_length":0,"tokenizer_url":null,"supports_vision":false,"features":null,"default_endpoints":[]},{"name":"embed-multilingual-v3.0-image","endpoints":["embed_image"],"finetuned":false,"context_length":0,"tokenizer_url":null,"supports_vision":false,"features":null,"default_endpoints":[]},{"name":"c4ai-aya-expanse-32b","endpoints":["generate","chat"],"finetuned":false,"context_length":128000,"tokenizer_url":"https://storage.googleapis.com/cohere-public/tokenizers/c4ai-aya-expanse-32b.json","supports_vision":false,"features":null,"default_endpoints":[]}],"next_page_token":"S_-BAwEBCVBhZ2VUb2tlbgH_ggABBAECSUQBDAABC0ZUUGFnZVRva2VuAQwAAQtJbkZpbmV0dW5lcwECAAEIQ2hlY2tzdW0BBgAAAC__ggEkYTQ0Zjc3ZTMtNDIwNy00YjcyLWIyNGMtZmZiNTg0ZDQ2MWI4A_xo327JAA=="}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
      Via:
      - 1.1 google
      access-control-expose-headers:
      - X-Debug-Trace-ID
      cache-control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      content-type:
      - application/json
      date:
      - Tue, 29 Jul 2025 18:04:24 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      pragma:
      - no-cache
      vary:
      - Origin
      x-accel-expires:
      - '0'
      x-debug-trace-id:
      - 0ea71e3135c178c305fd483594fbb564
      x-endpoint-monthly-call-limit:
      - '1000'
      x-envoy-upstream-service-time:
      - '34'
      x-trial-endpoint-call-limit:
      - '100'
      x-trial-endpoint-call-remaining:
      - '93'
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "command-r", "messages": [{"role": "user", "content": "What is
      2+2-4? Tell me a joke."}], "tools": [{"type": "function", "function": {"name":
      "add", "description": "Adds two numbers together.", "parameters": {"type": "object",
      "strict": true, "properties": {"x": {"type": "integer", "description": "the
      first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}}, {"type": "function",
      "function": {"name": "subtract", "description": "Subtracts the second number
      from the first.", "parameters": {"type": "object", "strict": true, "properties":
      {"x": {"type": "integer", "description": "the first number"}, "y": {"type":
      "integer", "description": "the second number"}}, "required": ["x", "y"], "additionalProperties":
      false}}}, {"type": "function", "function": {"name": "joke", "description": "Returns
      a joke.", "parameters": {"type": "object", "strict": true, "properties": {},
      "additionalProperties": false}}}], "stream": false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1014'
      content-type:
      - application/json
      host:
      - api.cohere.com
      x-fern-language:
      - Python
      x-fern-sdk-name:
      - cohere
      x-fern-sdk-version:
      - 5.15.0
    method: POST
    uri: https://api.cohere.com/v2/chat
  response:
    body:
      string: '{"id":"ab2453ea-81f5-4d05-9fb8-9d64359c3523","message":{"role":"assistant","tool_plan":"I
        will first calculate the answer to 2+2-4, and then search for a joke.","tool_calls":[{"id":"add_kggs1hxw8gz0","type":"function","function":{"name":"add","arguments":"{\"x\":2,\"y\":2}"}},{"id":"subtract_xwp7ryf8ewps","type":"function","function":{"name":"subtract","arguments":"{\"x\":4,\"y\":2}"}},{"id":"joke_gan611fhbjvm","type":"function","function":{"name":"joke","arguments":"{}"}}]},"finish_reason":"TOOL_CALL","usage":{"billed_units":{"input_tokens":57,"output_tokens":44},"tokens":{"input_tokens":995,"output_tokens":119}}}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '622'
      Via:
      - 1.1 google
      access-control-expose-headers:
      - X-Debug-Trace-ID
      cache-control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      content-type:
      - application/json
      date:
      - Tue, 29 Jul 2025 18:04:25 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      num_chars:
      - '4640'
      num_tokens:
      - '101'
      pragma:
      - no-cache
      vary:
      - Origin
      x-accel-expires:
      - '0'
      x-debug-trace-id:
      - 282e9d06f5568223c8f80bf41367657b
      x-endpoint-monthly-call-limit:
      - '1000'
      x-envoy-upstream-service-time:
      - '999'
      x-trial-endpoint-call-limit:
      - '10'
      x-trial-endpoint-call-remaining:
      - '7'
    status:
      code: 200
      message: OK
- request:
    body: '{"model": "command-r", "messages": [{"role": "user", "content": "What is
      2+2-4? Tell me a joke."}, {"role": "assistant", "tool_plan": "I will first calculate
      the answer to 2+2-4, and then search for a joke.", "tool_calls": [{"id": "add_kggs1hxw8gz0",
      "type": "function", "function": {"name": "add", "arguments": "{\"x\":2,\"y\":2}"}},
      {"id": "subtract_xwp7ryf8ewps", "type": "function", "function": {"name": "subtract",
      "arguments": "{\"x\":4,\"y\":2}"}}, {"id": "joke_gan611fhbjvm", "type": "function",
      "function": {"name": "joke", "arguments": "{}"}}]}, {"role": "tool", "tool_call_id":
      "add_kggs1hxw8gz0", "content": [{"type": "document", "document": {"data": "4"}}]},
      {"role": "tool", "tool_call_id": "subtract_xwp7ryf8ewps", "content": [{"type":
      "document", "document": {"data": "2"}}]}, {"role": "tool", "tool_call_id": "joke_gan611fhbjvm",
      "content": [{"type": "document", "document": {"data": "Why did the chicken cross
      the road? To get to the other side!"}}]}], "tools": [{"type": "function", "function":
      {"name": "add", "description": "Adds two numbers together.", "parameters": {"type":
      "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}}, {"type": "function",
      "function": {"name": "subtract", "description": "Subtracts the second number
      from the first.", "parameters": {"type": "object", "strict": true, "properties":
      {"x": {"type": "integer", "description": "the first number"}, "y": {"type":
      "integer", "description": "the second number"}}, "required": ["x", "y"], "additionalProperties":
      false}}}, {"type": "function", "function": {"name": "joke", "description": "Returns
      a joke.", "parameters": {"type": "object", "strict": true, "properties": {},
      "additionalProperties": false}}}], "stream": false}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1885'
      content-type:
      - application/json
      host:
      - api.cohere.com
      x-fern-language:
      - Python
      x-fern-sdk-name:
      - cohere
      x-fern-sdk-version:
      - 5.15.0
    method: POST
    uri: https://api.cohere.com/v2/chat
  response:
    body:
      string: '{"id":"6a9bbf65-8656-4437-9e50-9c4909c3cc21","message":{"role":"assistant","content":[{"type":"text","text":"The
        answer to 2+2-4 is 2. \n\nHere''s a joke for you: Why did the chicken cross
        the road? To get to the other side!"}],"citations":[{"start":23,"end":24,"text":"2","sources":[{"type":"tool","id":"add_kggs1hxw8gz0:0","tool_output":{"content":"4"}},{"type":"tool","id":"subtract_xwp7ryf8ewps:0","tool_output":{"content":"2"}}],"type":"TEXT_CONTENT"},{"start":51,"end":111,"text":"Why
        did the chicken cross the road? To get to the other side","sources":[{"type":"tool","id":"joke_gan611fhbjvm:0","tool_output":{"content":"Why
        did the chicken cross the road? To get to the other side!"}}],"type":"TEXT_CONTENT"}]},"finish_reason":"COMPLETE","usage":{"billed_units":{"input_tokens":121,"output_tokens":37},"tokens":{"input_tokens":1190,"output_tokens":129}}}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Length:
      - '861'
      Via:
      - 1.1 google
      access-control-expose-headers:
      - X-Debug-Trace-ID
      cache-control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      content-type:
      - application/json
      date:
      - Tue, 29 Jul 2025 18:04:26 GMT
      expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      num_chars:
      - '5363'
      num_tokens:
      - '158'
      pragma:
      - no-cache
      vary:
      - Origin
      x-accel-expires:
      - '0'
      x-debug-trace-id:
      - 15bef35339fbdb97d4cdb73a20e0faff
      x-endpoint-monthly-call-limit:
      - '1000'
      x-envoy-upstream-service-time:
      - '1062'
      x-trial-endpoint-call-limit:
      - '10'
      x-trial-endpoint-call-remaining:
      - '6'
    status:
      code: 200
      message: OK
version: 1
