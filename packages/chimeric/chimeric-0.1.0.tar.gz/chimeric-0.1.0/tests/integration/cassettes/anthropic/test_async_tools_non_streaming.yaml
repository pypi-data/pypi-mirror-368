interactions:
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}], "model": "claude-3-5-haiku-latest", "stream":
      false, "tools": [{"name": "add", "description": "Adds two numbers together.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "subtract", "description": "Subtracts the second number from the first.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "joke", "description": "Returns a joke.", "input_schema": {"type":
      "object", "strict": true, "properties": {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '958'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"type":"error","error":{"type":"overloaded_error","message":"Overloaded"}}'
    headers:
      CF-RAY:
      - 966feb230c491337-EWR
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:38 GMT
      X-Robots-Tag:
      - none
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011CRc4x8xnJDQdxmBGXgZHp
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
      x-should-retry:
      - 'true'
    status:
      code: 529
      message: ''
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}], "model": "claude-3-5-haiku-latest", "stream":
      false, "tools": [{"name": "add", "description": "Adds two numbers together.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "subtract", "description": "Subtracts the second number from the first.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "joke", "description": "Returns a joke.", "input_schema": {"type":
      "object", "strict": true, "properties": {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '958'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_01LqHkeFSPJSrK5WCUsPbM3n","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you calculate that and then tell you a joke. Let''s break it down step
        by step:\n\nFirst, let''s calculate 2+2:"},{"type":"tool_use","id":"toolu_01DaPb2ynaWjF8uP4797bfGe","name":"add","input":{"x":2,"y":2}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":525,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":102,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb41284b1337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:43 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '50000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:41Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:43Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:40Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '60000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:41Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '540'
      request-id:
      - req_011CRc4xVY3DEkTRh4u3TpZD
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}, {"role": "assistant", "content": [{"type": "text",
      "text": "I''ll help you calculate that and then tell you a joke. Let''s break
      it down step by step:\n\nFirst, let''s calculate 2+2:"}, {"type": "tool_use",
      "id": "toolu_01DaPb2ynaWjF8uP4797bfGe", "name": "add", "input": {"x": 2, "y":
      2}}]}, {"role": "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01DaPb2ynaWjF8uP4797bfGe",
      "content": "4", "is_error": false}]}], "model": "claude-3-5-haiku-latest", "stream":
      false, "tools": [{"name": "add", "description": "Adds two numbers together.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "subtract", "description": "Subtracts the second number from the first.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "joke", "description": "Returns a joke.", "input_schema": {"type":
      "object", "strict": true, "properties": {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '1387'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_011ynEZ4H7cqgqGM1qEjb1ZM","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Now,
        let''s subtract 4:"},{"type":"tool_use","id":"toolu_018VgJLzujbx4XRxJjGsNboy","name":"subtract","input":{"x":4,"y":4}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":639,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":78,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb59bfe91337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:47 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '50000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:46Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:47Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:44Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '60000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:46Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '447'
      request-id:
      - req_011CRc4xnMaAtaAnddfDEbSV
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}, {"role": "assistant", "content": [{"type": "text",
      "text": "I''ll help you calculate that and then tell you a joke. Let''s break
      it down step by step:\n\nFirst, let''s calculate 2+2:"}, {"type": "tool_use",
      "id": "toolu_01DaPb2ynaWjF8uP4797bfGe", "name": "add", "input": {"x": 2, "y":
      2}}]}, {"role": "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01DaPb2ynaWjF8uP4797bfGe",
      "content": "4", "is_error": false}]}, {"role": "assistant", "content": [{"type":
      "text", "text": "Now, let''s subtract 4:"}, {"type": "tool_use", "id": "toolu_018VgJLzujbx4XRxJjGsNboy",
      "name": "subtract", "input": {"x": 4, "y": 4}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_018VgJLzujbx4XRxJjGsNboy", "content":
      "0", "is_error": false}]}], "model": "claude-3-5-haiku-latest", "stream": false,
      "tools": [{"name": "add", "description": "Adds two numbers together.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "subtract",
      "description": "Subtracts the second number from the first.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "joke", "description":
      "Returns a joke.", "input_schema": {"type": "object", "strict": true, "properties":
      {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '1724'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_01GxMvibgesEhGfAQZ6mccHY","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Next,
        subtract 10:"},{"type":"tool_use","id":"toolu_015hvUcwWidDyb2TuT8RWJ2a","name":"subtract","input":{"x":0,"y":10}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":729,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":76,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb741cee1337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:48 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '50000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:48Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:49Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:48Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '60000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:48Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '444'
      request-id:
      - req_011CRc4y6QGh3NGPGGqrUBZv
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}, {"role": "assistant", "content": [{"type": "text",
      "text": "I''ll help you calculate that and then tell you a joke. Let''s break
      it down step by step:\n\nFirst, let''s calculate 2+2:"}, {"type": "tool_use",
      "id": "toolu_01DaPb2ynaWjF8uP4797bfGe", "name": "add", "input": {"x": 2, "y":
      2}}]}, {"role": "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01DaPb2ynaWjF8uP4797bfGe",
      "content": "4", "is_error": false}]}, {"role": "assistant", "content": [{"type":
      "text", "text": "Now, let''s subtract 4:"}, {"type": "tool_use", "id": "toolu_018VgJLzujbx4XRxJjGsNboy",
      "name": "subtract", "input": {"x": 4, "y": 4}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_018VgJLzujbx4XRxJjGsNboy", "content":
      "0", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "Next, subtract 10:"}, {"type": "tool_use", "id": "toolu_015hvUcwWidDyb2TuT8RWJ2a",
      "name": "subtract", "input": {"x": 0, "y": 10}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_015hvUcwWidDyb2TuT8RWJ2a", "content":
      "-10", "is_error": false}]}], "model": "claude-3-5-haiku-latest", "stream":
      false, "tools": [{"name": "add", "description": "Adds two numbers together.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "subtract", "description": "Subtracts the second number from the first.",
      "input_schema": {"type": "object", "strict": true, "properties": {"x": {"type":
      "integer", "description": "the first number"}, "y": {"type": "integer", "description":
      "the second number"}}, "required": ["x", "y"], "additionalProperties": false}},
      {"name": "joke", "description": "Returns a joke.", "input_schema": {"type":
      "object", "strict": true, "properties": {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '2060'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_018JDdnd5oNSkMF1vTRqd4yW","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Finally,
        add 50:"},{"type":"tool_use","id":"toolu_01Baj7iyT4ftmxA1AV9C2Jy6","name":"add","input":{"x":-10,"y":50}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":818,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":77,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb7cb9da1337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:50 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '50000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:50Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:51Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:50Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '60000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:50Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '439'
      request-id:
      - req_011CRc4yCJUeW7Dzu4jLyScR
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}, {"role": "assistant", "content": [{"type": "text",
      "text": "I''ll help you calculate that and then tell you a joke. Let''s break
      it down step by step:\n\nFirst, let''s calculate 2+2:"}, {"type": "tool_use",
      "id": "toolu_01DaPb2ynaWjF8uP4797bfGe", "name": "add", "input": {"x": 2, "y":
      2}}]}, {"role": "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01DaPb2ynaWjF8uP4797bfGe",
      "content": "4", "is_error": false}]}, {"role": "assistant", "content": [{"type":
      "text", "text": "Now, let''s subtract 4:"}, {"type": "tool_use", "id": "toolu_018VgJLzujbx4XRxJjGsNboy",
      "name": "subtract", "input": {"x": 4, "y": 4}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_018VgJLzujbx4XRxJjGsNboy", "content":
      "0", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "Next, subtract 10:"}, {"type": "tool_use", "id": "toolu_015hvUcwWidDyb2TuT8RWJ2a",
      "name": "subtract", "input": {"x": 0, "y": 10}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_015hvUcwWidDyb2TuT8RWJ2a", "content":
      "-10", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "Finally, add 50:"}, {"type": "tool_use", "id": "toolu_01Baj7iyT4ftmxA1AV9C2Jy6",
      "name": "add", "input": {"x": -10, "y": 50}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_01Baj7iyT4ftmxA1AV9C2Jy6", "content":
      "40", "is_error": false}]}], "model": "claude-3-5-haiku-latest", "stream": false,
      "tools": [{"name": "add", "description": "Adds two numbers together.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "subtract",
      "description": "Subtracts the second number from the first.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "joke", "description":
      "Returns a joke.", "input_schema": {"type": "object", "strict": true, "properties":
      {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '2390'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_01NsMXnmRFKB3cqFKYLQajmh","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"So,
        2+2-4-10+50 = 40.\n\nNow, let me tell you a joke:"},{"type":"tool_use","id":"toolu_01TRcpgeheyadNFJT3FQqK6n","name":"joke","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":907,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":63,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb876b791337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:51 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '49000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:51Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:52Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:51Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '59000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:51Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '463'
      request-id:
      - req_011CRc4yKcmEGt2ciN2bEn4Q
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": "What is
      2+2-4-10+50? Tell me a joke."}, {"role": "assistant", "content": [{"type": "text",
      "text": "I''ll help you calculate that and then tell you a joke. Let''s break
      it down step by step:\n\nFirst, let''s calculate 2+2:"}, {"type": "tool_use",
      "id": "toolu_01DaPb2ynaWjF8uP4797bfGe", "name": "add", "input": {"x": 2, "y":
      2}}]}, {"role": "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01DaPb2ynaWjF8uP4797bfGe",
      "content": "4", "is_error": false}]}, {"role": "assistant", "content": [{"type":
      "text", "text": "Now, let''s subtract 4:"}, {"type": "tool_use", "id": "toolu_018VgJLzujbx4XRxJjGsNboy",
      "name": "subtract", "input": {"x": 4, "y": 4}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_018VgJLzujbx4XRxJjGsNboy", "content":
      "0", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "Next, subtract 10:"}, {"type": "tool_use", "id": "toolu_015hvUcwWidDyb2TuT8RWJ2a",
      "name": "subtract", "input": {"x": 0, "y": 10}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_015hvUcwWidDyb2TuT8RWJ2a", "content":
      "-10", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "Finally, add 50:"}, {"type": "tool_use", "id": "toolu_01Baj7iyT4ftmxA1AV9C2Jy6",
      "name": "add", "input": {"x": -10, "y": 50}}]}, {"role": "user", "content":
      [{"type": "tool_result", "tool_use_id": "toolu_01Baj7iyT4ftmxA1AV9C2Jy6", "content":
      "40", "is_error": false}]}, {"role": "assistant", "content": [{"type": "text",
      "text": "So, 2+2-4-10+50 = 40.\n\nNow, let me tell you a joke:"}, {"type": "tool_use",
      "id": "toolu_01TRcpgeheyadNFJT3FQqK6n", "name": "joke", "input": {}}]}, {"role":
      "user", "content": [{"type": "tool_result", "tool_use_id": "toolu_01TRcpgeheyadNFJT3FQqK6n",
      "content": "Why did the chicken cross the road? To get to the other side!",
      "is_error": false}]}], "model": "claude-3-5-haiku-latest", "stream": false,
      "tools": [{"name": "add", "description": "Adds two numbers together.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "subtract",
      "description": "Subtracts the second number from the first.", "input_schema":
      {"type": "object", "strict": true, "properties": {"x": {"type": "integer", "description":
      "the first number"}, "y": {"type": "integer", "description": "the second number"}},
      "required": ["x", "y"], "additionalProperties": false}}, {"name": "joke", "description":
      "Returns a joke.", "input_schema": {"type": "object", "strict": true, "properties":
      {}, "additionalProperties": false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '2800'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      x-stainless-arch:
      - x64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.52.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.5
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_01FeBYPs8uffNwnMzdyJXydv","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"There
        you have it! The calculation result is 40, and I hope the classic chicken
        joke made you smile."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":995,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":27,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 966feb8f6f271337-EWR
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 29 Jul 2025 22:05:53 GMT
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '50000'
      anthropic-ratelimit-input-tokens-remaining:
      - '50000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-07-29T22:05:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '10000'
      anthropic-ratelimit-output-tokens-remaining:
      - '10000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-07-29T22:05:53Z'
      anthropic-ratelimit-requests-limit:
      - '50'
      anthropic-ratelimit-requests-remaining:
      - '49'
      anthropic-ratelimit-requests-reset:
      - '2025-07-29T22:05:53Z'
      anthropic-ratelimit-tokens-limit:
      - '60000'
      anthropic-ratelimit-tokens-remaining:
      - '60000'
      anthropic-ratelimit-tokens-reset:
      - '2025-07-29T22:05:53Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '427'
      request-id:
      - req_011CRc4yR6ApGUf5NqybA1ZA
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
version: 1
