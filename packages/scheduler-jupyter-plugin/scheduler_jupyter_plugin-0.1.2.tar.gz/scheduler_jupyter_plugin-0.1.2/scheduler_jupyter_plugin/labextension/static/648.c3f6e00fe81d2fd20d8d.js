"use strict";(self.webpackChunkscheduler_jupyter_plugin=self.webpackChunkscheduler_jupyter_plugin||[]).push([[648],{2648:(e,o,n)=>{n.r(o),n.d(o,{Cron:()=>W,converter:()=>N,default:()=>W});var l=n(4848),r=n(9526),t=n(3345),i=function(){return i=Object.assign||function(e){for(var o,n=1,l=arguments.length;n<l;n++)for(var r in o=arguments[n])Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);return e},i.apply(this,arguments)};function a(e,o){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)o.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n}function u(e,o,n){if(n||2===arguments.length)for(var l,r=0,t=o.length;r<t;r++)!l&&r in o||(l||(l=Array.prototype.slice.call(o,0,r)),l[r]=o[r]);return e.concat(l||Array.prototype.slice.call(o))}var d=[{name:"@yearly",value:"0 0 1 1 *"},{name:"@annually",value:"0 0 1 1 *"},{name:"@monthly",value:"0 0 1 * *"},{name:"@weekly",value:"0 0 * * 0"},{name:"@daily",value:"0 0 * * *"},{name:"@midnight",value:"0 0 * * *"},{name:"@hourly",value:"0 * * * *"}],s=[{type:"minutes",min:0,max:59,total:60},{type:"hours",min:0,max:23,total:24},{type:"month-days",min:1,max:31,total:31},{type:"months",min:1,max:12,total:12,alt:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},{type:"week-days",min:0,max:6,total:7,alt:["SUN","MON","TUE","WED","THU","FRI","SAT"]}],c={everyText:"every",emptyMonths:"every month",emptyMonthDays:"every day of the month",emptyMonthDaysShort:"day of the month",emptyWeekDays:"every day of the week",emptyWeekDaysShort:"day of the week",emptyHours:"every hour",emptyMinutes:"every minute",emptyMinutesForHourPeriod:"every",yearOption:"year",monthOption:"month",weekOption:"week",dayOption:"day",hourOption:"hour",minuteOption:"minute",rebootOption:"reboot",prefixPeriod:"Every",prefixMonths:"in",prefixMonthDays:"on",prefixWeekDays:"on",prefixWeekDaysForMonthAndYearPeriod:"and",prefixHours:"at",prefixMinutes:":",prefixMinutesForHourPeriod:"at",suffixMinutesForHourPeriod:"minute(s)",errorInvalidCron:"Invalid cron expression",clearButtonText:"Clear",weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],altWeekDays:["SUN","MON","TUE","WED","THU","FRI","SAT"],altMonths:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]};function v(e,o){for(var n=[],l=e;l<=o;l++)n.push(l);return n}function p(e){return e.sort((function(e,o){return e-o})),e}function m(e){var o=[];return e.forEach((function(e){o.indexOf(e)<0&&o.push(e)})),o}function f(e){return Object.entries(e).filter((function(e){var o=e[0],n=e[1];return o&&n})).map((function(e){return e[0]})).join(" ")}function y(e,o){e&&e({type:"invalid_cron",description:o.errorInvalidCron||c.errorInvalidCron})}function h(e){var o=parseInt(e,10),n=Number(e);return o===n?n:NaN}function w(e,o,n,l,r,t,i,a,u,c,f,w,b,O){n&&n(void 0),o(!1);var g=!1;if(!e){if("always"===l||t&&"for-default-value"===l)return;g=!0}if(!g){if(a&&(!0===a||a.includes(e))){if("@reboot"===e)return void O("reboot");var k=d.find((function(o){return o.name===e}));k&&(e=k.value)}try{var C=function(e){if("string"!=typeof e)throw new Error("Invalid cron string");var o=e.replace(/\s+/g," ").trim().split(" ");if(5===o.length)return o.map((function(e,o){return function(e,o){if("*"===e||"*/1"===e)return[];var n=p(m(x(function(e,o,n){if(n){e=e.toUpperCase();for(var l=0;l<n.length;l++)e=e.replace(n[l],"".concat(l+o))}return e}(e,o.min,o.alt).split(",").map((function(n){var l,r=n.split("/");if(r.length>2)throw new Error('Invalid value "'.concat(e,' for "').concat(o.type,'"'));var t=r[0],i=r[1];l="*"===t?v(o.min,o.max):function(e,o,n){var l=e.split("-");if(1===l.length){var r=h(l[0]);if(isNaN(r))throw new Error('Invalid value "'.concat(o,'" for ').concat(n.type));return[r]}if(2===l.length){var t=h(l[0]),i=h(l[1]);if(isNaN(t)||isNaN(i))throw new Error('Invalid value "'.concat(o,'" for ').concat(n.type));if(i<t)throw new Error('Max range is less than min range in "'.concat(e,'" for ').concat(n.type));return v(t,i)}throw new Error('Invalid value "'.concat(e,'" for ').concat(n.type))}(t,e,o);var a=function(e,o){if(void 0!==e){var n=h(e);if(isNaN(n)||n<1)throw new Error('Invalid interval step value "'.concat(e,'" for ').concat(o.type));return n}}(i,o),u=function(e,o){if(o){var n=e[0];e=e.filter((function(e){return e%o==n%o||e===n}))}return e}(l,a);return u})).flat(),o))),l=j(n,o);if(void 0!==l)throw new Error('Value "'.concat(l,'" out of range for ').concat(o.type));return n.length===o.total?[]:n}(e,s[o])}));throw new Error("Invalid cron string format")}(e),M=function(e){return e[3].length>0?"year":e[2].length>0?"month":e[4].length>0?"week":e[1].length>0?"day":e[0].length>0?"hour":"minute"}(C);O(M),u(C[0]),c(C[1]),f(C[2]),w(C[3]),b(C[4])}catch(e){g=!0}}g&&(r.current=e,o(!0),y(n,i))}function b(e,o,n,l,r,t,i,a){if("reboot"===e)return"@reboot";var u=function(e,o,n){return e.map((function(e,l){var r,t=s[l],i=k(e,t),a=null==n?void 0:n[t.type];return O(i,t,null!==(r=null==a?void 0:a.humanizeValue)&&void 0!==r?r:o)}))}(["minute"!==e&&t?t:[],"minute"!==e&&"hour"!==e&&r?r:[],"year"!==e&&"month"!==e||!n?[]:n,"year"===e&&o?o:[],"year"!==e&&"month"!==e&&"week"!==e||!l?[]:l],i,a);return u.join(" ")}function O(e,o,n,l,r){var t="";if(function(e,o){return e.length===o.max-o.min+1}(e,o)||0===e.length)t="*";else{var i=function(e){if(e.length>2){var o=e[1]-e[0];if(o>1)return o}}(e);t=i&&function(e,o){for(var n=1;n<e.length;n++){var l=e[n-1];if(e[n]-l!==o)return!1}return!0}(e,i)?function(e,o,n){var l=C(e),r=M(e),t=e.length===(r-l)/n+1;return!!(l===o.min&&r+n>o.max&&t)}(e,o,i)?"*/".concat(i):"".concat(g(C(e),o,n,l,r),"-").concat(g(M(e),o,n,l,r),"/").concat(i):function(e){var o=[],n=null;return e.forEach((function(e,l,r){e!==r[l+1]-1?null!==n?(o.push([n,e]),n=null):o.push(e):null===n&&(n=e)})),o}(e).map((function(e){return Array.isArray(e)?"".concat(g(e[0],o,n,l,r),"-").concat(g(e[1],o,n,l,r)):g(e,o,n,l,r)})).join(",")}return t}function g(e,o,n,l,r){var t=e.toString(),i=o.type,a=o.alt,u=o.min,d=l&&(!0===l||l.includes(i)),s="24-hour-clock"===r&&("hours"===i||"minutes"===i);if(n&&"week-days"===i||n&&"months"===i?t=a[e-u]:e<10&&(d||s)&&(t=t.padStart(2,"0")),"hours"===i&&"12-hour-clock"===r){var c=e>=12?"PM":"AM",v=e%12||12;v<10&&d&&(v=v.toString().padStart(2,"0")),t="".concat(v).concat(c)}return t}function k(e,o){var n=p(m(x(e,o)));if(0===n.length)return n;var l=j(n,o);if(void 0!==l)throw new Error('Value "'.concat(l,'" out of range for ').concat(o.type));return n}function x(e,o){return"week-days"===o.type&&(e=e.map((function(e){return 7===e?0:e}))),e}function j(e,o){var n=e[0],l=e[e.length-1];return n<o.min?n:l>o.max?l:void 0}function C(e){return e[0]}function M(e){return e[e.length-1]}var N=Object.freeze({__proto__:null,setValuesFromCronString:w,getCronStringFromValues:b,partToString:O,formatValue:g,parsePartArray:k});function D(e){var o=e.value,n=e.grid,d=void 0===n||n,s=e.optionsList,v=e.setValue,m=e.locale,y=e.className,h=e.humanizeLabels,w=e.disabled,b=e.readOnly,x=e.leadingZero,j=e.clockFormat,C=e.period,M=e.unit,N=e.periodicityOnDoubleClick,D=e.mode,S=e.allowClear,P=e.filterOption,F=void 0===P?function(){return!0}:P,E=a(e,["value","grid","optionsList","setValue","locale","className","humanizeLabels","disabled","readOnly","leadingZero","clockFormat","period","unit","periodicityOnDoubleClick","mode","allowClear","filterOption"]),A=(0,t.useMemo)((function(){if(o&&Array.isArray(o))return o.map((function(e){return e.toString()}))}),[o]),V=(0,t.useMemo)((function(){return s?s.map((function(e,o){return{value:(0===M.min?o:o+1).toString(),label:e}})).filter(F):u([],Array(M.total),!0).map((function(e,o){var n=0===M.min?o:o+1;return{value:n.toString(),label:g(n,M,h,x,j)}})).filter(F)}),[s,x,h,j]),W=JSON.stringify(m),H=(0,t.useCallback)((function(e){var n=e.value;if(!o||o[0]!==Number(n))return(0,l.jsx)(l.Fragment,{});var r=O(k(o,M),M,h,x,j),t=r.match(/^\*\/([0-9]+),?/)||[];return(0,l.jsx)("div",{children:t[1]?"".concat(m.everyText||c.everyText," ").concat(t[1]):r})}),[o,W,h,x,j]),T=(0,t.useCallback)((function(e){var n=Array.isArray(e)?p(e):[e],l=n;o&&(l="single"===D?[]:u([],o,!0),n.forEach((function(e){var n=Number(e);l=o.some((function(e){return e===n}))?l.filter((function(e){return e!==n})):p(u(u([],l,!0),[n],!1))}))),l.length===M.total?v([]):v(l)}),[v,o]),I=(0,t.useCallback)((function(e){if(0!==e&&1!==e){for(var n=M.total+M.min,l=[],r=M.min;r<n;r++)r%e==0&&l.push(r);var t=o&&l&&o.length===l.length&&o.every((function(e,o){return e===l[o]})),i=l.length===V.length;v(i||t?[]:l)}else v([])}),[o,V,v]),L=(0,t.useRef)([]),J=(0,t.useCallback)((function(e){if(!b){var o=L.current;o.push({time:(new Date).getTime(),value:Number(e)});var n=window.setTimeout((function(){N&&o.length>1&&o[o.length-1].time-o[o.length-2].time<300?o[o.length-1].value===o[o.length-2].value?I(Number(e)):T([o[o.length-2].value,o[o.length-1].value]):T(Number(e)),L.current=[]}),300);return function(){window.clearTimeout(n)}}}),[L,T,I,b,N]),Z=(0,t.useCallback)((function(){b||v([])}),[v,b]),z=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-select":!0,"react-js-cron-custom-select":!0})["".concat(y,"-select")]=!!y,e))}),[y]),U=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-select-dropdown":!0})["react-js-cron-select-dropdown-".concat(M.type)]=!0,e["react-js-cron-custom-select-dropdown"]=!0,e["react-js-cron-custom-select-dropdown-".concat(M.type)]=!0,e["react-js-cron-custom-select-dropdown-minutes-large"]="minutes"===M.type&&"hour"!==C&&"day"!==C,e["react-js-cron-custom-select-dropdown-minutes-medium"]="minutes"===M.type&&("day"===C||"hour"===C),e["react-js-cron-custom-select-dropdown-hours-twelve-hour-clock"]="hours"===M.type&&"12-hour-clock"===j,e["react-js-cron-custom-select-dropdown-grid"]=!!d,e["".concat(y,"-select-dropdown")]=!!y,e["".concat(y,"-select-dropdown-").concat(M.type)]=!!y,e))}),[y,d,j,C]);return(0,l.jsx)(r.Select,i({mode:"single"!==D||N?"multiple":void 0,allowClear:null!=S?S:!b,virtual:!1,open:!b&&void 0,value:A,onClear:Z,tagRender:H,className:z,popupClassName:U,options:V,showSearch:!1,suffixIcon:b?null:void 0,menuItemSelectedIcon:null,popupMatchSelectWidth:!1,onSelect:J,onDeselect:J,disabled:w,dropdownAlign:"minutes"!==M.type&&"hours"!==M.type||"day"===C||"hour"===C?void 0:{points:["tr","br"]},"data-testid":"custom-select-".concat(M.type)},E))}function S(e){var o=e.value,n=e.setValue,r=e.locale,a=e.className,u=e.disabled,d=e.readOnly,v=e.leadingZero,p=e.clockFormat,m=e.period,y=e.periodicityOnDoubleClick,h=e.mode,w=e.allowClear,b=e.filterOption,O=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-hours":!0})["".concat(a,"-field")]=!!a,e["".concat(a,"-hours")]=!!a,e))}),[a]);return(0,l.jsxs)("div",i({className:O},{children:[""!==r.prefixHours&&(0,l.jsx)("span",{children:r.prefixHours||c.prefixHours}),(0,l.jsx)(D,{placeholder:r.emptyHours||c.emptyHours,value:o,unit:s[1],setValue:n,locale:r,className:a,disabled:u,readOnly:d,leadingZero:v,clockFormat:p,period:m,periodicityOnDoubleClick:y,mode:h,allowClear:w,filterOption:b})]}))}function P(e){var o=e.value,n=e.setValue,r=e.locale,a=e.className,u=e.disabled,d=e.readOnly,v=e.leadingZero,p=e.clockFormat,m=e.period,y=e.periodicityOnDoubleClick,h=e.mode,w=e.allowClear,b=e.filterOption,O=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-minutes":!0})["".concat(a,"-field")]=!!a,e["".concat(a,"-minutes")]=!!a,e))}),[a]);return(0,l.jsxs)("div",i({className:O},{children:["hour"===m?""!==r.prefixMinutesForHourPeriod&&(0,l.jsx)("span",{children:r.prefixMinutesForHourPeriod||c.prefixMinutesForHourPeriod}):""!==r.prefixMinutes&&(0,l.jsx)("span",{children:r.prefixMinutes||c.prefixMinutes}),(0,l.jsx)(D,{placeholder:"hour"===m?r.emptyMinutesForHourPeriod||c.emptyMinutesForHourPeriod:r.emptyMinutes||c.emptyMinutes,value:o,unit:s[0],setValue:n,locale:r,className:a,disabled:u,readOnly:d,leadingZero:v,clockFormat:p,period:m,periodicityOnDoubleClick:y,mode:h,allowClear:w,filterOption:b}),"hour"===m&&""!==r.suffixMinutesForHourPeriod&&(0,l.jsx)("span",{children:r.suffixMinutesForHourPeriod||c.suffixMinutesForHourPeriod})]}))}function F(e){var o=e.value,n=e.setValue,r=e.locale,a=e.className,u=e.weekDays,d=e.disabled,v=e.readOnly,p=e.leadingZero,m=e.period,y=e.periodicityOnDoubleClick,h=e.mode,w=e.allowClear,b=e.filterOption,O=!u||0===u.length,g=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-month-days":!0,"react-js-cron-month-days-placeholder":!O})["".concat(a,"-field")]=!!a,e["".concat(a,"-month-days")]=!!a,e))}),[a,O]),k=JSON.stringify(r),x=(0,t.useMemo)((function(){return O?r.emptyMonthDays||c.emptyMonthDays:r.emptyMonthDaysShort||c.emptyMonthDaysShort}),[O,k]);return!v||o&&o.length>0||!(o&&0!==o.length||u&&0!==u.length)?(0,l.jsxs)("div",i({className:g},{children:[""!==r.prefixMonthDays&&(0,l.jsx)("span",{children:r.prefixMonthDays||c.prefixMonthDays}),(0,l.jsx)(D,{placeholder:x,value:o,setValue:n,unit:s[2],locale:r,className:a,disabled:d,readOnly:v,leadingZero:p,period:m,periodicityOnDoubleClick:y,mode:h,allowClear:w,filterOption:b})]})):null}function E(e){var o=e.value,n=e.setValue,r=e.locale,a=e.className,u=e.humanizeLabels,d=e.disabled,v=e.readOnly,p=e.period,m=e.periodicityOnDoubleClick,y=e.mode,h=e.allowClear,w=e.filterOption,b=r.months||c.months,O=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-months":!0})["".concat(a,"-field")]=!!a,e["".concat(a,"-months")]=!!a,e))}),[a]);return(0,l.jsxs)("div",i({className:O},{children:[""!==r.prefixMonths&&(0,l.jsx)("span",{children:r.prefixMonths||c.prefixMonths}),(0,l.jsx)(D,{placeholder:r.emptyMonths||c.emptyMonths,optionsList:b,grid:!1,value:o,unit:i(i({},s[3]),{alt:r.altMonths||c.altMonths}),setValue:n,locale:r,className:a,humanizeLabels:u,disabled:d,readOnly:v,period:p,periodicityOnDoubleClick:m,mode:y,allowClear:h,filterOption:w})]}))}function A(e){var o=e.value,n=e.setValue,a=e.locale,u=e.className,d=e.disabled,s=e.readOnly,v=e.shortcuts,p=e.allowedPeriods,m=e.allowClear,y=[];p.includes("year")&&y.push({value:"year",label:a.yearOption||c.yearOption}),p.includes("month")&&y.push({value:"month",label:a.monthOption||c.monthOption}),p.includes("week")&&y.push({value:"week",label:a.weekOption||c.weekOption}),p.includes("day")&&y.push({value:"day",label:a.dayOption||c.dayOption}),p.includes("hour")&&y.push({value:"hour",label:a.hourOption||c.hourOption}),p.includes("minute")&&y.push({value:"minute",label:a.minuteOption||c.minuteOption}),p.includes("reboot")&&v&&(!0===v||v.includes("@reboot"))&&y.push({value:"reboot",label:a.rebootOption||c.rebootOption});var h=(0,t.useCallback)((function(e){s||n(e)}),[n,s]),w=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-period":!0})["".concat(u,"-field")]=!!u,e["".concat(u,"-period")]=!!u,e))}),[u]),b=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-select":!0,"react-js-cron-select-no-prefix":""===a.prefixPeriod})["".concat(u,"-select")]=!!u,e))}),[u,a.prefixPeriod]),O=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-select-dropdown":!0,"react-js-cron-select-dropdown-period":!0})["".concat(u,"-select-dropdown")]=!!u,e["".concat(u,"-select-dropdown-period")]=!!u,e))}),[u]);return(0,l.jsxs)("div",i({className:w},{children:[""!==a.prefixPeriod&&(0,l.jsx)("span",{children:a.prefixPeriod||c.prefixPeriod}),(0,l.jsx)(r.Select,{defaultValue:o,value:o,onChange:h,options:y,className:b,popupClassName:O,disabled:d,suffixIcon:s?null:void 0,open:!s&&void 0,"data-testid":"select-period",allowClear:m},JSON.stringify(a))]}))}function V(e){var o=e.value,n=e.setValue,r=e.locale,a=e.className,u=e.humanizeLabels,d=e.monthDays,v=e.disabled,p=e.readOnly,m=e.period,y=e.periodicityOnDoubleClick,h=e.mode,w=e.allowClear,b=e.filterOption,O=r.weekDays||c.weekDays,g="week"===m||!d||0===d.length,k=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-field":!0,"react-js-cron-week-days":!0,"react-js-cron-week-days-placeholder":!g})["".concat(a,"-field")]=!!a,e["".concat(a,"-week-days")]=!!a,e))}),[a,g]),x=JSON.stringify(r),j=(0,t.useMemo)((function(){return g?r.emptyWeekDays||c.emptyWeekDays:r.emptyWeekDaysShort||c.emptyWeekDaysShort}),[g,x]),C="week"===m||!p||o&&o.length>0||(!o||0===o.length)&&(!d||0===d.length),M=!p||d&&d.length>0||(!d||0===d.length)&&(!o||0===o.length);return C?(0,l.jsxs)("div",i({className:k},{children:[""!==r.prefixWeekDays&&("week"===m||!M)&&(0,l.jsx)("span",{children:r.prefixWeekDays||c.prefixWeekDays}),""!==r.prefixWeekDaysForMonthAndYearPeriod&&"week"!==m&&M&&(0,l.jsx)("span",{children:r.prefixWeekDaysForMonthAndYearPeriod||c.prefixWeekDaysForMonthAndYearPeriod}),(0,l.jsx)(D,{placeholder:j,optionsList:O,grid:!1,value:o,unit:i(i({},s[4]),{alt:r.altWeekDays||c.altWeekDays}),setValue:n,locale:r,className:a,humanizeLabels:u,disabled:v,readOnly:p,period:m,periodicityOnDoubleClick:y,mode:h,allowClear:w,filterOption:b})]})):null}function W(e){var o,n,u,d,s,v,p,m,h,O,g,k,x,j,C,M,N,D,W,H,T,I,L,J,Z,z,U,R,B,_,Y,G,q,K,Q,X,$,ee,oe,ne,le,re,te,ie,ae,ue,de,se,ce,ve,pe,me,fe,ye,he,we,be,Oe,ge,ke,xe,je,Ce,Me,Ne,De,Se,Pe,Fe,Ee,Ae,Ve,We,He=e.clearButton,Te=void 0===He||He,Ie=e.clearButtonProps,Le=void 0===Ie?{}:Ie,Je=e.clearButtonAction,Ze=void 0===Je?"fill-with-every":Je,ze=e.locale,Ue=void 0===ze?c:ze,Re=e.value,Be=void 0===Re?"":Re,_e=e.setValue,Ye=e.displayError,Ge=void 0===Ye||Ye,qe=e.onError,Ke=e.className,Qe=e.defaultPeriod,Xe=void 0===Qe?"day":Qe,$e=e.allowEmpty,eo=void 0===$e?"for-default-value":$e,oo=e.humanizeLabels,no=void 0===oo||oo,lo=e.humanizeValue,ro=void 0!==lo&&lo,to=e.disabled,io=void 0!==to&&to,ao=e.readOnly,uo=void 0!==ao&&ao,so=e.leadingZero,co=void 0!==so&&so,vo=e.shortcuts,po=void 0===vo?["@yearly","@annually","@monthly","@weekly","@daily","@midnight","@hourly"]:vo,mo=e.clockFormat,fo=e.periodicityOnDoubleClick,yo=void 0===fo||fo,ho=e.mode,wo=void 0===ho?"multiple":ho,bo=e.allowedDropdowns,Oo=void 0===bo?["period","months","month-days","week-days","hours","minutes"]:bo,go=e.allowedPeriods,ko=void 0===go?["year","month","week","day","hour","minute","reboot"]:go,xo=e.allowClear,jo=e.dropdownsConfig,Co=(0,t.useRef)(Be),Mo=(0,t.useRef)(Xe),No=(0,t.useState)(),Do=No[0],So=No[1],Po=(0,t.useState)(),Fo=Po[0],Eo=Po[1],Ao=(0,t.useState)(),Vo=Ao[0],Wo=Ao[1],Ho=(0,t.useState)(),To=Ho[0],Io=Ho[1],Lo=(0,t.useState)(),Jo=Lo[0],Zo=Lo[1],zo=(0,t.useState)(),Uo=zo[0],Ro=zo[1],Bo=(0,t.useState)(!1),_o=Bo[0],Yo=Bo[1],Go=(0,t.useState)(!1),qo=Go[0],Ko=Go[1],Qo=(Ve=qo,We=(0,t.useRef)(Ve),(0,t.useEffect)((function(){We.current=Ve}),[Ve]),We.current),Xo=JSON.stringify(Ue);(0,t.useEffect)((function(){w(Be,Yo,qe,eo,Co,!0,Ue,po,Ro,Zo,Eo,Wo,Io,So)}),[]),(0,t.useEffect)((function(){Be!==Co.current&&w(Be,Yo,qe,eo,Co,!1,Ue,po,Ro,Zo,Eo,Wo,Io,So)}),[Be,Co,Xo,eo,po]),(0,t.useEffect)((function(){if(!(Do||Uo||Vo||Fo||To||Jo)||qo||Qo)qo&&Ko(!1);else{var e=Do||Mo.current,o=b(e,Vo,Fo,To,Jo,Uo,ro,jo);_e(o,{selectedPeriod:e}),Co.current=o,qe&&qe(void 0),Yo(!1)}}),[Do,Fo,Vo,To,Jo,Uo,ro,qo,jo]);var $o=(0,t.useCallback)((function(){Eo(void 0),Wo(void 0),Io(void 0),Zo(void 0),Ro(void 0);var e="",o="reboot"!==Do&&Do?Do:Mo.current;o!==Do&&So(o),"fill-with-every"===Ze&&(e=b(o,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),_e(e,{selectedPeriod:o}),Co.current=e,Ko(!0),"never"===eo&&"empty"===Ze?(Yo(!0),y(qe,Ue)):(qe&&qe(void 0),Yo(!1))}),[Do,_e,qe,Ze]),en=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron":!0,"react-js-cron-error":_o&&Ge,"react-js-cron-disabled":io,"react-js-cron-read-only":uo})["".concat(Ke)]=!!Ke,e["".concat(Ke,"-error")]=_o&&Ge&&!!Ke,e["".concat(Ke,"-disabled")]=io&&!!Ke,e["".concat(Ke,"-read-only")]=uo&&!!Ke,e))}),[Ke,_o,Ge,io,uo]),on=Le.className,nn=a(Le,["className"]),ln=(0,t.useMemo)((function(){var e;return f(((e={"react-js-cron-clear-button":!0})["".concat(Ke,"-clear-button")]=!!Ke,e["".concat(on)]=!!on,e))}),[Ke,on]),rn=JSON.stringify(nn),tn=(0,t.useMemo)((function(){return Te&&!uo?(0,l.jsx)(r.Button,i({className:ln,danger:!0,type:"primary",disabled:io},nn,{onClick:$o},{children:Ue.clearButtonText||c.clearButtonText})):null}),[Te,uo,Xo,ln,io,rn,$o]),an=Do||Mo.current;return(0,l.jsxs)("div",i({className:en},{children:[Oo.includes("period")&&(0,l.jsx)(A,{value:an,setValue:So,locale:Ue,className:Ke,disabled:null!==(n=null===(o=null==jo?void 0:jo.period)||void 0===o?void 0:o.disabled)&&void 0!==n?n:io,readOnly:null!==(d=null===(u=null==jo?void 0:jo.period)||void 0===u?void 0:u.readOnly)&&void 0!==d?d:uo,shortcuts:po,allowedPeriods:ko,allowClear:null!==(v=null===(s=null==jo?void 0:jo.period)||void 0===s?void 0:s.allowClear)&&void 0!==v?v:xo}),"reboot"===an?tn:(0,l.jsxs)(l.Fragment,{children:["year"===an&&Oo.includes("months")&&(0,l.jsx)(E,{value:Vo,setValue:Wo,locale:Ue,className:Ke,humanizeLabels:null!==(m=null===(p=null==jo?void 0:jo.months)||void 0===p?void 0:p.humanizeLabels)&&void 0!==m?m:no,disabled:null!==(O=null===(h=null==jo?void 0:jo.months)||void 0===h?void 0:h.disabled)&&void 0!==O?O:io,readOnly:null!==(k=null===(g=null==jo?void 0:jo.months)||void 0===g?void 0:g.readOnly)&&void 0!==k?k:uo,period:an,periodicityOnDoubleClick:null!==(j=null===(x=null==jo?void 0:jo.months)||void 0===x?void 0:x.periodicityOnDoubleClick)&&void 0!==j?j:yo,mode:null!==(M=null===(C=null==jo?void 0:jo.months)||void 0===C?void 0:C.mode)&&void 0!==M?M:wo,allowClear:null!==(D=null===(N=null==jo?void 0:jo.months)||void 0===N?void 0:N.allowClear)&&void 0!==D?D:xo,filterOption:null===(W=null==jo?void 0:jo.months)||void 0===W?void 0:W.filterOption}),("year"===an||"month"===an)&&Oo.includes("month-days")&&(0,l.jsx)(F,{value:Fo,setValue:Eo,locale:Ue,className:Ke,weekDays:To,disabled:null!==(T=null===(H=null==jo?void 0:jo["month-days"])||void 0===H?void 0:H.disabled)&&void 0!==T?T:io,readOnly:null!==(L=null===(I=null==jo?void 0:jo["month-days"])||void 0===I?void 0:I.readOnly)&&void 0!==L?L:uo,leadingZero:null!==(Z=null===(J=null==jo?void 0:jo["month-days"])||void 0===J?void 0:J.leadingZero)&&void 0!==Z?Z:co,period:an,periodicityOnDoubleClick:null!==(U=null===(z=null==jo?void 0:jo["month-days"])||void 0===z?void 0:z.periodicityOnDoubleClick)&&void 0!==U?U:yo,mode:null!==(B=null===(R=null==jo?void 0:jo["month-days"])||void 0===R?void 0:R.mode)&&void 0!==B?B:wo,allowClear:null!==(Y=null===(_=null==jo?void 0:jo["month-days"])||void 0===_?void 0:_.allowClear)&&void 0!==Y?Y:xo,filterOption:null===(G=null==jo?void 0:jo["month-days"])||void 0===G?void 0:G.filterOption}),("year"===an||"month"===an||"week"===an)&&Oo.includes("week-days")&&(0,l.jsx)(V,{value:To,setValue:Io,locale:Ue,className:Ke,humanizeLabels:null!==(K=null===(q=null==jo?void 0:jo["week-days"])||void 0===q?void 0:q.humanizeLabels)&&void 0!==K?K:no,monthDays:Fo,disabled:null!==(X=null===(Q=null==jo?void 0:jo["week-days"])||void 0===Q?void 0:Q.disabled)&&void 0!==X?X:io,readOnly:null!==(ee=null===($=null==jo?void 0:jo["week-days"])||void 0===$?void 0:$.readOnly)&&void 0!==ee?ee:uo,period:an,periodicityOnDoubleClick:null!==(ne=null===(oe=null==jo?void 0:jo["week-days"])||void 0===oe?void 0:oe.periodicityOnDoubleClick)&&void 0!==ne?ne:yo,mode:null!==(re=null===(le=null==jo?void 0:jo["week-days"])||void 0===le?void 0:le.mode)&&void 0!==re?re:wo,allowClear:null!==(ie=null===(te=null==jo?void 0:jo["week-days"])||void 0===te?void 0:te.allowClear)&&void 0!==ie?ie:xo,filterOption:null===(ae=null==jo?void 0:jo["week-days"])||void 0===ae?void 0:ae.filterOption}),(0,l.jsxs)("div",{children:["minute"!==an&&"hour"!==an&&Oo.includes("hours")&&(0,l.jsx)(S,{value:Jo,setValue:Zo,locale:Ue,className:Ke,disabled:null!==(de=null===(ue=null==jo?void 0:jo.hours)||void 0===ue?void 0:ue.disabled)&&void 0!==de?de:io,readOnly:null!==(ce=null===(se=null==jo?void 0:jo.hours)||void 0===se?void 0:se.readOnly)&&void 0!==ce?ce:uo,leadingZero:null!==(pe=null===(ve=null==jo?void 0:jo.hours)||void 0===ve?void 0:ve.leadingZero)&&void 0!==pe?pe:co,clockFormat:mo,period:an,periodicityOnDoubleClick:null!==(fe=null===(me=null==jo?void 0:jo.hours)||void 0===me?void 0:me.periodicityOnDoubleClick)&&void 0!==fe?fe:yo,mode:null!==(he=null===(ye=null==jo?void 0:jo.hours)||void 0===ye?void 0:ye.mode)&&void 0!==he?he:wo,allowClear:null!==(be=null===(we=null==jo?void 0:jo.hours)||void 0===we?void 0:we.allowClear)&&void 0!==be?be:xo,filterOption:null===(Oe=null==jo?void 0:jo.hours)||void 0===Oe?void 0:Oe.filterOption}),"minute"!==an&&Oo.includes("minutes")&&(0,l.jsx)(P,{value:Uo,setValue:Ro,locale:Ue,period:an,className:Ke,disabled:null!==(ke=null===(ge=null==jo?void 0:jo.minutes)||void 0===ge?void 0:ge.disabled)&&void 0!==ke?ke:io,readOnly:null!==(je=null===(xe=null==jo?void 0:jo.minutes)||void 0===xe?void 0:xe.readOnly)&&void 0!==je?je:uo,leadingZero:null!==(Me=null===(Ce=null==jo?void 0:jo.minutes)||void 0===Ce?void 0:Ce.leadingZero)&&void 0!==Me?Me:co,clockFormat:mo,periodicityOnDoubleClick:null!==(De=null===(Ne=null==jo?void 0:jo.minutes)||void 0===Ne?void 0:Ne.periodicityOnDoubleClick)&&void 0!==De?De:yo,mode:null!==(Pe=null===(Se=null==jo?void 0:jo.minutes)||void 0===Se?void 0:Se.mode)&&void 0!==Pe?Pe:wo,allowClear:null!==(Ee=null===(Fe=null==jo?void 0:jo.minutes)||void 0===Fe?void 0:Fe.allowClear)&&void 0!==Ee?Ee:xo,filterOption:null===(Ae=null==jo?void 0:jo.minutes)||void 0===Ae?void 0:Ae.filterOption}),tn]})]})]}))}}}]);