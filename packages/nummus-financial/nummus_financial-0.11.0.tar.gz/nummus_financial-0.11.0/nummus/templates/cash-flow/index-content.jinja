<section
  class="m-auto min-h-full max-w-screen-lg bg-white p-2"
  hx-get="{{ url_for('cash_flow.page') }}"
  hx-trigger="update-account from:body"
  hx-target="#main"
  hx-include="#txn-config,#txn-header"
>
  <h1 class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl">
    Cash flow
  </h1>
  <div class="relative h-60 w-full md:h-96">
    <canvas id="cash-flow-chart-canvas" hx-preserve></canvas>
    {% include "shared/spinner.jinja" %}
  </div>
  <h1 class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl">
    Income
  </h1>
  <div
    class="relative flex w-full flex-wrap items-stretch justify-center gap-1"
  >
    <div class="flex w-64 shrink-0 items-center">
      <canvas id="income-pie-chart-canvas" hx-preserve></canvas>
    </div>
    <div class="max-h-64 max-w-[32rem] grow overflow-y-auto">
      <div id="income-breakdown" class="flex flex-col"></div>
    </div>
    {% include "shared/spinner.jinja" %}
  </div>
  <h1 class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl">
    Income by tag
  </h1>
  <div
    class="relative flex w-full flex-wrap items-stretch justify-center gap-1"
  >
    <div class="flex w-64 shrink-0 items-center">
      <canvas id="income-tag-pie-chart-canvas" hx-preserve></canvas>
    </div>
    <div class="max-h-64 max-w-[32rem] grow overflow-y-auto">
      <div id="income-tag-breakdown" class="flex flex-col"></div>
    </div>
    {% include "shared/spinner.jinja" %}
  </div>
  <h1 class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl">
    Expense
  </h1>
  <div
    class="relative flex w-full flex-wrap items-stretch justify-center gap-1"
  >
    <div class="flex w-64 shrink-0 items-center">
      <canvas id="expense-pie-chart-canvas" hx-preserve></canvas>
    </div>
    <div class="max-h-64 max-w-[32rem] grow overflow-y-auto">
      <div id="expense-breakdown" class="flex flex-col"></div>
    </div>
    {% include "shared/spinner.jinja" %}
  </div>
  <h1 class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl">
    Expense by tag
  </h1>
  <div
    class="relative flex w-full flex-wrap items-stretch justify-center gap-1"
  >
    <div class="flex w-64 shrink-0 items-center">
      <canvas id="expense-tag-pie-chart-canvas" hx-preserve></canvas>
    </div>
    <div class="max-h-64 max-w-[32rem] grow overflow-y-auto">
      <div id="expense-tag-breakdown" class="flex flex-col"></div>
    </div>
    {% include "shared/spinner.jinja" %}
  </div>
  {% include "cash-flow/chart-data.jinja" %}
  <div
    class="w-full"
    hx-indicator=".spinner"
    hx-target="#txn-table"
    hx-swap="outerHTML"
  >
    <h1
      class="align-left w-full font-serif text-2xl text-green-600 md:text-3xl"
    >
      Transactions
    </h1>
    {% include "transactions/table-config.jinja" %}
    {% include "transactions/table-paging.jinja" %}
    <div class="max-h-[70vh] w-full overflow-y-scroll">
      {% include "transactions/table-header.jinja" %}
      {% include "transactions/table.jinja" %}
    </div>
  </div>
</section>
