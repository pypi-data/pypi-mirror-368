import{S as Ie,i as Ne,s as Ee,N as Ce,O as De,a as H,d as h,f as m,g as D,h as C,n as de,H as qe,I as Je,C as Z,D as G,E as K,K as Xe,q as b,r as $,F as Y,k as ve,v as Qe,l as q,p as R,x as Ut,z as Wt,A as Ft,B as qt,e as N,c as V,y as ue,u as ce,t as le,b as ne,j as oe,G as me,a3 as tt,m as We,$ as Ve,X as Fe,T as Xt,w as Qt,M as lt,L as nt,P as xt}from"./BCvnKofF.js";import{e as be}from"./CSm0urZa.js";import"./IHki7fMi.js";import"./CsmmmNou.js";import{M as Rt,a as Zt,b as Gt,c as Ke}from"./BQslAB__.js";import{m as rt,w as ot,f as el,r as tl}from"./1xVb8RU2.js";import{F as ll}from"./CU2r43ac.js";import{d as Ye,r as nl}from"./I1CDPYOB.js";import"./BXP-4RTu.js";import{S as rl}from"./CVAJiM1o.js";import{f as Kt}from"./CBc5jlPY.js";import{g as ol}from"./CGYlI_FG.js";import{g as al,p as sl,d as il,u as fl}from"./D3n4WpyB.js";import{a as Yt,u as Jt,g as at,c as ul,M as Me,m as cl,n as st,d as Ze}from"./MoMhNtwQ.js";import{t as pe}from"./B1cg3iGf.js";import{g as Ge}from"./Bm3Q2hpy.js";import{C as dl}from"./C11Xkt-C.js";import{S as ml}from"./xhfJ-qLd.js";import{T as _e}from"./DRSCq1dG.js";import{S as hl}from"./MsMEwiE5.js";import{C as _l}from"./8ikmVtsQ.js";import{C as pl}from"./BvFsrLtf.js";import{L as gl}from"./LBO-rmRr.js";import{E as vl}from"./DWrL1oE5.js";import{E as bl}from"./BCAb_axV.js";import{E as wl}from"./Cf1cxNje.js";function kl(o){let e,t;return{c(){e=Ce("svg"),t=Ce("path"),this.h()},l(l){e=De(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=H(e);t=De(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),H(t).forEach(h),n.forEach(h),this.h()},h(){m(t,"stroke-linecap","round"),m(t,"stroke-linejoin","round"),m(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(l,n){D(l,e,n),C(e,t)},p(l,[n]){n&2&&m(e,"stroke-width",l[1]),n&1&&m(e,"class",l[0])},i:de,o:de,d(l){l&&h(e)}}}function $l(o,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class Ml extends Ie{constructor(e){super(),Ne(this,e,$l,kl,Ee,{className:0,strokeWidth:1})}}function El(o){let e;const t=o[8].default,l=Ut(t,o,o[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8192)&&Wt(l,t,n,n[13],e?qt(t,n[13],r,null):Ft(n[13]),null)},i(n){e||(b(l,n),e=!0)},o(n){$(l,n),e=!1},d(n){l&&l.d(n)}}}function yl(o){var l;let e,t;return e=new _e({props:{content:o[5].t("More"),className:((l=o[6])==null?void 0:l.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0",$$slots:{default:[El]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,r){K(e,n,r),t=!0},p(n,r){var s;const a={};r&32&&(a.content=n[5].t("More")),r&64&&(a.className=((s=n[6])==null?void 0:s.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0"),r&8192&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Cl(o){let e,t;return e=new vl({}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Dl(o){let e,t;return e=new bl({}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Il(o){let e=o[5].t("Keep in Sidebar")+"",t;return{c(){t=le(e)},l(l){t=ne(l,e)},m(l,n){D(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Keep in Sidebar")+"")&&oe(t,e)},d(l){l&&h(t)}}}function Nl(o){let e=o[5].t("Hide from Sidebar")+"",t;return{c(){t=le(e)},l(l){t=ne(l,e)},m(l,n){D(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Hide from Sidebar")+"")&&oe(t,e)},d(l){l&&h(t)}}}function Vl(o){let e,t,l,n,r,a,s;const i=[Dl,Cl],u=[];function f(g,M){var O,v;return M&66&&(e=null),e==null&&(e=!!(((O=g[6])==null?void 0:O.pinnedModels)??[]).includes((v=g[1])==null?void 0:v.id)),e?0:1}t=f(o,-1),l=u[t]=i[t](o);function c(g,M){var O,v;return M&66&&(a=null),a==null&&(a=!!(((O=g[6])==null?void 0:O.pinnedModels)??[]).includes((v=g[1])==null?void 0:v.id)),a?Nl:Il}let k=c(o,-1),w=k(o);return{c(){l.c(),n=q(),r=N("div"),w.c(),this.h()},l(g){l.l(g),n=R(g),r=V(g,"DIV",{class:!0});var M=H(r);w.l(M),M.forEach(h),this.h()},h(){m(r,"class","flex items-center")},m(g,M){u[t].m(g,M),D(g,n,M),D(g,r,M),w.m(r,null),s=!0},p(g,M){let O=t;t=f(g,M),t!==O&&(ue(),$(u[O],1,1,()=>{u[O]=null}),ce(),l=u[t],l||(l=u[t]=i[t](g),l.c()),b(l,1),l.m(n.parentNode,n)),k===(k=c(g,M))&&w?w.p(g,M):(w.d(1),w=k(g),w&&(w.c(),w.m(r,null)))},i(g){s||(b(l),s=!0)},o(g){$(l),s=!1},d(g){g&&(h(n),h(r)),u[t].d(g),w.d()}}}function Tl(o){let e,t,l,n=o[5].t("Copy Link")+"",r,a;return e=new gl({}),{c(){Z(e.$$.fragment),t=q(),l=N("div"),r=le(n),this.h()},l(s){G(e.$$.fragment,s),t=R(s),l=V(s,"DIV",{class:!0});var i=H(l);r=ne(i,n),i.forEach(h),this.h()},h(){m(l,"class","flex items-center")},m(s,i){K(e,s,i),D(s,t,i),D(s,l,i),C(l,r),a=!0},p(s,i){(!a||i&32)&&n!==(n=s[5].t("Copy Link")+"")&&oe(r,n)},i(s){a||(b(e.$$.fragment,s),a=!0)},o(s){$(e.$$.fragment,s),a=!1},d(s){s&&(h(t),h(l)),Y(e,s)}}}function Hl(o){var r,a;let e,t,l,n;return e=new Ke({props:{type:"button","aria-pressed":(((r=o[6])==null?void 0:r.pinnedModels)??[]).includes((a=o[1])==null?void 0:a.id),class:"flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[Vl]},$$scope:{ctx:o}}}),e.$on("click",o[9]),l=new Ke({props:{type:"button",class:"flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[Tl]},$$scope:{ctx:o}}}),l.$on("click",o[10]),{c(){Z(e.$$.fragment),t=q(),Z(l.$$.fragment)},l(s){G(e.$$.fragment,s),t=R(s),G(l.$$.fragment,s)},m(s,i){K(e,s,i),D(s,t,i),K(l,s,i),n=!0},p(s,i){var c,k;const u={};i&66&&(u["aria-pressed"]=(((c=s[6])==null?void 0:c.pinnedModels)??[]).includes((k=s[1])==null?void 0:k.id)),i&8290&&(u.$$scope={dirty:i,ctx:s}),e.$set(u);const f={};i&8224&&(f.$$scope={dirty:i,ctx:s}),l.$set(f)},i(s){n||(b(e.$$.fragment,s),b(l.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),$(l.$$.fragment,s),n=!1},d(s){s&&h(t),Y(e,s),Y(l,s)}}}function Ol(o){let e,t,l,n;return e=new Zt({props:{$$slots:{default:[yl]},$$scope:{ctx:o}}}),l=new Gt({props:{strategy:"fixed",class:"w-full max-w-[180px] text-sm rounded-xl px-1 py-1.5 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"end",transition:Kt,$$slots:{default:[Hl]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment),t=q(),Z(l.$$.fragment)},l(r){G(e.$$.fragment,r),t=R(r),G(l.$$.fragment,r)},m(r,a){K(e,r,a),D(r,t,a),K(l,r,a),n=!0},p(r,a){const s={};a&8288&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a&8303&&(i.$$scope={dirty:a,ctx:r}),l.$set(i)},i(r){n||(b(e.$$.fragment,r),b(l.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),$(l.$$.fragment,r),n=!1},d(r){r&&h(t),Y(e,r),Y(l,r)}}}function zl(o){let e,t,l;function n(a){o[12](a)}let r={closeFocus:!1,onOpenChange:o[11],typeahead:!1,$$slots:{default:[Ol]},$$scope:{ctx:o}};return o[0]!==void 0&&(r.open=o[0]),e=new Rt({props:r}),qe.push(()=>Je(e,"open",n)),{c(){Z(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,s){K(e,a,s),l=!0},p(a,[s]){const i={};s&16&&(i.onOpenChange=a[11]),s&8303&&(i.$$scope={dirty:s,ctx:a}),!t&&s&1&&(t=!0,i.open=a[0],Xe(()=>t=!1)),e.$set(i)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){$(e.$$.fragment,a),l=!1},d(a){Y(e,a)}}}function Sl(o,e,t){let l,n;ve(o,Yt,v=>t(6,n=v));let{$$slots:r={},$$scope:a}=e;const s=Qe("i18n");ve(o,s,v=>t(5,l=v));let{show:i=!1}=e,{model:u}=e,{pinModelHandler:f=()=>{}}=e,{copyLinkHandler:c=()=>{}}=e,{onClose:k=()=>{}}=e;const w=v=>{v.stopPropagation(),v.preventDefault(),f(u==null?void 0:u.id),t(0,i=!1)},g=v=>{v.stopPropagation(),v.preventDefault(),c(),t(0,i=!1)},M=v=>{v===!1&&k()};function O(v){i=v,t(0,i)}return o.$$set=v=>{"show"in v&&t(0,i=v.show),"model"in v&&t(1,u=v.model),"pinModelHandler"in v&&t(2,f=v.pinModelHandler),"copyLinkHandler"in v&&t(3,c=v.copyLinkHandler),"onClose"in v&&t(4,k=v.onClose),"$$scope"in v&&t(13,a=v.$$scope)},[i,u,f,c,k,l,n,s,r,w,g,M,O,a]}class Ll extends Ie{constructor(e){super(),Ne(this,e,Sl,zl,Ee,{show:0,model:1,pinModelHandler:2,copyLinkHandler:3,onClose:4})}}function Bl(o){let e,t,l;return{c(){e=Ce("svg"),t=Ce("path"),l=Ce("circle"),this.h()},l(n){e=De(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=H(e);t=De(r,"path",{d:!0,stroke:!0,fill:!0}),H(t).forEach(h),l=De(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),H(l).forEach(h),r.forEach(h),this.h()},h(){m(t,"d","M4 12 L8 7 H21 V17 H8 L4 12 Z"),m(t,"stroke","currentColor"),m(t,"fill","none"),m(l,"cx","10"),m(l,"cy","12"),m(l,"r","0.75"),m(l,"fill","currentColor"),m(l,"stroke","currentColor"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(n,r){D(n,e,r),C(e,t),C(e,l)},p(n,[r]){r&2&&m(e,"stroke-width",n[1]),r&1&&m(e,"class",n[0])},i:de,o:de,d(n){n&&h(e)}}}function Pl(o,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.8"}=e;return o.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class jl extends Ie{constructor(e){super(),Ne(this,e,Pl,Bl,Ee,{className:0,strokeWidth:1})}}function it(o,e,t){const l=o.slice();return l[17]=e[t],l}function Al(o){let e,t;return{c(){e=N("img"),this.h()},l(l){e=V(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var l,n,r;tt(e.src,t=((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.profile_image_url)??`${at}/static/favicon.png`)||m(e,"src",t),m(e,"alt","Model"),m(e,"class","rounded-full size-5 flex items-center")},m(l,n){D(l,e,n)},p(l,n){var r,a,s;n&2&&!tt(e.src,t=((s=(a=(r=l[1].model)==null?void 0:r.info)==null?void 0:a.meta)==null?void 0:s.profile_image_url)??`${at}/static/favicon.png`)&&m(e,"src",t)},d(l){l&&h(e)}}}function Ul(o){let e,t=o[1].label+"",l;return{c(){e=N("div"),l=le(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=H(e);l=ne(r,t),r.forEach(h),this.h()},h(){m(e,"class","line-clamp-1")},m(n,r){D(n,e,r),C(e,l)},p(n,r){r&2&&t!==(t=n[1].label+"")&&oe(l,t)},d(n){n&&h(e)}}}function ft(o){var s,i,u,f;let e,t=((s=o[1].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=o[1].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,l,n,r=(((f=(u=o[1].model.ollama)==null?void 0:u.details)==null?void 0:f.parameter_size)??"")!==""&&ut(o),a=t&&ct(o);return{c(){r&&r.c(),e=q(),a&&a.c(),l=We()},l(c){r&&r.l(c),e=R(c),a&&a.l(c),l=We()},m(c,k){r&&r.m(c,k),D(c,e,k),a&&a.m(c,k),D(c,l,k),n=!0},p(c,k){var w,g,M,O;(((g=(w=c[1].model.ollama)==null?void 0:w.details)==null?void 0:g.parameter_size)??"")!==""?r?(r.p(c,k),k&2&&b(r,1)):(r=ut(c),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(ue(),$(r,1,1,()=>{r=null}),ce()),k&2&&(t=((M=c[1].model.ollama)==null?void 0:M.expires_at)&&new Date(((O=c[1].model.ollama)==null?void 0:O.expires_at)*1e3)>new Date),t?a?(a.p(c,k),k&2&&b(a,1)):(a=ct(c),a.c(),b(a,1),a.m(l.parentNode,l)):a&&(ue(),$(a,1,1,()=>{a=null}),ce())},i(c){n||(b(r),b(a),n=!0)},o(c){$(r),$(a),n=!1},d(c){c&&(h(e),h(l)),r&&r.d(c),a&&a.d(c)}}}function ut(o){var n,r,a,s,i,u;let e,t,l;return t=new _e({props:{content:`${(r=(n=o[1].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(a=o[1].model.ollama)==null?void 0:a.details)==null?void 0:s.quantization_level)+" ":""}${(i=o[1].model.ollama)!=null&&i.size?`(${(((u=o[1].model.ollama)==null?void 0:u.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Wl]},$$scope:{ctx:o}}}),{c(){e=N("div"),Z(t.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var c=H(e);G(t.$$.fragment,c),c.forEach(h),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px]")},m(f,c){D(f,e,c),K(t,e,null),l=!0},p(f,c){var w,g,M,O,v,S;const k={};c&2&&(k.content=`${(g=(w=f[1].model.ollama)==null?void 0:w.details)!=null&&g.quantization_level?((O=(M=f[1].model.ollama)==null?void 0:M.details)==null?void 0:O.quantization_level)+" ":""}${(v=f[1].model.ollama)!=null&&v.size?`(${(((S=f[1].model.ollama)==null?void 0:S.size)/1024**3).toFixed(1)}GB)`:""}`),c&1048578&&(k.$$scope={dirty:c,ctx:f}),t.$set(k)},i(f){l||(b(t.$$.fragment,f),l=!0)},o(f){$(t.$$.fragment,f),l=!1},d(f){f&&h(e),Y(t)}}}function Wl(o){var n,r;let e,t=(((r=(n=o[1].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=N("span"),l=le(t),this.h()},l(a){e=V(a,"SPAN",{class:!0});var s=H(e);l=ne(s,t),s.forEach(h),this.h()},h(){m(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,s){D(a,e,s),C(e,l)},p(a,s){var i,u;s&2&&t!==(t=(((u=(i=a[1].model.ollama)==null?void 0:i.details)==null?void 0:u.parameter_size)??"")+"")&&oe(l,t)},d(a){a&&h(e)}}}function ct(o){var n;let e,t,l;return t=new _e({props:{content:`${o[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ye(((n=o[1].model.ollama)==null?void 0:n.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[Fl]},$$scope:{ctx:o}}}),{c(){e=N("div"),Z(t.$$.fragment),this.h()},l(r){e=V(r,"DIV",{class:!0});var a=H(e);G(t.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,a){D(r,e,a),K(t,e,null),l=!0},p(r,a){var i;const s={};a&258&&(s.content=`${r[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ye(((i=r[1].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),a&1048576&&(s.$$scope={dirty:a,ctx:r}),t.$set(s)},i(r){l||(b(t.$$.fragment,r),l=!0)},o(r){$(t.$$.fragment,r),l=!1},d(r){r&&h(e),Y(t)}}}function Fl(o){let e,t='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=N("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-pq0hxj"&&(e.innerHTML=t),this.h()},h(){m(e,"class","flex items-center")},m(l,n){D(l,e,n)},p:de,d(l){l&&h(e)}}}function dt(o){let e=o[1].model.id,t,l,n=ht(o);return{c(){n.c(),t=We()},l(r){n.l(r),t=We()},m(r,a){n.m(r,a),D(r,t,a),l=!0},p(r,a){a&2&&Ee(e,e=r[1].model.id)?(ue(),$(n,1,1,de),ce(),n=ht(r),n.c(),b(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){l||(b(n),l=!0)},o(r){$(n),l=!1},d(r){r&&h(t),n.d(r)}}}function ql(o){let e,t,l;return t=new jl({}),{c(){e=N("div"),Z(t.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=H(e);G(t.$$.fragment,r),r.forEach(h),this.h()},h(){m(e,"class","translate-y-[1px]")},m(n,r){D(n,e,r),K(t,e,null),l=!0},p:de,i(n){l||(b(t.$$.fragment,n),l=!0)},o(n){$(t.$$.fragment,n),l=!1},d(n){n&&h(e),Y(t)}}}function Rl(o){let e,t=o[17].name+"",l,n;return{c(){e=N("div"),l=le(t),n=q(),this.h()},l(r){e=V(r,"DIV",{class:!0});var a=H(e);l=ne(a,t),a.forEach(h),n=R(r),this.h()},h(){m(e,"class","text-xs font-semibold rounded-sm uppercase text-white")},m(r,a){D(r,e,a),C(e,l),D(r,n,a)},p(r,a){a&2&&t!==(t=r[17].name+"")&&oe(l,t)},d(r){r&&(h(e),h(n))}}}function mt(o){let e,t;return e=new _e({props:{content:o[17].name,className:"flex-shrink-0",$$slots:{default:[Rl]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n&2&&(r.content=l[17].name),n&1048578&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Zl(o){var s;let e,t,l,n=be((s=o[1].model)==null?void 0:s.tags.sort(vt)),r=[];for(let i=0;i<n.length;i+=1)r[i]=mt(it(o,n,i));const a=i=>$(r[i],1,1,()=>{r[i]=null});return{c(){e=N("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=V(i,"DIV",{slot:!0,id:!0});var u=H(e);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(h),this.h()},h(){m(e,"slot","tooltip"),m(e,"id",t="tags-"+o[1].model.id)},m(i,u){D(i,e,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(i,u){var f;if(u&2){n=be((f=i[1].model)==null?void 0:f.tags.sort(vt));let c;for(c=0;c<n.length;c+=1){const k=it(i,n,c);r[c]?(r[c].p(k,u),b(r[c],1)):(r[c]=mt(k),r[c].c(),b(r[c],1),r[c].m(e,null))}for(ue(),c=n.length;c<r.length;c+=1)a(c);ce()}(!l||u&2&&t!==(t="tags-"+i[1].model.id))&&m(e,"id",t)},i(i){if(!l){for(let u=0;u<n.length;u+=1)b(r[u]);l=!0}},o(i){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)$(r[u]);l=!1},d(i){i&&h(e),Fe(r,i)}}}function ht(o){let e,t;return e=new _e({props:{elementId:"tags-"+o[1].model.id,$$slots:{tooltip:[Zl],default:[ql]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n&2&&(r.elementId="tags-"+l[1].model.id),n&1048578&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Gl(o){let e,t;return e=new _e({props:{content:`${o[8].t("External")}`,$$slots:{default:[Yl]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("External")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Kl(o){let e,t;return e=new _e({props:{content:`${o[8].t("Direct")}`,$$slots:{default:[Jl]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Direct")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Yl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=N("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1we9nfa"&&(e.innerHTML=t),this.h()},h(){m(e,"class","translate-y-[1px]")},m(l,n){D(l,e,n)},p:de,d(l){l&&h(e)}}}function Jl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=N("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1pvx0j8"&&(e.innerHTML=t),this.h()},h(){m(e,"class","translate-y-[1px]")},m(l,n){D(l,e,n)},p:de,d(l){l&&h(e)}}}function _t(o){var l,n,r;let e,t;return e=new _e({props:{content:`${rt.parse(ot((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Xl]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,s){K(e,a,s),t=!0},p(a,s){var u,f,c;const i={};s&2&&(i.content=`${rt.parse(ot((c=(f=(u=a[1].model)==null?void 0:u.info)==null?void 0:f.meta)==null?void 0:c.description).replaceAll(`
`,"<br>"))}`),s&1048576&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(a){t||(b(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){Y(e,a)}}}function Xl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=N("div"),e.innerHTML=t,this.h()},l(l){e=V(l,"DIV",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-i7zoyb"&&(e.innerHTML=t),this.h()},h(){m(e,"class","translate-y-[1px]")},m(l,n){D(l,e,n)},p:de,d(l){l&&h(e)}}}function pt(o){let e,t;return e=new _e({props:{content:`${o[8].t("Eject")}`,className:"flex-shrink-0 group-hover/item:opacity-100 opacity-0 ",$$slots:{default:[Ql]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Eject")}`),n&1048594&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Ql(o){let e,t,l,n,r;return t=new Ml({props:{className:"size-3"}}),{c(){e=N("button"),Z(t.$$.fragment),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var s=H(e);G(t.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"class","flex")},m(a,s){D(a,e,s),K(t,e,null),l=!0,n||(r=me(e,"click",o[12]),n=!0)},p:de,i(a){l||(b(t.$$.fragment,a),l=!0)},o(a){$(t.$$.fragment,a),l=!1},d(a){a&&h(e),Y(t),n=!1,r()}}}function xl(o){let e,t,l,n,r,a;return t=new wl({}),{c(){e=N("button"),Z(t.$$.fragment),this.h()},l(s){e=V(s,"BUTTON",{"aria-label":!0,class:!0});var i=H(e);G(t.$$.fragment,i),i.forEach(h),this.h()},h(){m(e,"aria-label",l=`${o[8].t("More Options")}`),m(e,"class","flex")},m(s,i){D(s,e,i),K(t,e,null),n=!0,r||(a=me(e,"click",o[13]),r=!0)},p(s,i){(!n||i&256&&l!==(l=`${s[8].t("More Options")}`))&&m(e,"aria-label",l)},i(s){n||(b(t.$$.fragment,s),n=!0)},o(s){$(t.$$.fragment,s),n=!1},d(s){s&&h(e),Y(t),r=!1,a()}}}function gt(o){let e,t,l;return t=new pl({props:{className:"size-3"}}),{c(){e=N("div"),Z(t.$$.fragment)},l(n){e=V(n,"DIV",{});var r=H(e);G(t.$$.fragment,r),r.forEach(h)},m(n,r){D(n,e,r),K(t,e,null),l=!0},i(n){l||(b(t.$$.fragment,n),l=!0)},o(n){$(t.$$.fragment,n),l=!1},d(n){n&&h(e),Y(t)}}}function en(o){var He,Oe,ze,Se,Le,Be,Pe,je,Ae,Ue;let e,t,l,n,r,a,s,i,u,f,c,k,w,g,M,O,v,S=((He=o[9])==null?void 0:He.role)==="admin"&&o[1].model.owned_by==="ollama"&&((Oe=o[1].model.ollama)==null?void 0:Oe.expires_at)&&new Date(((ze=o[1].model.ollama)==null?void 0:ze.expires_at)*1e3)>new Date,y,p,j,U,B,A,z,re,se,x,ee;r=new _e({props:{content:((Se=o[9])==null?void 0:Se.role)==="admin"?((Le=o[1])==null?void 0:Le.value)??"":"",placement:"top-start",$$slots:{default:[Al]},$$scope:{ctx:o}}}),i=new _e({props:{content:`${o[1].label} (${o[1].value})`,placement:"top-start",$$slots:{default:[Ul]},$$scope:{ctx:o}}});let P=o[1].model.owned_by==="ollama"&&ft(o),_=(((Pe=(Be=o[1])==null?void 0:Be.model)==null?void 0:Pe.tags)??[]).length>0&&dt(o);const E=[Kl,Gl],J=[];function ae(I,W){var ge;return(ge=I[1].model)!=null&&ge.direct?0:I[1].model.connection_type==="external"?1:-1}~(w=ae(o))&&(g=J[w]=E[w](o));let T=((Ue=(Ae=(je=o[1].model)==null?void 0:je.info)==null?void 0:Ae.meta)==null?void 0:Ue.description)&&_t(o),Q=S&&pt(o);function Re(I){o[15](I)}let Te={model:o[1].model,pinModelHandler:o[5],copyLinkHandler:o[14],$$slots:{default:[xl]},$$scope:{ctx:o}};o[7]!==void 0&&(Te.show=o[7]),p=new Ll({props:Te}),qe.push(()=>Je(p,"show",Re));let te=o[3]===o[1].value&&gt();return{c(){e=N("button"),t=N("div"),l=N("div"),n=N("div"),Z(r.$$.fragment),a=q(),s=N("div"),Z(i.$$.fragment),u=q(),f=N("div"),P&&P.c(),c=q(),_&&_.c(),k=q(),g&&g.c(),M=q(),T&&T.c(),O=q(),v=N("div"),Q&&Q.c(),y=q(),Z(p.$$.fragment),U=q(),te&&te.c(),this.h()},l(I){e=V(I,"BUTTON",{"aria-roledescription":!0,"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var W=H(e);t=V(W,"DIV",{class:!0});var ge=H(t);l=V(ge,"DIV",{class:!0});var d=H(l);n=V(d,"DIV",{class:!0});var L=H(n);G(r.$$.fragment,L),L.forEach(h),a=R(d),s=V(d,"DIV",{class:!0});var F=H(s);G(i.$$.fragment,F),F.forEach(h),u=R(d),f=V(d,"DIV",{class:!0});var X=H(f);P&&P.l(X),c=R(X),_&&_.l(X),k=R(X),g&&g.l(X),M=R(X),T&&T.l(X),X.forEach(h),d.forEach(h),ge.forEach(h),O=R(W),v=V(W,"DIV",{class:!0});var ie=H(v);Q&&Q.l(ie),y=R(ie),G(p.$$.fragment,ie),U=R(ie),te&&te.l(ie),ie.forEach(h),W.forEach(h),this.h()},h(){m(n,"class","flex items-center min-w-fit"),m(s,"class","flex items-center"),m(f,"class","shrink-0 flex items-center gap-2"),m(l,"class","flex items-center gap-2"),m(t,"class","flex flex-col flex-1 gap-1.5"),m(v,"class","ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0"),m(e,"aria-roledescription","model-item"),m(e,"aria-label",B=o[1].label),m(e,"class",A="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(o[2]===o[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),m(e,"data-arrow-selected",z=o[2]===o[0]),m(e,"data-value",re=o[1].value)},m(I,W){D(I,e,W),C(e,t),C(t,l),C(l,n),K(r,n,null),C(l,a),C(l,s),K(i,s,null),C(l,u),C(l,f),P&&P.m(f,null),C(f,c),_&&_.m(f,null),C(f,k),~w&&J[w].m(f,null),C(f,M),T&&T.m(f,null),C(e,O),C(e,v),Q&&Q.m(v,null),C(v,y),K(p,v,null),C(v,U),te&&te.m(v,null),se=!0,x||(ee=me(e,"click",o[16]),x=!0)},p(I,[W]){var X,ie,he,we,ke,ye,fe,$e,xe,et;const ge={};W&514&&(ge.content=((X=I[9])==null?void 0:X.role)==="admin"?((ie=I[1])==null?void 0:ie.value)??"":""),W&1048578&&(ge.$$scope={dirty:W,ctx:I}),r.$set(ge);const d={};W&2&&(d.content=`${I[1].label} (${I[1].value})`),W&1048578&&(d.$$scope={dirty:W,ctx:I}),i.$set(d),I[1].model.owned_by==="ollama"?P?(P.p(I,W),W&2&&b(P,1)):(P=ft(I),P.c(),b(P,1),P.m(f,c)):P&&(ue(),$(P,1,1,()=>{P=null}),ce()),(((we=(he=I[1])==null?void 0:he.model)==null?void 0:we.tags)??[]).length>0?_?(_.p(I,W),W&2&&b(_,1)):(_=dt(I),_.c(),b(_,1),_.m(f,k)):_&&(ue(),$(_,1,1,()=>{_=null}),ce());let L=w;w=ae(I),w===L?~w&&J[w].p(I,W):(g&&(ue(),$(J[L],1,1,()=>{J[L]=null}),ce()),~w?(g=J[w],g?g.p(I,W):(g=J[w]=E[w](I),g.c()),b(g,1),g.m(f,M)):g=null),(fe=(ye=(ke=I[1].model)==null?void 0:ke.info)==null?void 0:ye.meta)!=null&&fe.description?T?(T.p(I,W),W&2&&b(T,1)):(T=_t(I),T.c(),b(T,1),T.m(f,null)):T&&(ue(),$(T,1,1,()=>{T=null}),ce()),W&514&&(S=(($e=I[9])==null?void 0:$e.role)==="admin"&&I[1].model.owned_by==="ollama"&&((xe=I[1].model.ollama)==null?void 0:xe.expires_at)&&new Date(((et=I[1].model.ollama)==null?void 0:et.expires_at)*1e3)>new Date),S?Q?(Q.p(I,W),W&514&&b(Q,1)):(Q=pt(I),Q.c(),b(Q,1),Q.m(v,y)):Q&&(ue(),$(Q,1,1,()=>{Q=null}),ce());const F={};W&2&&(F.model=I[1].model),W&32&&(F.pinModelHandler=I[5]),W&2&&(F.copyLinkHandler=I[14]),W&1048960&&(F.$$scope={dirty:W,ctx:I}),!j&&W&128&&(j=!0,F.show=I[7],Xe(()=>j=!1)),p.$set(F),I[3]===I[1].value?te?W&10&&b(te,1):(te=gt(),te.c(),b(te,1),te.m(v,null)):te&&(ue(),$(te,1,1,()=>{te=null}),ce()),(!se||W&2&&B!==(B=I[1].label))&&m(e,"aria-label",B),(!se||W&5&&A!==(A="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(I[2]===I[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&m(e,"class",A),(!se||W&5&&z!==(z=I[2]===I[0]))&&m(e,"data-arrow-selected",z),(!se||W&2&&re!==(re=I[1].value))&&m(e,"data-value",re)},i(I){se||(b(r.$$.fragment,I),b(i.$$.fragment,I),b(P),b(_),b(g),b(T),b(Q),b(p.$$.fragment,I),b(te),se=!0)},o(I){$(r.$$.fragment,I),$(i.$$.fragment,I),$(P),$(_),$(g),$(T),$(Q),$(p.$$.fragment,I),$(te),se=!1},d(I){I&&h(e),Y(r),Y(i),P&&P.d(),_&&_.d(),~w&&J[w].d(),T&&T.d(),Q&&Q.d(),Y(p),te&&te.d(),x=!1,ee()}}}const vt=(o,e)=>o.name.localeCompare(e.name);function tn(o,e,t){let l,n;ve(o,Jt,p=>t(9,n=p));const r=Qe("i18n");ve(o,r,p=>t(8,l=p));let{selectedModelIdx:a=-1}=e,{item:s={}}=e,{index:i=-1}=e,{value:u=""}=e,{unloadModelHandler:f=()=>{}}=e,{pinModelHandler:c=()=>{}}=e,{onClick:k=()=>{}}=e;const w=async p=>{const j=window.location.origin;await el(`${j}/?model=${encodeURIComponent(p.id)}`)?pe.success(l.t("Copied link to clipboard")):pe.error(l.t("Failed to copy link"))};let g=!1;const M=p=>{p.preventDefault(),p.stopPropagation(),f(s.value)},O=p=>{p.preventDefault(),p.stopPropagation(),t(7,g=!g)},v=()=>{w(s.model)};function S(p){g=p,t(7,g)}const y=()=>{k()};return o.$$set=p=>{"selectedModelIdx"in p&&t(0,a=p.selectedModelIdx),"item"in p&&t(1,s=p.item),"index"in p&&t(2,i=p.index),"value"in p&&t(3,u=p.value),"unloadModelHandler"in p&&t(4,f=p.unloadModelHandler),"pinModelHandler"in p&&t(5,c=p.pinModelHandler),"onClick"in p&&t(6,k=p.onClick)},[a,s,i,u,f,c,k,g,l,n,r,w,M,O,v,S,y]}class ln extends Ie{constructor(e){super(),Ne(this,e,tn,en,Ee,{selectedModelIdx:0,item:1,index:2,value:3,unloadModelHandler:4,pinModelHandler:5,onClick:6})}}function bt(o,e,t){const l=o.slice();return l[51]=e[t],l}function wt(o,e,t){const l=o.slice();return l[54]=e[t],l[56]=t,l}function kt(o,e,t){const l=o.slice();return l[57]=e[t],l}function nn(o){let e;return{c(){e=le(o[2])},l(t){e=ne(t,o[2])},m(t,l){D(t,e,l)},p(t,l){l[0]&4&&oe(e,t[2])},d(t){t&&h(e)}}}function rn(o){let e=o[16].label+"",t;return{c(){t=le(e)},l(l){t=ne(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&65536&&e!==(e=l[16].label+"")&&oe(t,e)},d(l){l&&h(t)}}}function on(o){let e,t,l,n,r,a,s;function i(c,k){return c[16]?rn:nn}let u=i(o),f=u(o);return l=new dl({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=N("div"),f.c(),t=q(),Z(l.$$.fragment),this.h()},l(c){e=V(c,"DIV",{class:!0});var k=H(e);f.l(k),t=R(k),G(l.$$.fragment,k),k.forEach(h),this.h()},h(){var c;m(e,"class",n="flex w-full text-left px-0.5 bg-transparent truncate "+o[8]+" justify-between "+(((c=o[20])==null?void 0:c.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400"))},m(c,k){D(c,e,k),f.m(e,null),C(e,t),K(l,e,null),r=!0,a||(s=me(e,"mouseenter",o[33]),a=!0)},p(c,k){var w;u===(u=i(c))&&f?f.p(c,k):(f.d(1),f=u(c),f&&(f.c(),f.m(e,t))),(!r||k[0]&1048832&&n!==(n="flex w-full text-left px-0.5 bg-transparent truncate "+c[8]+" justify-between "+(((w=c[20])==null?void 0:w.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400")))&&m(e,"class",n)},i(c){r||(b(l.$$.fragment,c),r=!0)},o(c){$(l.$$.fragment,c),r=!1},d(c){c&&h(e),f.d(),Y(l),a=!1,s()}}}function $t(o){let e,t,l,n,r,a,s,i;return t=new ml({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=N("div"),Z(t.$$.fragment),l=q(),n=N("input"),this.h()},l(u){e=V(u,"DIV",{class:!0});var f=H(e);G(t.$$.fragment,f),l=R(f),n=V(f,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0,"aria-label":!0}),f.forEach(h),this.h()},h(){m(n,"id","model-search-input"),m(n,"class","w-full text-sm bg-transparent outline-hidden"),m(n,"placeholder",o[4]),m(n,"autocomplete","off"),m(n,"aria-label",r=o[22].t("Search In Models")),m(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(u,f){D(u,e,f),K(t,e,null),C(e,l),C(e,n),nt(n,o[10]),a=!0,s||(i=[me(n,"input",o[34]),me(n,"keydown",o[35])],s=!0)},p(u,f){(!a||f[0]&16)&&m(n,"placeholder",u[4]),(!a||f[0]&4194304&&r!==(r=u[22].t("Search In Models")))&&m(n,"aria-label",r),f[0]&1024&&n.value!==u[10]&&nt(n,u[10])},i(u){a||(b(t.$$.fragment,u),a=!0)},o(u){$(t.$$.fragment,u),a=!1},d(u){u&&h(e),Y(t),s=!1,xt(i)}}}function Mt(o){let e,t,l=o[6].find(Pt)||o[6].find(jt)||o[6].find(At)||o[15].length>0,n,r=o[6].find(Bt),a,s=o[6].find(Lt),i,u=o[6].find(St),f,c,k,w=l&&Et(o),g=r&&yt(o),M=s&&Ct(o),O=u&&Dt(o),v=be(o[15]),S=[];for(let y=0;y<v.length;y+=1)S[y]=It(kt(o,v,y));return{c(){e=N("div"),t=N("div"),w&&w.c(),n=q(),g&&g.c(),a=q(),M&&M.c(),i=q(),O&&O.c(),f=q();for(let y=0;y<S.length;y+=1)S[y].c();this.h()},l(y){e=V(y,"DIV",{class:!0});var p=H(e);t=V(p,"DIV",{class:!0});var j=H(t);w&&w.l(j),n=R(j),g&&g.l(j),a=R(j),M&&M.l(j),i=R(j),O&&O.l(j),f=R(j);for(let U=0;U<S.length;U+=1)S[U].l(j);j.forEach(h),p.forEach(h),this.h()},h(){m(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),m(e,"class","flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(y,p){D(y,e,p),C(e,t),w&&w.m(t,null),C(t,n),g&&g.m(t,null),C(t,a),M&&M.m(t,null),C(t,i),O&&O.m(t,null),C(t,f);for(let j=0;j<S.length;j+=1)S[j]&&S[j].m(t,null);o[41](t),c||(k=me(e,"wheel",pn),c=!0)},p(y,p){if(p[0]&32832&&(l=y[6].find(Pt)||y[6].find(jt)||y[6].find(At)||y[15].length>0),l?w?w.p(y,p):(w=Et(y),w.c(),w.m(t,n)):w&&(w.d(1),w=null),p[0]&64&&(r=y[6].find(Bt)),r?g?g.p(y,p):(g=yt(y),g.c(),g.m(t,a)):g&&(g.d(1),g=null),p[0]&64&&(s=y[6].find(Lt)),s?M?M.p(y,p):(M=Ct(y),M.c(),M.m(t,i)):M&&(M.d(1),M=null),p[0]&64&&(u=y[6].find(St)),u?O?O.p(y,p):(O=Dt(y),O.c(),O.m(t,f)):O&&(O.d(1),O=null),p[0]&38912){v=be(y[15]);let j;for(j=0;j<v.length;j+=1){const U=kt(y,v,j);S[j]?S[j].p(U,p):(S[j]=It(U),S[j].c(),S[j].m(t,null))}for(;j<S.length;j+=1)S[j].d(1);S.length=v.length}},d(y){y&&h(e),w&&w.d(),g&&g.d(),M&&M.d(),O&&O.d(),Fe(S,y),o[41](null),c=!1,k()}}}function Et(o){let e,t=o[22].t("All")+"",l,n,r,a,s;return{c(){e=N("button"),l=le(t),this.h()},l(i){e=V(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=H(e);l=ne(u,t),u.forEach(h),this.h()},h(){m(e,"class",n="min-w-fit outline-none p-1.5 "+(o[11]===""&&o[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[11]===""&&o[12]==="")},m(i,u){D(i,e,u),C(e,l),a||(s=me(e,"click",o[36]),a=!0)},p(i,u){u[0]&4194304&&t!==(t=i[22].t("All")+"")&&oe(l,t),u[0]&6144&&n!==(n="min-w-fit outline-none p-1.5 "+(i[11]===""&&i[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&6144&&r!==(r=i[11]===""&&i[12]==="")&&m(e,"aria-pressed",r)},d(i){i&&h(e),a=!1,s()}}}function yt(o){let e,t=o[22].t("Local")+"",l,n,r,a,s;return{c(){e=N("button"),l=le(t),this.h()},l(i){e=V(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=H(e);l=ne(u,t),u.forEach(h),this.h()},h(){m(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="local")},m(i,u){D(i,e,u),C(e,l),a||(s=me(e,"click",o[37]),a=!0)},p(i,u){u[0]&4194304&&t!==(t=i[22].t("Local")+"")&&oe(l,t),u[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(i[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="local")&&m(e,"aria-pressed",r)},d(i){i&&h(e),a=!1,s()}}}function Ct(o){let e,t=o[22].t("External")+"",l,n,r,a,s;return{c(){e=N("button"),l=le(t),this.h()},l(i){e=V(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=H(e);l=ne(u,t),u.forEach(h),this.h()},h(){m(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="external")},m(i,u){D(i,e,u),C(e,l),a||(s=me(e,"click",o[38]),a=!0)},p(i,u){u[0]&4194304&&t!==(t=i[22].t("External")+"")&&oe(l,t),u[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(i[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="external")&&m(e,"aria-pressed",r)},d(i){i&&h(e),a=!1,s()}}}function Dt(o){let e,t=o[22].t("Direct")+"",l,n,r,a,s;return{c(){e=N("button"),l=le(t),this.h()},l(i){e=V(i,"BUTTON",{class:!0,"aria-pressed":!0});var u=H(e);l=ne(u,t),u.forEach(h),this.h()},h(){m(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="direct")},m(i,u){D(i,e,u),C(e,l),a||(s=me(e,"click",o[39]),a=!0)},p(i,u){u[0]&4194304&&t!==(t=i[22].t("Direct")+"")&&oe(l,t),u[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(i[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),u[0]&4096&&r!==(r=i[12]==="direct")&&m(e,"aria-pressed",r)},d(i){i&&h(e),a=!1,s()}}}function It(o){let e,t=o[57]+"",l,n,r,a,s,i;function u(){return o[40](o[57])}return{c(){e=N("button"),l=le(t),n=q(),this.h()},l(f){e=V(f,"BUTTON",{class:!0,"aria-pressed":!0});var c=H(e);l=ne(c,t),n=R(c),c.forEach(h),this.h()},h(){m(e,"class",r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",a=o[11]===o[57])},m(f,c){D(f,e,c),C(e,l),C(e,n),s||(i=me(e,"click",u),s=!0)},p(f,c){o=f,c[0]&32768&&t!==(t=o[57]+"")&&oe(l,t),c[0]&34816&&r!==(r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",r),c[0]&34816&&a!==(a=o[11]===o[57])&&m(e,"aria-pressed",a)},d(f){f&&h(e),s=!1,i()}}}function Nt(o){let e,t,l=o[22].t("No results found")+"",n;return{c(){e=N("div"),t=N("div"),n=le(l),this.h()},l(r){e=V(r,"DIV",{class:!0});var a=H(e);t=V(a,"DIV",{class:!0});var s=H(t);n=ne(s,l),s.forEach(h),a.forEach(h),this.h()},h(){m(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),m(e,"class","")},m(r,a){D(r,e,a),C(e,t),C(t,n)},p(r,a){a[0]&4194304&&l!==(l=r[22].t("No results found")+"")&&oe(n,l)},d(r){r&&h(e)}}}function Vt(o){let e,t;function l(){return o[42](o[54],o[56])}return e=new ln({props:{selectedModelIdx:o[18],item:o[54],index:o[56],value:o[0],pinModelHandler:o[9],unloadModelHandler:o[31],onClick:l}}),{c(){Z(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,r){K(e,n,r),t=!0},p(n,r){o=n;const a={};r[0]&262144&&(a.selectedModelIdx=o[18]),r[0]&524288&&(a.item=o[54]),r[0]&1&&(a.value=o[0]),r[0]&512&&(a.pinModelHandler=o[9]),r[0]&802817&&(a.onClick=l),e.$set(a)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Tt(o){let e,t;return e=new _e({props:{content:o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]}),placement:"top-start",$$slots:{default:[an]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,n){K(e,l,n),t=!0},p(l,n){const r={};n[0]&4195328&&(r.content=l[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[10]})),n[0]&4195328|n[1]&131072&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function an(o){let e,t,l=o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]})+"",n,r,a;return{c(){e=N("button"),t=N("div"),n=le(l),this.h()},l(s){e=V(s,"BUTTON",{class:!0});var i=H(e);t=V(i,"DIV",{class:!0});var u=H(t);n=ne(u,l),u.forEach(h),i.forEach(h),this.h()},h(){m(t,"class","truncate"),m(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){D(s,e,i),C(e,t),C(t,n),r||(a=me(e,"click",o[43]),r=!0)},p(s,i){i[0]&4195328&&l!==(l=s[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[10]})+"")&&oe(n,l)},d(s){s&&h(e),r=!1,a()}}}function Ht(o){let e,t=o[23][o[51]].digest+"",l;return{c(){e=N("div"),l=le(t),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=H(e);l=ne(r,t),r.forEach(h),this.h()},h(){m(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){D(n,e,r),C(e,l)},p(n,r){r[0]&8388608&&t!==(t=n[23][n[51]].digest+"")&&oe(l,t)},d(n){n&&h(e)}}}function sn(o){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function r(){return o[44](o[51])}return{c(){e=N("button"),e.innerHTML=t,this.h()},l(a){e=V(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){m(e,"class","text-gray-800 dark:text-gray-100")},m(a,s){D(a,e,s),l||(n=me(e,"click",r),l=!0)},p(a,s){o=a},d(a){a&&h(e),l=!1,n()}}}function Ot(o){let e,t,l,n,r,a,s,i,u,f=o[51]+"",c,k,w,g,M="pullProgress"in o[23][o[51]]?`(${o[23][o[51]].pullProgress}%)`:"",O,v,S,y,p,j,U;n=new rl({});let B="digest"in o[23][o[51]]&&o[23][o[51]].digest&&Ht(o);return p=new _e({props:{content:o[22].t("Cancel"),$$slots:{default:[sn]},$$scope:{ctx:o}}}),{c(){e=N("div"),t=N("div"),l=N("div"),Z(n.$$.fragment),r=q(),a=N("div"),s=N("div"),i=N("div"),u=le('Downloading "'),c=le(f),k=le('"'),w=q(),g=N("div"),O=le(M),v=q(),B&&B.c(),S=q(),y=N("div"),Z(p.$$.fragment),j=q(),this.h()},l(A){e=V(A,"DIV",{class:!0});var z=H(e);t=V(z,"DIV",{class:!0});var re=H(t);l=V(re,"DIV",{class:!0});var se=H(l);G(n.$$.fragment,se),se.forEach(h),r=R(re),a=V(re,"DIV",{class:!0});var x=H(a);s=V(x,"DIV",{class:!0});var ee=H(s);i=V(ee,"DIV",{class:!0});var P=H(i);u=ne(P,'Downloading "'),c=ne(P,f),k=ne(P,'"'),P.forEach(h),w=R(ee),g=V(ee,"DIV",{class:!0});var _=H(g);O=ne(_,M),_.forEach(h),ee.forEach(h),v=R(x),B&&B.l(x),x.forEach(h),re.forEach(h),S=R(z),y=V(z,"DIV",{class:!0});var E=H(y);G(p.$$.fragment,E),E.forEach(h),j=R(z),z.forEach(h),this.h()},h(){m(l,"class","-ml-2 mr-2.5 translate-y-0.5"),m(i,"class","line-clamp-1"),m(g,"class","shrink-0"),m(s,"class","flex gap-1"),m(a,"class","flex flex-col self-start"),m(t,"class","flex"),m(y,"class","mr-2 ml-1 translate-y-0.5"),m(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(A,z){D(A,e,z),C(e,t),C(t,l),K(n,l,null),C(t,r),C(t,a),C(a,s),C(s,i),C(i,u),C(i,c),C(i,k),C(s,w),C(s,g),C(g,O),C(a,v),B&&B.m(a,null),C(e,S),C(e,y),K(p,y,null),C(e,j),U=!0},p(A,z){(!U||z[0]&8388608)&&f!==(f=A[51]+"")&&oe(c,f),(!U||z[0]&8388608)&&M!==(M="pullProgress"in A[23][A[51]]?`(${A[23][A[51]].pullProgress}%)`:"")&&oe(O,M),"digest"in A[23][A[51]]&&A[23][A[51]].digest?B?B.p(A,z):(B=Ht(A),B.c(),B.m(a,null)):B&&(B.d(1),B=null);const re={};z[0]&4194304&&(re.content=A[22].t("Cancel")),z[0]&8388608|z[1]&131072&&(re.$$scope={dirty:z,ctx:A}),p.$set(re)},i(A){U||(b(n.$$.fragment,A),b(p.$$.fragment,A),U=!0)},o(A){$(n.$$.fragment,A),$(p.$$.fragment,A),U=!1},d(A){A&&h(e),Y(n),B&&B.d(),Y(p)}}}function fn(o){let e;return{c(){e=N("div"),this.h()},l(t){e=V(t,"DIV",{class:!0}),H(e).forEach(h),this.h()},h(){m(e,"class","mb-3")},m(t,l){D(t,e,l)},p:de,i:de,o:de,d(t){t&&h(e)}}}function un(o){let e,t,l;return t=new Ke({props:{class:"flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted",$$slots:{default:[cn]},$$scope:{ctx:o}}}),t.$on("click",o[45]),{c(){e=N("div"),Z(t.$$.fragment),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=H(e);G(t.$$.fragment,r),r.forEach(h),this.h()},h(){m(e,"class","flex items-center mx-2 mt-1 mb-2")},m(n,r){D(n,e,r),K(t,e,null),l=!0},p(n,r){const a={};r[0]&71303168|r[1]&131072&&(a.$$scope={dirty:r,ctx:n}),t.$set(a)},i(n){l||(b(t.$$.fragment,n),l=!0)},o(n){$(t.$$.fragment,n),l=!1},d(n){n&&h(e),Y(t)}}}function cn(o){let e,t,l,n=o[22].t("Temporary Chat")+"",r,a,s,i,u;return t=new _l({props:{className:"size-4",strokeWidth:"2.5"}}),i=new hl({props:{state:o[26]}}),{c(){e=N("div"),Z(t.$$.fragment),l=q(),r=le(n),a=q(),s=N("div"),Z(i.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var c=H(e);G(t.$$.fragment,c),l=R(c),r=ne(c,n),c.forEach(h),a=R(f),s=V(f,"DIV",{});var k=H(s);G(i.$$.fragment,k),k.forEach(h),this.h()},h(){m(e,"class","flex gap-2.5 items-center")},m(f,c){D(f,e,c),K(t,e,null),C(e,l),C(e,r),D(f,a,c),D(f,s,c),K(i,s,null),u=!0},p(f,c){(!u||c[0]&4194304)&&n!==(n=f[22].t("Temporary Chat")+"")&&oe(r,n);const k={};c[0]&67108864&&(k.state=f[26]),i.$set(k)},i(f){u||(b(t.$$.fragment,f),b(i.$$.fragment,f),u=!0)},o(f){$(t.$$.fragment,f),$(i.$$.fragment,f),u=!1},d(f){f&&(h(e),h(a),h(s)),Y(t),Y(i)}}}function dn(o){var P;let e,t,l=o[15]&&o[6].filter(zt).length>0,n,r,a,s=!(o[10].trim()in o[23])&&o[10]&&o[17]&&((P=o[25])==null?void 0:P.role)==="admin",i,u,f,c,k,w,g,M,O,v=o[3]&&$t(o),S=l&&Mt(o),y=be(o[19]),p=[];for(let _=0;_<y.length;_+=1)p[_]=Vt(wt(o,y,_));const j=_=>$(p[_],1,1,()=>{p[_]=null});let U=null;y.length||(U=Nt(o));let B=s&&Tt(o),A=be(Object.keys(o[23])),z=[];for(let _=0;_<A.length;_+=1)z[_]=Ot(bt(o,A,_));const re=_=>$(z[_],1,1,()=>{z[_]=null}),se=[un,fn],x=[];function ee(_,E){return _[5]?0:1}return f=ee(o),c=x[f]=se[f](o),{c(){v&&v.c(),e=q(),t=N("div"),S&&S.c(),n=q(),r=N("div");for(let _=0;_<p.length;_+=1)p[_].c();U&&U.c(),a=q(),B&&B.c(),i=q();for(let _=0;_<z.length;_+=1)z[_].c();u=q(),c.c(),k=q(),w=N("div"),g=q(),M=N("div"),this.h()},l(_){v&&v.l(_),e=R(_),t=V(_,"DIV",{class:!0});var E=H(t);S&&S.l(E),E.forEach(h),n=R(_),r=V(_,"DIV",{class:!0});var J=H(r);for(let ae=0;ae<p.length;ae+=1)p[ae].l(J);U&&U.l(J),a=R(J),B&&B.l(J),i=R(J);for(let ae=0;ae<z.length;ae+=1)z[ae].l(J);J.forEach(h),u=R(_),c.l(_),k=R(_),w=V(_,"DIV",{class:!0}),H(w).forEach(h),g=R(_),M=V(_,"DIV",{class:!0}),H(M).forEach(h),this.h()},h(){m(t,"class","px-3"),m(r,"class","px-3 max-h-64 overflow-y-auto group relative"),m(w,"class","hidden w-[42rem]"),m(M,"class","hidden w-[32rem]")},m(_,E){v&&v.m(_,E),D(_,e,E),D(_,t,E),S&&S.m(t,null),D(_,n,E),D(_,r,E);for(let J=0;J<p.length;J+=1)p[J]&&p[J].m(r,null);U&&U.m(r,null),C(r,a),B&&B.m(r,null),C(r,i);for(let J=0;J<z.length;J+=1)z[J]&&z[J].m(r,null);D(_,u,E),x[f].m(_,E),D(_,k,E),D(_,w,E),D(_,g,E),D(_,M,E),O=!0},p(_,E){var ae;if(_[3]?v?(v.p(_,E),E[0]&8&&b(v,1)):(v=$t(_),v.c(),b(v,1),v.m(e.parentNode,e)):v&&(ue(),$(v,1,1,()=>{v=null}),ce()),E[0]&32832&&(l=_[15]&&_[6].filter(zt).length>0),l?S?S.p(_,E):(S=Mt(_),S.c(),S.m(t,null)):S&&(S.d(1),S=null),E[0]&4997633|E[1]&1){y=be(_[19]);let T;for(T=0;T<y.length;T+=1){const Q=wt(_,y,T);p[T]?(p[T].p(Q,E),b(p[T],1)):(p[T]=Vt(Q),p[T].c(),b(p[T],1),p[T].m(r,a))}for(ue(),T=y.length;T<p.length;T+=1)j(T);ce(),!y.length&&U?U.p(_,E):y.length?U&&(U.d(1),U=null):(U=Nt(_),U.c(),U.m(r,a))}if(E[0]&42075136&&(s=!(_[10].trim()in _[23])&&_[10]&&_[17]&&((ae=_[25])==null?void 0:ae.role)==="admin"),s?B?(B.p(_,E),E[0]&42075136&&b(B,1)):(B=Tt(_),B.c(),b(B,1),B.m(r,i)):B&&(ue(),$(B,1,1,()=>{B=null}),ce()),E[0]&1086324736){A=be(Object.keys(_[23]));let T;for(T=0;T<A.length;T+=1){const Q=bt(_,A,T);z[T]?(z[T].p(Q,E),b(z[T],1)):(z[T]=Ot(Q),z[T].c(),b(z[T],1),z[T].m(r,null))}for(ue(),T=A.length;T<z.length;T+=1)re(T);ce()}let J=f;f=ee(_),f===J?x[f].p(_,E):(ue(),$(x[J],1,1,()=>{x[J]=null}),ce(),c=x[f],c?c.p(_,E):(c=x[f]=se[f](_),c.c()),b(c,1),c.m(k.parentNode,k))},i(_){if(!O){b(v);for(let E=0;E<y.length;E+=1)b(p[E]);b(B);for(let E=0;E<A.length;E+=1)b(z[E]);b(c),O=!0}},o(_){$(v),p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)$(p[E]);$(B),z=z.filter(Boolean);for(let E=0;E<z.length;E+=1)$(z[E]);$(c),O=!1},d(_){_&&(h(e),h(t),h(n),h(r),h(u),h(k),h(w),h(g),h(M)),v&&v.d(_),S&&S.d(),Fe(p,_),U&&U.d(),B&&B.d(),Fe(z,_),x[f].d(_)}}}function mn(o){let e;const t=o[32].default,l=Ut(t,o,o[48],null),n=l||dn(o);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){l?l.p&&(!e||a[1]&131072)&&Wt(l,t,r,r[48],e?qt(t,r[48],a,null):Ft(r[48]),null):n&&n.p&&(!e||a[0]&114228857)&&n.p(r,e?a:[-1,-1])},i(r){e||(b(n,r),e=!0)},o(r){$(n,r),e=!1},d(r){n&&n.d(r)}}}function hn(o){var r;let e,t,l,n;return e=new Zt({props:{class:"relative w-full font-primary "+(((r=o[20])==null?void 0:r.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden"),"aria-label":o[2],id:"model-selector-"+o[1]+"-button",$$slots:{default:[on]},$$scope:{ctx:o}}}),l=new Gt({props:{class:" z-40 "+(o[24]?"w-full":`${o[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Kt,side:o[24]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[mn]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment),t=q(),Z(l.$$.fragment)},l(a){G(e.$$.fragment,a),t=R(a),G(l.$$.fragment,a)},m(a,s){K(e,a,s),D(a,t,s),K(l,a,s),n=!0},p(a,s){var f;const i={};s[0]&1048576&&(i.class="relative w-full font-primary "+(((f=a[20])==null?void 0:f.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden")),s[0]&4&&(i["aria-label"]=a[2]),s[0]&2&&(i.id="model-selector-"+a[1]+"-button"),s[0]&3211524|s[1]&131072&&(i.$$scope={dirty:s,ctx:a}),e.$set(i);const u={};s[0]&16777344&&(u.class=" z-40 "+(a[24]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&16777216&&(u.side=a[24]?"bottom":"bottom-start"),s[0]&114228857|s[1]&131072&&(u.$$scope={dirty:s,ctx:a}),l.$set(u)},i(a){n||(b(e.$$.fragment,a),b(l.$$.fragment,a),n=!0)},o(a){$(e.$$.fragment,a),$(l.$$.fragment,a),n=!1},d(a){a&&h(t),Y(e,a),Y(l,a)}}}function _n(o){let e,t,l;function n(a){o[47](a)}let r={onOpenChange:o[46],closeFocus:!1,$$slots:{default:[hn]},$$scope:{ctx:o}};return o[14]!==void 0&&(r.open=o[14]),e=new Rt({props:r}),qe.push(()=>Je(e,"open",n)),{c(){Z(e.$$.fragment)},l(a){G(e.$$.fragment,a)},m(a,s){K(e,a,s),l=!0},p(a,s){const i={};s[0]&1024&&(i.onOpenChange=a[46]),s[0]&134217727|s[1]&131072&&(i.$$scope={dirty:s,ctx:a}),!t&&s[0]&16384&&(t=!0,i.open=a[14],Xe(()=>t=!1)),e.$set(i)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){$(e.$$.fragment,a),l=!1},d(a){Y(e,a)}}}const zt=o=>{var e,t,l;return!(((l=(t=(e=o.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},St=o=>{var e;return(e=o.model)==null?void 0:e.direct},Lt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},Bt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Pt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},jt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},At=o=>{var e;return(e=o.model)==null?void 0:e.direct},pn=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)};function gn(o,e,t){let l,n,r,a,s,i,u,f;ve(o,Yt,d=>t(20,n=d)),ve(o,ul,d=>t(21,r=d)),ve(o,Me,d=>t(23,s=d)),ve(o,cl,d=>t(24,i=d)),ve(o,Jt,d=>t(25,u=d)),ve(o,st,d=>t(26,f=d));let{$$slots:c={},$$scope:k}=e;Ye.extend(nl);const w=Qe("i18n");ve(o,w,d=>t(22,a=d)),Xt();let{id:g=""}=e,{value:M=""}=e,{placeholder:O="Select a model"}=e,{searchEnabled:v=!0}=e,{searchPlaceholder:S=a.t("Search a model")}=e,{showTemporaryChatControl:y=!1}=e,{items:p=[]}=e,{className:j="w-[32rem]"}=e,{triggerClassName:U="text-lg"}=e,{pinModelHandler:B=()=>{}}=e,A,z=!1,re=[],se="",x="",ee="",P="",_=null,E=0;const J=new ll(p.map(d=>{var F,X,ie,he,we;return{...d,modelName:(F=d.model)==null?void 0:F.name,tags:(((X=d.model)==null?void 0:X.tags)??[]).map(ke=>ke.name).join(" "),desc:(we=(he=(ie=d.model)==null?void 0:ie.info)==null?void 0:he.meta)==null?void 0:we.description}}),{keys:["value","tags","modelName"],threshold:.4}),ae=async()=>{await lt();const d=l.findIndex(F=>F.value===M);d>=0?t(18,E=d):t(18,E=0),await lt();const L=document.querySelector('[data-arrow-selected="true"]');L==null||L.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},T=async()=>{var X;const d=x.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(s[d]){pe.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:d}));return}if(Object.keys(s).length===3){pe.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[L,F]=await sl(localStorage.token,d,"0").catch(ie=>(pe.error(`${ie}`),null));if(L){const ie=L.body.pipeThrough(new TextDecoderStream).pipeThrough(tl(`
`)).getReader();for(Me.set({...s,[d]:{...s[d],abortController:F,reader:ie,done:!1}});;)try{const{value:he,done:we}=await ie.read();if(we)break;let ke=he.split(`
`);for(const ye of ke)if(ye!==""){let fe=JSON.parse(ye);if(fe.error)throw fe.error;if(fe.detail)throw fe.detail;if(fe.status)if(fe.digest){let $e=0;fe.completed?$e=Math.round(fe.completed/fe.total*1e3)/10:$e=100,Me.set({...s,[d]:{...s[d],pullProgress:$e,digest:fe.digest}})}else pe.success(fe.status),Me.set({...s,[d]:{...s[d],done:fe.status==="success"}})}}catch(he){typeof he!="string"&&(he=he.message),pe.error(`${he}`);break}s[d].done?(pe.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:d})),Ze.set(await Ge(localStorage.token,((X=r==null?void 0:r.features)==null?void 0:X.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):pe.error(a.t("Download canceled")),delete s[d],Me.set({...s})}};Qt(async()=>{t(17,_=await al(localStorage.token).catch(d=>!1)),p&&(t(15,re=p.filter(d=>{var L,F,X;return!(((X=(F=(L=d.model)==null?void 0:L.info)==null?void 0:F.meta)==null?void 0:X.hidden)??!1)}).flatMap(d=>{var L;return((L=d.model)==null?void 0:L.tags)??[]}).map(d=>d.name)),t(15,re=Array.from(new Set(re)).sort((d,L)=>d.localeCompare(L))))});const Q=async d=>{const{reader:L,abortController:F}=s[d];F&&F.abort(),L&&(await L.cancel(),delete s[d],Me.set({...s}),await il(localStorage.token,d),pe.success(`${d} download has been canceled`))},Re=async d=>{var F;await fl(localStorage.token,d).catch(X=>{pe.error(a.t("Error unloading model: {{error}}",{error:X}))})&&(pe.success(a.t("Model unloaded successfully")),Ze.set(await Ge(localStorage.token,((F=r==null?void 0:r.features)==null?void 0:F.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null))))},Te=async()=>{var d;Ze.set(await Ge(localStorage.token,((d=r==null?void 0:r.features)==null?void 0:d.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))};function te(){x=this.value,t(10,x)}const He=d=>{if(d.code==="Enter"&&l.length>0){t(0,M=l[E].value),t(14,z=!1);return}else d.code==="ArrowDown"?(d.stopPropagation(),t(18,E=Math.min(E+1,l.length-1))):d.code==="ArrowUp"?(d.stopPropagation(),t(18,E=Math.max(E-1,0))):t(18,E=0);const L=document.querySelector('[data-arrow-selected="true"]');L==null||L.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Oe=()=>{t(12,P=""),t(11,ee="")},ze=()=>{t(11,ee=""),t(12,P="local")},Se=()=>{t(11,ee=""),t(12,P="external")},Le=()=>{t(11,ee=""),t(12,P="direct")},Be=d=>{t(12,P=""),t(11,ee=d)};function Pe(d){qe[d?"unshift":"push"](()=>{A=d,t(13,A)})}const je=(d,L)=>{t(0,M=d.value),t(18,E=L),t(14,z=!1)},Ae=()=>{T()},Ue=d=>{Q(d)},I=async()=>{st.set(!f),await ol("/");const d=document.getElementById("new-chat-button");setTimeout(()=>{d==null||d.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(14,z=!1)},W=async()=>{t(10,x=""),window.setTimeout(()=>{var d;return(d=document.getElementById("model-search-input"))==null?void 0:d.focus()},0),ae()};function ge(d){z=d,t(14,z)}return o.$$set=d=>{"id"in d&&t(1,g=d.id),"value"in d&&t(0,M=d.value),"placeholder"in d&&t(2,O=d.placeholder),"searchEnabled"in d&&t(3,v=d.searchEnabled),"searchPlaceholder"in d&&t(4,S=d.searchPlaceholder),"showTemporaryChatControl"in d&&t(5,y=d.showTemporaryChatControl),"items"in d&&t(6,p=d.items),"className"in d&&t(7,j=d.className),"triggerClassName"in d&&t(8,U=d.triggerClassName),"pinModelHandler"in d&&t(9,B=d.pinModelHandler),"$$scope"in d&&t(48,k=d.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&65&&t(16,se=p.find(d=>d.value===M)??""),o.$$.dirty[0]&7232&&t(19,l=(x?J.search(x).map(d=>d.item).filter(d=>{var L;return ee===""?!0:(((L=d.model)==null?void 0:L.tags)??[]).map(F=>F.name).includes(ee)}).filter(d=>{var L,F,X;if(P==="")return!0;if(P==="local")return((L=d.model)==null?void 0:L.connection_type)==="local";if(P==="external")return((F=d.model)==null?void 0:F.connection_type)==="external";if(P==="direct")return(X=d.model)==null?void 0:X.direct}):p.filter(d=>{var L;return ee===""?!0:(((L=d.model)==null?void 0:L.tags)??[]).map(F=>F.name).includes(ee)}).filter(d=>{var L,F,X;if(P==="")return!0;if(P==="local")return((L=d.model)==null?void 0:L.connection_type)==="local";if(P==="external")return((F=d.model)==null?void 0:F.connection_type)==="external";if(P==="direct")return(X=d.model)==null?void 0:X.direct})).filter(d=>{var L,F,X;return!(((X=(F=(L=d.model)==null?void 0:L.info)==null?void 0:F.meta)==null?void 0:X.hidden)??!1)})),o.$$.dirty[0]&6144&&ae()},[M,g,O,v,S,y,p,j,U,B,x,ee,P,A,z,re,se,_,E,l,n,r,a,s,i,u,f,w,ae,T,Q,Re,c,Te,te,He,Oe,ze,Se,Le,Be,Pe,je,Ae,Ue,I,W,ge,k]}class qn extends Ie{constructor(e){super(),Ne(this,e,gn,_n,Ee,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8,pinModelHandler:9},null,[-1,-1])}}export{qn as S};
//# sourceMappingURL=DPh_t4PK.js.map
