import{S as je,i as Pe,s as He,m as tt,g as S,y as Fe,r as D,u as Ye,q as E,d,w as Vt,U as un,H as ge,I as ke,C as A,l as G,D as W,p as X,E as U,K as Ee,F as j,e as I,c as $,a as k,f as u,n as ie,x as gt,z as _t,A as pt,B as vt,h as w,t as de,b as me,$ as yt,L as ct,W as dn,V as Ct,G as ce,j as Ie,X as bt,P as ut,k as Be,v as dt,Y as mn,N as We,O as Ue,M as rt,J as ns,T as ss,o as ls}from"../chunks/BCvnKofF.js";import"../chunks/IHki7fMi.js";import{p as os}from"../chunks/DgnMX8fM.js";import{d as Ot,g as Mt,o as rs,c as as,a as is,W as fs,m as cs,s as St,u as us,e as ds}from"../chunks/SOXf4gQ3.js";import{g as ms}from"../chunks/D0QH3NT1.js";import{c as hs,b as hn,P as gs,h as _s}from"../chunks/fkxMDrMN.js";import{f as ps}from"../chunks/BGshmsd7.js";import{h as vs,E as bs}from"../chunks/Dqh6d3sK.js";import{m as zt,r as gn,v as Bt,f as At,p as ws}from"../chunks/BlIGVmgV.js";import{t as Se}from"../chunks/GQp6vX3_.js";import{g as Wt}from"../chunks/CPCjOm0A.js";import{d as Ae,r as ks}from"../chunks/I1CDPYOB.js";import"../chunks/BXP-4RTu.js";import{c as Es}from"../chunks/DOWKdgXc.js";import{d as Is}from"../chunks/BQWQRICs.js";import{u as $s}from"../chunks/E9hd4GEe.js";import{c as _n,g as Ns}from"../chunks/SWUq0iNF.js";import{D as Cs,R as Ds,V as Ts}from"../chunks/C4fbHFPA.js";import{E as Ms}from"../chunks/B76JyeGP.js";import{e as et}from"../chunks/CSm0urZa.js";import{X as pn}from"../chunks/BKFELi7o.js";import{aq as Ss,aL as zs}from"../chunks/DbwRqP-n.js";import"../chunks/CF4_YkFU.js";import{F as Vs}from"../chunks/KXnsqo3k.js";import{S as ys,a as vn}from"../chunks/DVRWqTFx.js";import{P as Os}from"../chunks/DaG3ph1s.js";import{T as Bs}from"../chunks/x4nRNQGH.js";import{T as Xe}from"../chunks/DRSCq1dG.js";import{M as As}from"../chunks/CvKH2lDF.js";import{P as Ws}from"../chunks/IshcvDtC.js";import{A as Us}from"../chunks/DOTNv21s.js";import{b as js,u as Ps,d as Hs}from"../chunks/yKNIuSQD.js";import{S as bn}from"../chunks/CVAJiM1o.js";import{M as Rs}from"../chunks/DV_KO-L6.js";import{C as Ls}from"../chunks/DbncPlYZ.js";import{C as wn}from"../chunks/8ikmVtsQ.js";import"../chunks/CAH0SlZd.js";import"../chunks/C8H3CLox.js";import{F as Fs}from"../chunks/BLBFPL9e.js";import{M as kn,a as En,b as In}from"../chunks/CuGfpXEK.js";import{f as $n}from"../chunks/BkbMBbnp.js";import{C as Ys}from"../chunks/Mn_qTepd.js";import{N as qs}from"../chunks/D0jazXy9.js";import{E as Js}from"../chunks/Cf1cxNje.js";import{S as Gs}from"../chunks/BMxeivvf.js";function Xs(l){let e,t,n,s,o;e=new hs({props:{class:"relative flex w-2 items-center justify-center bg-background group bg-white dark:shadow-lg dark:bg-gray-850 border-l border-gray-50 dark:border-gray-850",$$slots:{default:[Qs]},$$scope:{ctx:l}}});function r(i){l[8](i)}let a={defaultSize:Math.max(20,l[3]),minSize:l[3],onCollapse:l[7],collapsible:!0,class:" z-10 ",$$slots:{default:[Ks]},$$scope:{ctx:l}};return l[1]!==void 0&&(a.pane=l[1]),n=new hn({props:a}),ge.push(()=>ke(n,"pane",r)),{c(){A(e.$$.fragment),t=G(),A(n.$$.fragment)},l(i){W(e.$$.fragment,i),t=X(i),W(n.$$.fragment,i)},m(i,f){U(e,i,f),S(i,t,f),U(n,i,f),o=!0},p(i,f){const m={};f&512&&(m.$$scope={dirty:f,ctx:i}),e.$set(m);const p={};f&8&&(p.defaultSize=Math.max(20,i[3])),f&8&&(p.minSize=i[3]),f&1&&(p.onCollapse=i[7]),f&513&&(p.$$scope={dirty:f,ctx:i}),!s&&f&2&&(s=!0,p.pane=i[1],Ee(()=>s=!1)),n.$set(p)},i(i){o||(E(e.$$.fragment,i),E(n.$$.fragment,i),o=!0)},o(i){D(e.$$.fragment,i),D(n.$$.fragment,i),o=!1},d(i){i&&d(t),j(e,i),j(n,i)}}}function Zs(l){let e,t,n=l[0]&&jt(l);return{c(){n&&n.c(),e=tt()},l(s){n&&n.l(s),e=tt()},m(s,o){n&&n.m(s,o),S(s,e,o),t=!0},p(s,o){s[0]?n?(n.p(s,o),o&1&&E(n,1)):(n=jt(s),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(Fe(),D(n,1,1,()=>{n=null}),Ye())},i(s){t||(E(n),t=!0)},o(s){D(n),t=!1},d(s){s&&d(e),n&&n.d(s)}}}function Qs(l){let e,t,n;return t=new Ms({props:{className:"size-4 invisible group-hover:visible"}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","z-10 flex h-7 w-5 items-center justify-center rounded-xs")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p:ie,i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function Ut(l){let e,t,n;const s=l[5].default,o=gt(s,l,l[9],null);return{c(){e=I("div"),t=I("div"),o&&o.c(),this.h()},l(r){e=$(r,"DIV",{class:!0});var a=k(e);t=$(a,"DIV",{class:!0});var i=k(t);o&&o.l(i),i.forEach(d),a.forEach(d),this.h()},h(){u(t,"class","w-full pl-1.5 pr-2.5 pt-2 bg-white dark:shadow-lg dark:bg-gray-850 z-40 pointer-events-auto overflow-y-auto scrollbar-hidden flex flex-col"),u(e,"class","flex max-h-full min-h-full")},m(r,a){S(r,e,a),w(e,t),o&&o.m(t,null),n=!0},p(r,a){o&&o.p&&(!n||a&512)&&_t(o,s,r,r[9],n?vt(s,r[9],a,null):pt(r[9]),null)},i(r){n||(E(o,r),n=!0)},o(r){D(o,r),n=!1},d(r){r&&d(e),o&&o.d(r)}}}function Ks(l){let e,t,n=l[0]&&Ut(l);return{c(){n&&n.c(),e=tt()},l(s){n&&n.l(s),e=tt()},m(s,o){n&&n.m(s,o),S(s,e,o),t=!0},p(s,o){s[0]?n?(n.p(s,o),o&1&&E(n,1)):(n=Ut(s),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(Fe(),D(n,1,1,()=>{n=null}),Ye())},i(s){t||(E(n),t=!0)},o(s){D(n),t=!1},d(s){s&&d(e),n&&n.d(s)}}}function jt(l){let e,t;return e=new Cs({props:{show:l[0],onClose:l[6],$$slots:{default:[xs]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){U(e,n,s),t=!0},p(n,s){const o={};s&1&&(o.show=n[0]),s&1&&(o.onClose=n[6]),s&512&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function xs(l){let e,t;const n=l[5].default,s=gt(n,l,l[9],null);return{c(){e=I("div"),s&&s.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var r=k(e);s&&s.l(r),r.forEach(d),this.h()},h(){u(e,"class","px-3.5 py-2.5 h-screen max-h-dvh flex flex-col")},m(o,r){S(o,e,r),s&&s.m(e,null),t=!0},p(o,r){s&&s.p&&(!t||r&512)&&_t(s,n,o,o[9],t?vt(n,o[9],r,null):pt(o[9]),null)},i(o){t||(E(s,o),t=!0)},o(o){D(s,o),t=!1},d(o){o&&d(e),s&&s.d(o)}}}function el(l){let e,t,n,s;const o=[Zs,Xs],r=[];function a(i,f){return i[2]?i[0]?1:-1:0}return~(e=a(l))&&(t=r[e]=o[e](l)),{c(){t&&t.c(),n=tt()},l(i){t&&t.l(i),n=tt()},m(i,f){~e&&r[e].m(i,f),S(i,n,f),s=!0},p(i,[f]){let m=e;e=a(i),e===m?~e&&r[e].p(i,f):(t&&(Fe(),D(r[m],1,1,()=>{r[m]=null}),Ye()),~e?(t=r[e],t?t.p(i,f):(t=r[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n)):t=null)},i(i){s||(E(t),s=!0)},o(i){D(t),s=!1},d(i){i&&d(n),~e&&r[e].d(i)}}}function tl(l,e,t){let{$$slots:n={},$$scope:s}=e,{show:o=!1}=e,{pane:r=null}=e,{containerId:a="note-container"}=e,i,f=!1,m=0;const p=async b=>{b.matches?t(2,f=!0):(t(2,f=!1),t(1,r=null))};Vt(()=>{i=window.matchMedia("(min-width: 1000px)"),i.addEventListener("change",p),p(i);const b=document.getElementById(a);t(3,m=Math.floor(400/b.clientWidth*100)),new ResizeObserver(g=>{for(let c of g){const y=400/c.contentRect.width*100;t(3,m=Math.floor(y)),o&&r&&r.isExpanded()&&r.getSize()<m&&r.resize(m)}}).observe(b)}),un(()=>{i.removeEventListener("change",p)});const C=()=>{t(0,o=!1)},T=()=>{t(0,o=!1)};function N(b){r=b,t(1,r)}return l.$$set=b=>{"show"in b&&t(0,o=b.show),"pane"in b&&t(1,r=b.pane),"containerId"in b&&t(4,a=b.containerId),"$$scope"in b&&t(9,s=b.$$scope)},[o,r,f,m,a,n,C,T,N,s]}class nl extends je{constructor(e){super(),Pe(this,e,tl,el,He,{show:0,pane:1,containerId:4})}}function Pt(l,e,t){const n=l.slice();return n[12]=e[t],n}function Ht(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Rt(l,e,t){const n=l.slice();return n[15]=e[t],n[17]=t,n}function Lt(l){let e,t="Files",n,s,o,r,a,i,f,m=et(l[2].filter(Jt)),p=[];for(let h=0;h<m.length;h+=1)p[h]=Ft(Rt(l,m,h));const C=h=>D(p[h],1,1,()=>{p[h]=null});let T=et(l[2].filter(Gt)),N=[];for(let h=0;h<T.length;h+=1)N[h]=Yt(Ht(l,T,h));const b=h=>D(N[h],1,1,()=>{N[h]=null});return{c(){e=I("div"),e.textContent=t,n=G(),s=I("div");for(let h=0;h<p.length;h+=1)p[h].c();o=G(),r=I("div");for(let h=0;h<N.length;h+=1)N[h].c();a=G(),i=I("hr"),this.h()},l(h){e=$(h,"DIV",{class:!0,"data-svelte-h":!0}),yt(e)!=="svelte-1ep46ko"&&(e.textContent=t),n=X(h),s=$(h,"DIV",{class:!0});var g=k(s);for(let v=0;v<p.length;v+=1)p[v].l(g);o=X(g),r=$(g,"DIV",{class:!0});var c=k(r);for(let v=0;v<N.length;v+=1)N[v].l(c);c.forEach(d),g.forEach(d),a=X(h),i=$(h,"HR",{class:!0}),this.h()},h(){u(e,"class","text-xs font-medium pb-1"),u(r,"class","flex items-center flex-wrap gap-2 mt-1.5"),u(s,"class","flex flex-col gap-1"),u(i,"class","my-2 border-gray-50 dark:border-gray-700/10")},m(h,g){S(h,e,g),S(h,n,g),S(h,s,g);for(let c=0;c<p.length;c+=1)p[c]&&p[c].m(s,null);w(s,o),w(s,r);for(let c=0;c<N.length;c+=1)N[c]&&N[c].m(r,null);S(h,a,g),S(h,i,g),f=!0},p(h,g){if(g&12){m=et(h[2].filter(Jt));let c;for(c=0;c<m.length;c+=1){const v=Rt(h,m,c);p[c]?(p[c].p(v,g),E(p[c],1)):(p[c]=Ft(v),p[c].c(),E(p[c],1),p[c].m(s,o))}for(Fe(),c=m.length;c<p.length;c+=1)C(c);Ye()}if(g&12){T=et(h[2].filter(Gt));let c;for(c=0;c<T.length;c+=1){const v=Ht(h,T,c);N[c]?(N[c].p(v,g),E(N[c],1)):(N[c]=Yt(v),N[c].c(),E(N[c],1),N[c].m(r,null))}for(Fe(),c=T.length;c<N.length;c+=1)b(c);Ye()}},i(h){if(!f){for(let g=0;g<m.length;g+=1)E(p[g]);for(let g=0;g<T.length;g+=1)E(N[g]);f=!0}},o(h){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)D(p[g]);N=N.filter(Boolean);for(let g=0;g<N.length;g+=1)D(N[g]);f=!1},d(h){h&&(d(e),d(n),d(s),d(a),d(i)),bt(p,h),bt(N,h)}}}function Ft(l){var o;let e,t;function n(){return l[8](l[15])}function s(){return l[9](l[15])}return e=new Vs({props:{className:"w-full",item:l[15],small:!0,edit:!0,dismissible:!0,url:l[15].url,name:l[15].name,type:l[15].type,size:(o=l[15])==null?void 0:o.size,loading:l[15].status==="uploading"}}),e.$on("dismiss",n),e.$on("click",s),{c(){A(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,a){U(e,r,a),t=!0},p(r,a){var f;l=r;const i={};a&4&&(i.item=l[15]),a&4&&(i.url=l[15].url),a&4&&(i.name=l[15].name),a&4&&(i.type=l[15].type),a&4&&(i.size=(f=l[15])==null?void 0:f.size),a&4&&(i.loading=l[15].status==="uploading"),e.$set(i)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Yt(l){let e,t;function n(){return l[10](l[15])}return e=new Ss({props:{src:l[15].url,imageClassName:" size-14 rounded-xl object-cover",dismissible:!0,onDismiss:n}}),{c(){A(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,o){l=s;const r={};o&4&&(r.src=l[15].url),o&12&&(r.onDismiss=n),e.$set(r)},i(s){t||(E(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){j(e,s)}}}function qt(l){let e,t=l[12].name+"",n,s;return{c(){e=I("option"),n=de(t),this.h()},l(o){e=$(o,"OPTION",{class:!0});var r=k(e);n=me(r,t),r.forEach(d),this.h()},h(){e.__value=s=l[12].id,ct(e,e.__value),u(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,r){S(o,e,r),w(e,n)},p(o,r){r&32&&t!==(t=o[12].name+"")&&Ie(n,t),r&32&&s!==(s=o[12].id)&&(e.__value=s,ct(e,e.__value))},d(o){o&&d(e)}}}function sl(l){let e,t,n,s,o,r,a,i=l[4].t("Controls")+"",f,m,p,C,T,N,b="Model",h,g,c,v,y=l[4].t("Select a model")+"",V,H,P,L,K;s=new pn({props:{className:"size-5",strokeWidth:"2.5"}});let O=l[2].length>0&&Lt(l),Z=et(l[5].filter(Xt)),F=[];for(let J=0;J<Z.length;J+=1)F[J]=qt(Pt(l,Z,J));return{c(){e=I("div"),t=I("div"),n=I("button"),A(s.$$.fragment),o=G(),r=I("div"),a=I("div"),f=de(i),m=G(),p=I("div"),C=I("div"),O&&O.c(),T=G(),N=I("div"),N.textContent=b,h=G(),g=I("div"),c=I("select"),v=I("option"),V=de(y),H=G();for(let J=0;J<F.length;J+=1)F[J].c();this.h()},l(J){e=$(J,"DIV",{class:!0});var le=k(e);t=$(le,"DIV",{class:!0});var te=k(t);n=$(te,"BUTTON",{class:!0});var _e=k(n);W(s.$$.fragment,_e),_e.forEach(d),te.forEach(d),o=X(le),r=$(le,"DIV",{class:!0});var oe=k(r);a=$(oe,"DIV",{});var ze=k(a);f=me(ze,i),ze.forEach(d),oe.forEach(d),le.forEach(d),m=X(J),p=$(J,"DIV",{class:!0});var Ve=k(p);C=$(Ve,"DIV",{class:!0});var Y=k(C);O&&O.l(Y),T=X(Y),N=$(Y,"DIV",{class:!0,"data-svelte-h":!0}),yt(N)!=="svelte-vz1bvh"&&(N.textContent=b),h=X(Y),g=$(Y,"DIV",{class:!0});var x=k(g);c=$(x,"SELECT",{class:!0});var z=k(c);v=$(z,"OPTION",{class:!0});var Q=k(v);V=me(Q,y),H=X(Q),Q.forEach(d);for(let se=0;se<F.length;se+=1)F[se].l(z);z.forEach(d),x.forEach(d),Y.forEach(d),Ve.forEach(d),this.h()},h(){u(n,"class","p-0.5 bg-transparent transition rounded-lg"),u(t,"class","-translate-x-1.5 flex items-center"),u(r,"class","font-medium text-base flex items-center gap-1"),u(e,"class","flex items-center mb-1.5 pt-1.5"),u(N,"class","text-xs font-medium mb-1"),v.__value="",ct(v,v.__value),u(v,"class","bg-gray-50 dark:bg-gray-700"),v.disabled=!0,u(c,"class","w-full bg-transparent text-sm outline-hidden"),l[1]===void 0&&dn(()=>l[11].call(c)),u(g,"class","w-full"),u(C,"class","pb-10"),u(p,"class","mt-1")},m(J,le){S(J,e,le),w(e,t),w(t,n),U(s,n,null),w(e,o),w(e,r),w(r,a),w(a,f),S(J,m,le),S(J,p,le),w(p,C),O&&O.m(C,null),w(C,T),w(C,N),w(C,h),w(C,g),w(g,c),w(c,v),w(v,V),w(v,H);for(let te=0;te<F.length;te+=1)F[te]&&F[te].m(c,null);Ct(c,l[1],!0),P=!0,L||(K=[ce(n,"click",l[7]),ce(c,"change",l[11])],L=!0)},p(J,[le]){if((!P||le&16)&&i!==(i=J[4].t("Controls")+"")&&Ie(f,i),J[2].length>0?O?(O.p(J,le),le&4&&E(O,1)):(O=Lt(J),O.c(),E(O,1),O.m(C,T)):O&&(Fe(),D(O,1,1,()=>{O=null}),Ye()),(!P||le&16)&&y!==(y=J[4].t("Select a model")+"")&&Ie(V,y),le&32){Z=et(J[5].filter(Xt));let te;for(te=0;te<Z.length;te+=1){const _e=Pt(J,Z,te);F[te]?F[te].p(_e,le):(F[te]=qt(_e),F[te].c(),F[te].m(c,null))}for(;te<F.length;te+=1)F[te].d(1);F.length=Z.length}le&34&&Ct(c,J[1])},i(J){P||(E(s.$$.fragment,J),E(O),P=!0)},o(J){D(s.$$.fragment,J),D(O),P=!1},d(J){J&&(d(e),d(m),d(p)),j(s),O&&O.d(),bt(F,J),L=!1,ut(K)}}}const Jt=l=>l.type!=="image",Gt=l=>l.type==="image",Xt=l=>{var e,t;return!(((t=(e=l==null?void 0:l.info)==null?void 0:e.meta)==null?void 0:t.hidden)??!1)};function ll(l,e,t){let n,s;Be(l,Ot,b=>t(5,s=b));const o=dt("i18n");Be(l,o,b=>t(4,n=b));let{show:r=!1}=e,{selectedModelId:a=""}=e,{files:i=[]}=e,{onUpdate:f=b=>{}}=e;const m=()=>{t(0,r=!r)},p=b=>{t(2,i=i.filter(h=>h.id!==b.id)),t(2,i),f(i)},C=b=>{},T=b=>{t(2,i=i.filter(h=>h.id!==b.id)),t(2,i),f(i)};function N(){a=mn(this),t(1,a)}return l.$$set=b=>{"show"in b&&t(0,r=b.show),"selectedModelId"in b&&t(1,a=b.selectedModelId),"files"in b&&t(2,i=b.files),"onUpdate"in b&&t(3,f=b.onUpdate)},[r,a,i,f,n,s,o,m,p,C,T,N]}class ol extends je{constructor(e){super(),Pe(this,e,ll,sl,He,{show:0,selectedModelId:1,files:2,onUpdate:3})}}function rl(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","m19.5 19.5-15-15m0 0v11.25m0-11.25h11.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function al(l,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class il extends je{constructor(e){super(),Pe(this,e,al,rl,He,{className:0,strokeWidth:1})}}function fl(l){let e,t,n,s,o;return t=new il({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0});var a=k(e);W(t.$$.fragment,a),a.forEach(d),this.h()},h(){u(e,"class","text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition")},m(r,a){S(r,e,a),U(t,e,null),n=!0,s||(o=ce(e,"click",l[7]),s=!0)},p:ie,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){D(t.$$.fragment,r),n=!1},d(r){r&&d(e),j(t),s=!1,o()}}}function cl(l){let e,t,n,s,o;return t=new Os({props:{className:"size-3.5",strokeWidth:"2"}}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0});var a=k(e);W(t.$$.fragment,a),a.forEach(d),this.h()},h(){u(e,"class","text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition")},m(r,a){S(r,e,a),U(t,e,null),n=!0,s||(o=ce(e,"click",l[8]),s=!0)},p:ie,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){D(t.$$.fragment,r),n=!1},d(r){r&&d(e),j(t),s=!1,o()}}}function ul(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg>',n,s;return{c(){e=I("button"),e.innerHTML=t,this.h()},l(o){e=$(o,"BUTTON",{class:!0,"data-svelte-h":!0}),yt(e)!=="svelte-n6kawc"&&(e.innerHTML=t),this.h()},h(){u(e,"class","text-transparent group-hover:text-gray-500 dark:hover:text-gray-300 transition")},m(o,r){S(o,e,r),n||(s=ce(e,"click",l[9]),n=!0)},p:ie,d(o){o&&d(e),n=!1,s()}}}function dl(l){let e,t,n;return t=new zs({props:{id:`note-message-${l[1]}`,content:l[0].content}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","markdown-prose-sm text-sm")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p(s,o){const r={};o&2&&(r.id=`note-message-${s[1]}`),o&1&&(r.content=s[0].content),t.$set(r)},i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function ml(l){let e,t,n;function s(r){l[11](r)}let o={className:"w-full bg-transparent outline-hidden text-sm resize-none overflow-hidden",placeholder:l[5].t("Enter {{role}} message here",{role:l[0].role==="user"?l[5].t("a user"):l[5].t("an assistant")}),onBlur:l[10]};return l[0].content!==void 0&&(o.value=l[0].content),e=new Bs({props:o}),ge.push(()=>ke(e,"value",s)),{c(){A(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,a){U(e,r,a),n=!0},p(r,a){const i={};a&33&&(i.placeholder=r[5].t("Enter {{role}} message here",{role:r[0].role==="user"?r[5].t("a user"):r[5].t("an assistant")})),a&1&&(i.onBlur=r[10]),!t&&a&1&&(t=!0,i.value=r[0].content,Ee(()=>t=!1)),e.$set(i)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function hl(l){let e,t,n;return t=new ys({props:{size:"sm"}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p:ie,i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function gl(l){let e,t,n,s=l[5].t(l[0].role)+"",o,r,a,i,f,m,p,C,T,N,b,h,g;i=new Xe({props:{placement:"top",content:l[5].t("Insert"),$$slots:{default:[fl]},$$scope:{ctx:l}}}),m=new Xe({props:{placement:"top",content:l[5].t("Edit"),$$slots:{default:[cl]},$$scope:{ctx:l}}}),C=new Xe({props:{placement:"top",content:l[5].t("Delete"),$$slots:{default:[ul]},$$scope:{ctx:l}}});const c=[hl,ml,dl],v=[];function y(V,H){var P,L,K;return!(((P=V[0])==null?void 0:P.done)??!0)&&((L=V[0])==null?void 0:L.content)===""?0:((K=V[0])==null?void 0:K.edit)===!0?1:2}return b=y(l),h=v[b]=c[b](l),{c(){e=I("div"),t=I("div"),n=I("div"),o=de(s),r=G(),a=I("div"),A(i.$$.fragment),f=G(),A(m.$$.fragment),p=G(),A(C.$$.fragment),T=G(),N=I("div"),h.c(),this.h()},l(V){e=$(V,"DIV",{class:!0});var H=k(e);t=$(H,"DIV",{class:!0});var P=k(t);n=$(P,"DIV",{class:!0});var L=k(n);o=me(L,s),L.forEach(d),r=X(P),a=$(P,"DIV",{class:!0});var K=k(a);W(i.$$.fragment,K),f=X(K),W(m.$$.fragment,K),p=X(K),W(C.$$.fragment,K),K.forEach(d),P.forEach(d),T=X(H),N=$(H,"DIV",{class:!0});var O=k(N);h.l(O),O.forEach(d),H.forEach(d),this.h()},h(){u(n,"class","py-1 text-sm font-semibold uppercase min-w-[6rem] text-left rounded-lg transition"),u(a,"class","flex items-center gap-2"),u(t,"class","flex items-center justify-between pt-1"),u(N,"class","flex-1"),u(e,"class","flex flex-col gap-1 group")},m(V,H){S(V,e,H),w(e,t),w(t,n),w(n,o),w(t,r),w(t,a),U(i,a,null),w(a,f),U(m,a,null),w(a,p),U(C,a,null),w(e,T),w(e,N),v[b].m(N,null),g=!0},p(V,[H]){(!g||H&33)&&s!==(s=V[5].t(V[0].role)+"")&&Ie(o,s);const P={};H&32&&(P.content=V[5].t("Insert")),H&8208&&(P.$$scope={dirty:H,ctx:V}),i.$set(P);const L={};H&32&&(L.content=V[5].t("Edit")),H&8200&&(L.$$scope={dirty:H,ctx:V}),m.$set(L);const K={};H&32&&(K.content=V[5].t("Delete")),H&8196&&(K.$$scope={dirty:H,ctx:V}),C.$set(K);let O=b;b=y(V),b===O?v[b].p(V,H):(Fe(),D(v[O],1,1,()=>{v[O]=null}),Ye(),h=v[b],h?h.p(V,H):(h=v[b]=c[b](V),h.c()),E(h,1),h.m(N,null))},i(V){g||(E(i.$$.fragment,V),E(m.$$.fragment,V),E(C.$$.fragment,V),E(h),g=!0)},o(V){D(i.$$.fragment,V),D(m.$$.fragment,V),D(C.$$.fragment,V),D(h),g=!1},d(V){V&&d(e),j(i),j(m),j(C),v[b].d()}}}function _l(l,e,t){let n;const s=dt("i18n");Be(l,s,b=>t(5,n=b));let{message:o}=e,{idx:r}=e,{onDelete:a}=e,{onEdit:i}=e,{onInsert:f}=e;const m=()=>{f()},p=()=>{i()},C=()=>{a()},T=()=>{t(0,o.edit=!1,o)};function N(b){l.$$.not_equal(o.content,b)&&(o.content=b,t(0,o))}return l.$$set=b=>{"message"in b&&t(0,o=b.message),"idx"in b&&t(1,r=b.idx),"onDelete"in b&&t(2,a=b.onDelete),"onEdit"in b&&t(3,i=b.onEdit),"onInsert"in b&&t(4,f=b.onInsert)},[o,r,a,i,f,n,s,m,p,C,T,N]}class pl extends je{constructor(e){super(),Pe(this,e,_l,gl,He,{message:0,idx:1,onDelete:2,onEdit:3,onInsert:4})}}function Zt(l,e,t){const n=l.slice();return n[6]=e[t],n[8]=t,n}function Qt(l){let e,t;function n(){return l[2](l[6])}function s(){return l[3](l[8])}function o(){return l[4](l[8])}return e=new pl({props:{message:l[6],idx:l[8],onInsert:n,onEdit:s,onDelete:o}}),{c(){A(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,a){U(e,r,a),t=!0},p(r,a){l=r;const i={};a&1&&(i.message=l[6]),a&3&&(i.onInsert=n),a&1&&(i.onEdit=s),a&1&&(i.onDelete=o),e.$set(i)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function vl(l){let e,t,n=et(l[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Qt(Zt(l,n,r));const o=r=>D(s[r],1,1,()=>{s[r]=null});return{c(){e=I("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=$(r,"DIV",{class:!0});var a=k(e);for(let i=0;i<s.length;i+=1)s[i].l(a);a.forEach(d),this.h()},h(){u(e,"class","space-y-3 pb-12")},m(r,a){S(r,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);t=!0},p(r,[a]){if(a&3){n=et(r[0]);let i;for(i=0;i<n.length;i+=1){const f=Zt(r,n,i);s[i]?(s[i].p(f,a),E(s[i],1)):(s[i]=Qt(f),s[i].c(),E(s[i],1),s[i].m(e,null))}for(Fe(),i=n.length;i<s.length;i+=1)o(i);Ye()}},i(r){if(!t){for(let a=0;a<n.length;a+=1)E(s[a]);t=!0}},o(r){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)D(s[a]);t=!1},d(r){r&&d(e),bt(s,r)}}}function bl(l,e,t){dt("i18n");let{messages:n=[]}=e,{onInsert:s=i=>{}}=e;const o=i=>{s((i==null?void 0:i.content)??"")},r=i=>{t(0,n=n.map((f,m)=>m===i?{...f,edit:!0}:f))},a=i=>{t(0,n=n.filter((f,m)=>m!==i))};return l.$$set=i=>{"messages"in i&&t(0,n=i.messages),"onInsert"in i&&t(1,s=i.onInsert)},[n,s,o,r,a]}class wl extends je{constructor(e){super(),Pe(this,e,bl,vl,He,{messages:0,onInsert:1})}}function Kt(l,e,t){const n=l.slice();return n[36]=e[t],n}function kl(l){let e,t,n=l[11].t("Experimental")+"",s,o;return{c(){e=I("span"),t=de("("),s=de(n),o=de(")"),this.h()},l(r){e=$(r,"SPAN",{class:!0});var a=k(e);t=me(a,"("),s=me(a,n),o=me(a,")"),a.forEach(d),this.h()},h(){u(e,"class","text-gray-500 text-sm")},m(r,a){S(r,e,a),w(e,t),w(e,s),w(e,o)},p(r,a){a[0]&2048&&n!==(n=r[11].t("Experimental")+"")&&Ie(s,n)},d(r){r&&d(e)}}}function xt(l){var r;let e,t,n,s=((r=l[3])==null?void 0:r.text)+"",o;return{c(){e=I("div"),t=I("blockquote"),n=I("div"),o=de(s),this.h()},l(a){e=$(a,"DIV",{class:!0});var i=k(e);t=$(i,"BLOCKQUOTE",{});var f=k(t);n=$(f,"DIV",{class:!0});var m=k(n);o=me(m,s),m.forEach(d),f.forEach(d),i.forEach(d),this.h()},h(){u(n,"class","line-clamp-3"),u(e,"class","text-xs rounded-xl px-3.5 py-3 w-full markdown-prose-xs")},m(a,i){S(a,e,i),w(e,t),w(t,n),w(n,o)},p(a,i){var f;i[0]&8&&s!==(s=((f=a[3])==null?void 0:f.text)+"")&&Ie(o,s)},d(a){a&&d(e)}}}function El(l){let e,t,n,s,o=l[11].t("Edit")+"",r,a,i,f,m,p;return t=new Ws({props:{className:"size-4",strokeWidth:"1.75"}}),{c(){e=I("button"),A(t.$$.fragment),n=G(),s=I("span"),r=de(o),this.h()},l(C){e=$(C,"BUTTON",{type:!0,class:!0});var T=k(e);W(t.$$.fragment,T),n=X(T),s=$(T,"SPAN",{class:!0});var N=k(s);r=me(N,o),N.forEach(d),T.forEach(d),this.h()},h(){u(s,"class","block whitespace-nowrap overflow-hidden text-ellipsis leading-none pr-0.5"),e.disabled=a=l[2]||l[7],u(e,"type","button"),u(e,"class",i="px-2 @xl:px-2.5 py-2 flex gap-1.5 items-center text-sm rounded-full transition-colors duration-300 focus:outline-hidden max-w-full overflow-hidden hover:bg-gray-50 dark:hover:bg-gray-800 "+(l[9]?" text-sky-500 dark:text-sky-300 bg-sky-50 dark:bg-sky-200/5":"bg-transparent text-gray-600 dark:text-gray-300 ")+" disabled:opacity-50 disabled:pointer-events-none")},m(C,T){S(C,e,T),U(t,e,null),w(e,n),w(e,s),w(s,r),f=!0,m||(p=ce(e,"click",ns(l[27])),m=!0)},p(C,T){(!f||T[0]&2048)&&o!==(o=C[11].t("Edit")+"")&&Ie(r,o),(!f||T[0]&132&&a!==(a=C[2]||C[7]))&&(e.disabled=a),(!f||T[0]&512&&i!==(i="px-2 @xl:px-2.5 py-2 flex gap-1.5 items-center text-sm rounded-full transition-colors duration-300 focus:outline-hidden max-w-full overflow-hidden hover:bg-gray-50 dark:hover:bg-gray-800 "+(C[9]?" text-sky-500 dark:text-sky-300 bg-sky-50 dark:bg-sky-200/5":"bg-transparent text-gray-600 dark:text-gray-300 ")+" disabled:opacity-50 disabled:pointer-events-none"))&&u(e,"class",i)},i(C){f||(E(t.$$.fragment,C),f=!0)},o(C){D(t.$$.fragment,C),f=!1},d(C){C&&d(e),j(t),m=!1,p()}}}function en(l){let e,t=l[36].name+"",n,s;return{c(){e=I("option"),n=de(t),this.h()},l(o){e=$(o,"OPTION",{class:!0});var r=k(e);n=me(r,t),r.forEach(d),this.h()},h(){e.__value=s=l[36].id,ct(e,e.__value),u(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,r){S(o,e,r),w(e,n)},p(o,r){r[0]&4096&&t!==(t=o[36].name+"")&&Ie(n,t),r[0]&4096&&s!==(s=o[36].id)&&(e.__value=s,ct(e,e.__value))},d(o){o&&d(e)}}}function Il(l){let e,t,n,s=et(l[12]),o=[];for(let r=0;r<s.length;r+=1)o[r]=en(Kt(l,s,r));return{c(){e=I("select");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=$(r,"SELECT",{class:!0});var a=k(e);for(let i=0;i<o.length;i+=1)o[i].l(a);a.forEach(d),this.h()},h(){u(e,"class","bg-transparent rounded-lg py-1 px-2 -mx-0.5 text-sm outline-hidden w-full text-right pr-5"),l[1]===void 0&&dn(()=>l[28].call(e))},m(r,a){S(r,e,a);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(e,null);Ct(e,l[1],!0),t||(n=ce(e,"change",l[28]),t=!0)},p(r,a){if(a[0]&4096){s=et(r[12]);let i;for(i=0;i<s.length;i+=1){const f=Kt(r,s,i);o[i]?o[i].p(f,a):(o[i]=en(f),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}a[0]&4098&&Ct(e,r[1])},d(r){r&&d(e),bt(o,r),t=!1,n()}}}function $l(l){let e,t,n,s,o,r;return n=new Xe({props:{content:l[11].t("Edit"),placement:"top",$$slots:{default:[El]},$$scope:{ctx:l}}}),o=new Xe({props:{content:l[1],$$slots:{default:[Il]},$$scope:{ctx:l}}}),{c(){e=I("div"),t=I("div"),A(n.$$.fragment),s=G(),A(o.$$.fragment),this.h()},l(a){e=$(a,"DIV",{slot:!0,class:!0});var i=k(e);t=$(i,"DIV",{});var f=k(t);W(n.$$.fragment,f),f.forEach(d),s=X(i),W(o.$$.fragment,i),i.forEach(d),this.h()},h(){u(e,"slot","menu"),u(e,"class","flex items-center justify-between gap-2 w-full pr-1")},m(a,i){S(a,e,i),w(e,t),U(n,t,null),w(e,s),U(o,e,null),r=!0},p(a,i){const f={};i[0]&2048&&(f.content=a[11].t("Edit")),i[0]&2692|i[1]&256&&(f.$$scope={dirty:i,ctx:a}),n.$set(f);const m={};i[0]&2&&(m.content=a[1]),i[0]&4098|i[1]&256&&(m.$$scope={dirty:i,ctx:a}),o.$set(m)},i(a){r||(E(n.$$.fragment,a),E(o.$$.fragment,a),r=!0)},o(a){D(n.$$.fragment,a),D(o.$$.fragment,a),r=!1},d(a){a&&d(e),j(n),j(o)}}}function Nl(l){let e,t,n,s,o,r,a,i=l[11].t("Chat")+"",f,m,p,C,T,N,b,h,g,c,v,y,V,H,P,L,K,O,Z,F,J,le;s=new pn({props:{className:"size-5",strokeWidth:"2.5"}}),C=new Xe({props:{content:l[11].t("This feature is experimental and may be modified or discontinued without notice."),position:"top",className:"inline-block",$$slots:{default:[kl]},$$scope:{ctx:l}}});function te(Y){l[25](Y)}let _e={onInsert:l[5]};l[4]!==void 0&&(_e.messages=l[4]),V=new wl({props:_e}),ge.push(()=>ke(V,"messages",te));let oe=l[3]&&xt(l);function ze(Y){l[29](Y)}let Ve={acceptFiles:!1,inputLoading:l[7],showFormattingToolbar:!1,onSubmit:l[15],onStop:l[6],$$slots:{menu:[$l]},$$scope:{ctx:l}};return l[10]!==void 0&&(Ve.chatInputElement=l[10]),O=new As({props:Ve}),ge.push(()=>ke(O,"chatInputElement",ze)),{c(){e=I("div"),t=I("div"),n=I("button"),A(s.$$.fragment),o=G(),r=I("div"),a=I("div"),f=de(i),m=G(),p=I("div"),A(C.$$.fragment),T=G(),N=I("div"),b=I("div"),h=I("div"),g=I("div"),c=I("div"),v=I("div"),y=I("div"),A(V.$$.fragment),P=G(),L=I("div"),oe&&oe.c(),K=G(),A(O.$$.fragment),this.h()},l(Y){e=$(Y,"DIV",{class:!0});var x=k(e);t=$(x,"DIV",{class:!0});var z=k(t);n=$(z,"BUTTON",{class:!0});var Q=k(n);W(s.$$.fragment,Q),Q.forEach(d),z.forEach(d),o=X(x),r=$(x,"DIV",{class:!0});var se=k(r);a=$(se,"DIV",{});var Re=k(a);f=me(Re,i),Re.forEach(d),m=X(se),p=$(se,"DIV",{});var $e=k(p);W(C.$$.fragment,$e),$e.forEach(d),se.forEach(d),x.forEach(d),T=X(Y),N=$(Y,"DIV",{class:!0});var Te=k(N);b=$(Te,"DIV",{class:!0});var Ge=k(b);h=$(Ge,"DIV",{class:!0});var Ze=k(h);g=$(Ze,"DIV",{class:!0});var re=k(g);c=$(re,"DIV",{class:!0,id:!0});var ae=k(c);v=$(ae,"DIV",{class:!0});var fe=k(v);y=$(fe,"DIV",{class:!0});var Je=k(y);W(V.$$.fragment,Je),Je.forEach(d),fe.forEach(d),ae.forEach(d),P=X(re),L=$(re,"DIV",{class:!0});var Ce=k(L);oe&&oe.l(Ce),K=X(Ce),W(O.$$.fragment,Ce),Ce.forEach(d),re.forEach(d),Ze.forEach(d),Ge.forEach(d),Te.forEach(d),this.h()},h(){u(n,"class","p-0.5 bg-transparent transition rounded-lg"),u(t,"class","-translate-x-1.5 flex items-center"),u(r,"class","font-medium text-base flex items-center gap-1"),u(e,"class","flex items-center mb-1.5 pt-1.5"),u(y,"class","flex-1 p-1"),u(v,"class","h-full w-full flex flex-col"),u(c,"class","pb-2.5 flex flex-col justify-between w-full flex-auto overflow-auto h-0 scrollbar-hidden"),u(c,"id","messages-container"),u(L,"class","pb-2"),u(g,"class","flex flex-col h-full"),u(h,"class","mx-auto w-full md:px-0 h-full relative"),u(b,"class","flex flex-col justify-between w-full overflow-y-auto h-full"),u(N,"class","flex flex-col items-center mb-2 flex-1 @container")},m(Y,x){S(Y,e,x),w(e,t),w(t,n),U(s,n,null),w(e,o),w(e,r),w(r,a),w(a,f),w(r,m),w(r,p),U(C,p,null),S(Y,T,x),S(Y,N,x),w(N,b),w(b,h),w(h,g),w(g,c),w(c,v),w(v,y),U(V,y,null),l[26](c),w(g,P),w(g,L),oe&&oe.m(L,null),w(L,K),U(O,L,null),F=!0,J||(le=[ce(n,"click",l[24]),ce(c,"scroll",l[14])],J=!0)},p(Y,x){(!F||x[0]&2048)&&i!==(i=Y[11].t("Chat")+"")&&Ie(f,i);const z={};x[0]&2048&&(z.content=Y[11].t("This feature is experimental and may be modified or discontinued without notice.")),x[0]&2048|x[1]&256&&(z.$$scope={dirty:x,ctx:Y}),C.$set(z);const Q={};x[0]&32&&(Q.onInsert=Y[5]),!H&&x[0]&16&&(H=!0,Q.messages=Y[4],Ee(()=>H=!1)),V.$set(Q),Y[3]?oe?oe.p(Y,x):(oe=xt(Y),oe.c(),oe.m(L,K)):oe&&(oe.d(1),oe=null);const se={};x[0]&128&&(se.inputLoading=Y[7]),x[0]&64&&(se.onStop=Y[6]),x[0]&6790|x[1]&256&&(se.$$scope={dirty:x,ctx:Y}),!Z&&x[0]&1024&&(Z=!0,se.chatInputElement=Y[10],Ee(()=>Z=!1)),O.$set(se)},i(Y){F||(E(s.$$.fragment,Y),E(C.$$.fragment,Y),E(V.$$.fragment,Y),E(O.$$.fragment,Y),F=!0)},o(Y){D(s.$$.fragment,Y),D(C.$$.fragment,Y),D(V.$$.fragment,Y),D(O.$$.fragment,Y),F=!1},d(Y){Y&&(d(e),d(T),d(N)),j(s),j(C),j(V),l[26](null),oe&&oe.d(),j(O),J=!1,ut(le)}}}function Cl(l,e,t){let n,s;Be(l,Ot,z=>t(12,s=z));let{show:o=!1}=e,{selectedModelId:r=""}=e;zt.use({breaks:!0,gfm:!0,renderer:{list(z,Q,se){if(z.includes("data-checked="))return`<ul data-type="taskList">${z}</ul>`;const $e=Q?"ol":"ul",Te=Q&&se!==1?` start="${se}"`:"";return`<${$e}${Te}>${z}</${$e}>`},listitem(z,Q,se){return Q?`<li data-type="taskItem" data-checked="${se?"true":"false"}">${z}</li>`:`<li>${z}</li>`}}});const a=dt("i18n");Be(l,a,z=>t(11,n=z));let{editor:i=null}=e,{editing:f=!1}=e,{streaming:m=!1}=e,{stopResponseFlag:p=!1}=e,{note:C=null}=e,{selectedContent:T=null}=e,{files:N=[]}=e,{messages:b=[]}=e,{onInsert:h=z=>{}}=e,{onStop:g=()=>{}}=e,{onEdited:c=()=>{}}=e,{insertNoteHandler:v=()=>{}}=e,{scrollToBottomHandler:y=()=>{}}=e,V=!1,H,P="",L=!1,K=null;const O=`You are an expert document editor.

## Task
Based on the user's instruction, update and enhance the existing notes or selection by incorporating relevant and accurate information from the provided context in the content's primary language. Ensure all edits strictly follow the user’s intent.

## Input Structure
- Existing notes: Enclosed within <notes></notes> XML tags.
- Additional context: Enclosed within <context></context> XML tags.
- Current note selection: Enclosed within <selection></selection> XML tags.
- Editing instruction: Provided in the user message.

## Output Instructions
- If a selection is provided, edit **only** the content within <selection></selection>. Leave unselected parts unchanged.
- If no selection is provided, edit the entire notes.
- Deliver a single, rewritten version of the notes in markdown format.
- Integrate information from the context only if it directly supports the user's instruction.
- Use clear, organized markdown elements: headings, lists, task lists ([ ]) where tasks or checklists are strongly implied, bold and italic text as appropriate.
- Focus on improving clarity, completeness, and usefulness of the notes.
- Return only the final, fully-edited markdown notes—do not include explanations, reasoning, or XML tags.
`;let Z=!0;const F=()=>{H&&Z&&t(8,H.scrollTop=H.scrollHeight,H)},J=()=>{H&&(Z=H.scrollHeight-H.scrollTop<=H.clientHeight+10)},le=async()=>{var Ze,re,ae,fe,Je;if(r===""){Se.error(n.t("Please select a model."));return}const z=s.find(Ce=>Ce.id===r);if(!z){t(1,r="");return}let Q;((Ze=b.at(-1))==null?void 0:Ze.role)==="assistant"?Q=b.at(-1):(Q={role:"assistant",content:"",done:!1},b.push(Q),t(4,b)),await rt(),F(),t(17,p=!1);let se={json:null,html:"",md:""};P="",L?P=`${O}

`:P=`You are a helpful assistant. Please answer the user's questions based on the context provided.

`,P+=`<notes>${((ae=(re=C==null?void 0:C.data)==null?void 0:re.content)==null?void 0:ae.md)??""}</notes>`+(N&&N.length>0?`
<context>${N.map(Ce=>{var ye,pe;return`${Ce.name}: ${((pe=(ye=Ce==null?void 0:Ce.file)==null?void 0:ye.data)==null?void 0:pe.content)??"Could not extract content"}
`}).join("")}</context>`:"")+(T?`
<selection>${T==null?void 0:T.text}</selection>`:"");const Re=JSON.parse(JSON.stringify([{role:"system",content:`${P}`},...b])),[$e,Te]=await _n(localStorage.token,{model:z.id,stream:!0,messages:Re},`${Mt}/api`);await rt(),F();let Ge="";if($e&&$e.ok){const Ce=$e.body.pipeThrough(new TextDecoderStream).pipeThrough(gn(`
`)).getReader();for(;;){const{value:ye,done:pe}=await Ce.read();if(pe||p){p&&Te.abort("User: Stop Response"),L&&(t(16,f=!1),t(2,m=!1),c());break}try{let we=ye.split(`
`);for(const at of we)if(at!=="")if(at==="data: [DONE]")L&&(Q.content=`<status title="${n.t("Edited")}" done="true" />`,T&&(T!=null&&T.text)&&i&&(i.commands.insertContentAt({from:T.from,to:T.to},se.html||se.md||""),t(3,T=null))),Q.done=!0,t(4,b);else{let mt=JSON.parse(at.replace(/^data: /,"")),xe=((Je=(fe=mt.choices[0])==null?void 0:fe.delta)==null?void 0:Je.content)??"";if(Q.content==""&&xe==`
`)continue;L?(t(16,f=!0),t(2,m=!0),se.md+=xe,se.html=zt.parse(se.md),(!T||!(T!=null&&T.text))&&(t(18,C.data.content.md=se.md,C),t(18,C.data.content.html=se.html,C),t(18,C.data.content.json=null,C)),y(),Q.content=`<status title="${n.t("Editing")}" done="false" />`,t(4,b)):(Ge+=xe,Q.content=Ge,t(4,b)),await rt()}}catch(we){}F()}}},te=async z=>{const{content:Q,data:se}=z;r&&Q&&(b.push({role:"user",content:Q}),t(4,b),await rt(),F(),t(7,V=!0),await le(),t(4,b=b.map(Re=>(Re.done=!0,Re))),t(7,V=!1),t(17,p=!1))};Vt(async()=>{t(9,L=localStorage.getItem("noteEditEnabled")==="true"),await rt(),F()});const _e=()=>{t(0,o=!o)};function oe(z){b=z,t(4,b)}function ze(z){ge[z?"unshift":"push"](()=>{H=z,t(8,H)})}const Ve=()=>{t(9,L=!L),localStorage.setItem("noteEditEnabled",L?"true":"false")};function Y(){r=mn(this),t(1,r)}function x(z){K=z,t(10,K)}return l.$$set=z=>{"show"in z&&t(0,o=z.show),"selectedModelId"in z&&t(1,r=z.selectedModelId),"editor"in z&&t(19,i=z.editor),"editing"in z&&t(16,f=z.editing),"streaming"in z&&t(2,m=z.streaming),"stopResponseFlag"in z&&t(17,p=z.stopResponseFlag),"note"in z&&t(18,C=z.note),"selectedContent"in z&&t(3,T=z.selectedContent),"files"in z&&t(20,N=z.files),"messages"in z&&t(4,b=z.messages),"onInsert"in z&&t(5,h=z.onInsert),"onStop"in z&&t(6,g=z.onStop),"onEdited"in z&&t(21,c=z.onEdited),"insertNoteHandler"in z&&t(22,v=z.insertNoteHandler),"scrollToBottomHandler"in z&&t(23,y=z.scrollToBottomHandler)},[o,r,m,T,b,h,g,V,H,L,K,n,s,a,J,te,f,p,C,i,N,c,v,y,_e,oe,ze,Ve,Y,x]}class Dl extends je{constructor(e){super(),Pe(this,e,Cl,Nl,He,{show:0,selectedModelId:1,editor:19,editing:16,streaming:2,stopResponseFlag:17,note:18,selectedContent:3,files:20,messages:4,onInsert:5,onStop:6,onEdited:21,insertNoteHandler:22,scrollToBottomHandler:23},null,[-1,-1])}}function Tl(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Ml(l,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class Sl extends je{constructor(e){super(),Pe(this,e,Ml,Tl,He,{className:0,strokeWidth:1})}}function zl(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Vl(l,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class yl extends je{constructor(e){super(),Pe(this,e,Vl,zl,He,{className:0,strokeWidth:1})}}function Ol(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Bl(l,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class Al extends je{constructor(e){super(),Pe(this,e,Bl,Ol,He,{className:0,strokeWidth:1})}}function Wl(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Ul(l,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class jl extends je{constructor(e){super(),Pe(this,e,Ul,Wl,He,{className:0,strokeWidth:1})}}const Pl=l=>({}),tn=l=>({});function Hl(l){let e;const t=l[8].default,n=gt(t,l,l[15],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&32768)&&_t(n,t,s,s[15],e?vt(t,s[15],o,null):pt(s[15]),null)},i(s){e||(E(n,s),e=!0)},o(s){D(n,s),e=!1},d(s){n&&n.d(s)}}}function Rl(l){let e,t,n,s,o,r=l[5].t("Record")+"",a,i,f,m,p,C,T,N=l[5].t("Capture Audio")+"",b,h,g,c,v,y,V,H=l[5].t("Upload Audio")+"",P,L,K,O;return n=new Al({props:{className:"size-4",strokeWidth:"2"}}),p=new jl({props:{className:"size-4",strokeWidth:"2"}}),v=new Ys({props:{className:"size-4",strokeWidth:"2"}}),{c(){e=I("button"),t=I("div"),A(n.$$.fragment),s=G(),o=I("div"),a=de(r),i=G(),f=I("button"),m=I("div"),A(p.$$.fragment),C=G(),T=I("div"),b=de(N),h=G(),g=I("button"),c=I("div"),A(v.$$.fragment),y=G(),V=I("div"),P=de(H),this.h()},l(Z){e=$(Z,"BUTTON",{class:!0});var F=k(e);t=$(F,"DIV",{class:!0});var J=k(t);W(n.$$.fragment,J),J.forEach(d),s=X(F),o=$(F,"DIV",{class:!0});var le=k(o);a=me(le,r),le.forEach(d),F.forEach(d),i=X(Z),f=$(Z,"BUTTON",{class:!0});var te=k(f);m=$(te,"DIV",{class:!0});var _e=k(m);W(p.$$.fragment,_e),_e.forEach(d),C=X(te),T=$(te,"DIV",{class:!0});var oe=k(T);b=me(oe,N),oe.forEach(d),te.forEach(d),h=X(Z),g=$(Z,"BUTTON",{class:!0});var ze=k(g);c=$(ze,"DIV",{class:!0});var Ve=k(c);W(v.$$.fragment,Ve),Ve.forEach(d),y=X(ze),V=$(ze,"DIV",{class:!0});var Y=k(V);P=me(Y,H),Y.forEach(d),ze.forEach(d),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center truncate"),u(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(m,"class","self-center mr-2"),u(T,"class","self-center truncate"),u(f,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(c,"class","self-center mr-2"),u(V,"class","self-center truncate"),u(g,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(Z,F){S(Z,e,F),w(e,t),U(n,t,null),w(e,s),w(e,o),w(o,a),S(Z,i,F),S(Z,f,F),w(f,m),U(p,m,null),w(f,C),w(f,T),w(T,b),S(Z,h,F),S(Z,g,F),w(g,c),U(v,c,null),w(g,y),w(g,V),w(V,P),L=!0,K||(O=[ce(e,"click",l[9]),ce(f,"click",l[10]),ce(g,"click",l[11])],K=!0)},p(Z,F){(!L||F&32)&&r!==(r=Z[5].t("Record")+"")&&Ie(a,r),(!L||F&32)&&N!==(N=Z[5].t("Capture Audio")+"")&&Ie(b,N),(!L||F&32)&&H!==(H=Z[5].t("Upload Audio")+"")&&Ie(P,H)},i(Z){L||(E(n.$$.fragment,Z),E(p.$$.fragment,Z),E(v.$$.fragment,Z),L=!0)},o(Z){D(n.$$.fragment,Z),D(p.$$.fragment,Z),D(v.$$.fragment,Z),L=!1},d(Z){Z&&(d(e),d(i),d(f),d(h),d(g)),j(n),j(p),j(v),K=!1,ut(O)}}}function Ll(l){let e,t;return e=new In({props:{class:"w-full "+l[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"start",transition:l[12],$$slots:{default:[Rl]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){U(e,n,s),t=!0},p(n,s){const o={};s&2&&(o.class="w-full "+n[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&32829&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Fl(l){let e,t,n;e=new En({props:{$$slots:{default:[Hl]},$$scope:{ctx:l}}});const s=l[8].content,o=gt(s,l,l[15],tn),r=o||Ll(l);return{c(){A(e.$$.fragment),t=G(),r&&r.c()},l(a){W(e.$$.fragment,a),t=X(a),r&&r.l(a)},m(a,i){U(e,a,i),S(a,t,i),r&&r.m(a,i),n=!0},p(a,i){const f={};i&32768&&(f.$$scope={dirty:i,ctx:a}),e.$set(f),o?o.p&&(!n||i&32768)&&_t(o,s,a,a[15],n?vt(s,a[15],i,Pl):pt(a[15]),tn):r&&r.p&&(!n||i&63)&&r.p(a,n?i:-1)},i(a){n||(E(e.$$.fragment,a),E(r,a),n=!0)},o(a){D(e.$$.fragment,a),D(r,a),n=!1},d(a){a&&d(t),j(e,a),r&&r.d(a)}}}function Yl(l){let e,t,n;function s(r){l[14](r)}let o={onOpenChange:l[13],$$slots:{default:[Fl]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.open=l[0]),e=new kn({props:o}),ge.push(()=>ke(e,"open",s)),{c(){A(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,a){U(e,r,a),n=!0},p(r,[a]){const i={};a&32831&&(i.$$scope={dirty:a,ctx:r}),!t&&a&1&&(t=!0,i.open=r[0],Ee(()=>t=!1)),e.$set(i)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function ql(l,e,t){let n,{$$slots:s={},$$scope:o}=e;const r=dt("i18n");Be(l,r,v=>t(5,n=v));let{show:a=!1}=e,{className:i="max-w-[170px]"}=e,{onRecord:f=()=>{}}=e,{onCaptureAudio:m=()=>{}}=e,{onUpload:p=()=>{}}=e;const C=ss(),T=async()=>{f(),t(0,a=!1)},N=()=>{m(),t(0,a=!1)},b=()=>{p(),t(0,a=!1)},h=v=>$n(v,{duration:100}),g=v=>{C("change",v)};function c(v){a=v,t(0,a)}return l.$$set=v=>{"show"in v&&t(0,a=v.show),"className"in v&&t(1,i=v.className),"onRecord"in v&&t(2,f=v.onRecord),"onCaptureAudio"in v&&t(3,m=v.onCaptureAudio),"onUpload"in v&&t(4,p=v.onUpload),"$$scope"in v&&t(15,o=v.$$scope)},[a,i,f,m,p,n,r,C,s,T,N,b,h,g,c,o]}class Jl extends je{constructor(e){super(),Pe(this,e,ql,Yl,He,{show:0,className:1,onRecord:2,onCaptureAudio:3,onUpload:4})}}function Gl(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=k(e);t=Ue(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24"),u(e,"fill","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Xl(l,e,t){let{className:n="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class Zl extends je{constructor(e){super(),Pe(this,e,Xl,Gl,He,{className:0,strokeWidth:1})}}function Ql(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function Kl(l,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class xl extends je{constructor(e){super(),Pe(this,e,Kl,Ql,He,{className:0,strokeWidth:1})}}function eo(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function to(l,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class no extends je{constructor(e){super(),Pe(this,e,to,eo,He,{className:0,strokeWidth:1})}}const so=l=>({}),nn=l=>({});function lo(l){let e;const t=l[7].default,n=gt(t,l,l[12],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&4096)&&_t(n,t,s,s[12],e?vt(t,s[12],o,null):pt(s[12]),null)},i(s){e||(E(n,s),e=!0)},o(s){D(n,s),e=!1},d(s){n&&n.d(s)}}}function oo(l){let e,t,n,s,o,r=l[5].t("Enhance")+"",a,i,f,m,p,C,T,N=l[5].t("Chat")+"",b,h,g,c;return n=new vn({props:{className:"size-4",strokeWidth:"2"}}),p=new wn({props:{className:"size-4",strokeWidth:"2"}}),{c(){e=I("button"),t=I("div"),A(n.$$.fragment),s=G(),o=I("div"),a=de(r),i=G(),f=I("button"),m=I("div"),A(p.$$.fragment),C=G(),T=I("div"),b=de(N),this.h()},l(v){e=$(v,"BUTTON",{class:!0});var y=k(e);t=$(y,"DIV",{class:!0});var V=k(t);W(n.$$.fragment,V),V.forEach(d),s=X(y),o=$(y,"DIV",{class:!0});var H=k(o);a=me(H,r),H.forEach(d),y.forEach(d),i=X(v),f=$(v,"BUTTON",{class:!0});var P=k(f);m=$(P,"DIV",{class:!0});var L=k(m);W(p.$$.fragment,L),L.forEach(d),C=X(P),T=$(P,"DIV",{class:!0});var K=k(T);b=me(K,N),K.forEach(d),P.forEach(d),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center truncate"),u(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),u(m,"class","self-center mr-2"),u(T,"class","self-center truncate"),u(f,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(v,y){S(v,e,y),w(e,t),U(n,t,null),w(e,s),w(e,o),w(o,a),S(v,i,y),S(v,f,y),w(f,m),U(p,m,null),w(f,C),w(f,T),w(T,b),h=!0,g||(c=[ce(e,"click",l[8]),ce(f,"click",l[9])],g=!0)},p(v,y){(!h||y&32)&&r!==(r=v[5].t("Enhance")+"")&&Ie(a,r),(!h||y&32)&&N!==(N=v[5].t("Chat")+"")&&Ie(b,N)},i(v){h||(E(n.$$.fragment,v),E(p.$$.fragment,v),h=!0)},o(v){D(n.$$.fragment,v),D(p.$$.fragment,v),h=!1},d(v){v&&(d(e),d(i),d(f)),j(n),j(p),g=!1,ut(c)}}}function ro(l){let e,t;return e=new In({props:{class:"w-full "+l[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"end",transition:l[10],$$slots:{default:[oo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){U(e,n,s),t=!0},p(n,s){const o={};s&2&&(o.class="w-full "+n[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&4141&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ao(l){let e,t,n;e=new En({props:{$$slots:{default:[lo]},$$scope:{ctx:l}}});const s=l[7].content,o=gt(s,l,l[12],nn),r=o||ro(l);return{c(){A(e.$$.fragment),t=G(),r&&r.c()},l(a){W(e.$$.fragment,a),t=X(a),r&&r.l(a)},m(a,i){U(e,a,i),S(a,t,i),r&&r.m(a,i),n=!0},p(a,i){const f={};i&4096&&(f.$$scope={dirty:i,ctx:a}),e.$set(f),o?o.p&&(!n||i&4096)&&_t(o,s,a,a[12],n?vt(s,a[12],i,so):pt(a[12]),nn):r&&r.p&&(!n||i&47)&&r.p(a,n?i:-1)},i(a){n||(E(e.$$.fragment,a),E(r,a),n=!0)},o(a){D(e.$$.fragment,a),D(r,a),n=!1},d(a){a&&d(t),j(e,a),r&&r.d(a)}}}function io(l){let e,t,n;function s(r){l[11](r)}let o={onOpenChange:l[4],$$slots:{default:[ao]},$$scope:{ctx:l}};return l[0]!==void 0&&(o.open=l[0]),e=new kn({props:o}),ge.push(()=>ke(e,"open",s)),{c(){A(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,a){U(e,r,a),n=!0},p(r,[a]){const i={};a&16&&(i.onOpenChange=r[4]),a&4143&&(i.$$scope={dirty:a,ctx:r}),!t&&a&1&&(t=!0,i.open=r[0],Ee(()=>t=!1)),e.$set(i)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function fo(l,e,t){let n,{$$slots:s={},$$scope:o}=e;const r=dt("i18n");Be(l,r,h=>t(5,n=h));let{show:a=!1}=e,{className:i="max-w-[170px]"}=e,{onEdit:f=()=>{}}=e,{onChat:m=()=>{}}=e,{onChange:p=()=>{}}=e;const C=async()=>{f(),t(0,a=!1)},T=()=>{m(),t(0,a=!1)},N=h=>$n(h,{duration:100});function b(h){a=h,t(0,a)}return l.$$set=h=>{"show"in h&&t(0,a=h.show),"className"in h&&t(1,i=h.className),"onEdit"in h&&t(2,f=h.onEdit),"onChat"in h&&t(3,m=h.onChat),"onChange"in h&&t(4,p=h.onChange),"$$scope"in h&&t(12,o=h.$$scope)},[a,i,f,m,p,n,r,s,C,T,N,b,o]}class co extends je{constructor(e){super(),Pe(this,e,fo,io,He,{show:0,className:1,onEdit:2,onChat:3,onChange:4})}}function uo(l){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(n){e=Ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=Ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(d),s.forEach(d),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",l[1]),u(e,"stroke","currentColor"),u(e,"class",l[0])},m(n,s){S(n,e,s),w(e,t)},p(n,[s]){s&2&&u(e,"stroke-width",n[1]),s&1&&u(e,"class",n[0])},i:ie,o:ie,d(n){n&&d(e)}}}function mo(l,e,t){let{className:n="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return l.$$set=o=>{"className"in o&&t(0,n=o.className),"strokeWidth"in o&&t(1,s=o.strokeWidth)},[n,s]}class ho extends je{constructor(e){super(),Pe(this,e,mo,uo,He,{className:0,strokeWidth:1})}}const{document:Tt}=ms;function sn(l){let e,t,n,s;function o(i){l[44](i)}function r(i){l[45](i)}let a={accessRoles:["read","write"],onChange:l[43]};return l[15]!==void 0&&(a.show=l[15]),l[2].access_control!==void 0&&(a.accessControl=l[2].access_control),e=new Us({props:a}),ge.push(()=>ke(e,"show",o)),ge.push(()=>ke(e,"accessControl",r)),{c(){A(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,f){U(e,i,f),s=!0},p(i,f){const m={};!t&&f[0]&32768&&(t=!0,m.show=i[15],Ee(()=>t=!1)),!n&&f[0]&4&&(n=!0,m.accessControl=i[2].access_control,Ee(()=>n=!1)),e.$set(m)},i(i){s||(E(e.$$.fragment,i),s=!0)},o(i){D(e.$$.fragment,i),s=!1},d(i){j(e,i)}}}function go(l){let e,t=l[0].t("This will delete")+"",n,s,o,r=l[2].title+"",a,i;return{c(){e=I("div"),n=de(t),s=G(),o=I("span"),a=de(r),i=de("."),this.h()},l(f){e=$(f,"DIV",{class:!0});var m=k(e);n=me(m,t),s=X(m),o=$(m,"SPAN",{class:!0});var p=k(o);a=me(p,r),p.forEach(d),i=me(m,"."),m.forEach(d),this.h()},h(){u(o,"class","font-semibold"),u(e,"class","text-sm text-gray-500")},m(f,m){S(f,e,m),w(e,n),w(e,s),w(e,o),w(o,a),w(e,i)},p(f,m){m[0]&1&&t!==(t=f[0].t("This will delete")+"")&&Ie(n,t),m[0]&4&&r!==(r=f[2].title+"")&&Ie(a,r)},d(f){f&&d(e)}}}function _o(l){var wt,kt,Et;let e,t,n,s,o,r,a,i,f,m,p,C,T,N,b,h,g,c,v,y,V,H,P,L,K,O,Z,F,J,le,te,_e=((wt=l[2])!=null&&wt.access_control?l[0].t("Private"):l[0].t("Everyone"))+"",oe,ze,Ve,Y,x,z,Q,se,Re,$e,Te,Ge,Ze,re=l[27]&&ln(l),ae=l[17]&&!l[18]&&on(l),fe=l[1]&&rn(l);C=new Xe({props:{placement:"top",content:l[0].t("Chat"),className:"cursor-pointer",$$slots:{default:[wo]},$$scope:{ctx:l}}}),N=new Xe({props:{placement:"top",content:l[0].t("Controls"),className:"cursor-pointer",$$slots:{default:[ko]},$$scope:{ctx:l}}}),h=new qs({props:{onDownload:l[58],onCopyLink:l[59],onCopyToClipboard:l[60],onDelete:l[61],$$slots:{default:[Eo]},$$scope:{ctx:l}}}),H=new Sl({props:{className:"size-3.5",strokeWidth:"2"}});function Je(M,q){return q[0]&4&&(L=null),q[0]&4&&(K=null),q[0]&4&&(O=null),L==null&&(L=!!Ae(M[2].created_at/1e6).isSame(Ae(),"day")),L?Co:(K==null&&(K=!!Ae(M[2].created_at/1e6).isSame(Ae().subtract(1,"day"),"day")),K?No:(O==null&&(O=!!Ae(M[2].created_at/1e6).isSame(Ae().subtract(1,"week"),"week")),O?$o:Io))}let Ce=Je(l,[-1,-1,-1,-1]),ye=Ce(l);J=new yl({props:{className:"size-3.5",strokeWidth:"2"}});let pe=l[1]&&an(l),we=l[21]&&fn(l);function at(M){l[67](M)}function mt(M){l[68](M)}let xe={id:`note-${l[2].id}`,className:"input-prose-sm px-0.5",json:!0,html:(Et=(kt=l[2].data)==null?void 0:kt.content)==null?void 0:Et.html,documentId:`note:${l[2].id}`,collaboration:!0,socket:l[25],user:l[29],link:!0,image:!0,files:l[3],placeholder:l[0].t("Write something..."),editable:l[7]===null&&!l[21],onSelectionUpdate:l[63],onChange:l[64],fileHandler:!0,onFileDrop:l[65],onFilePaste:Lo};return l[1]!==void 0&&(xe.editor=l[1]),l[2].data.content.json!==void 0&&(xe.value=l[2].data.content.json),Q=new Ds({props:xe}),l[66](Q),ge.push(()=>ke(Q,"editor",at)),ge.push(()=>ke(Q,"value",mt)),Q.$on("paste",l[69]),{c(){e=I("div"),t=I("div"),n=I("div"),re&&re.c(),s=G(),o=I("input"),i=G(),ae&&ae.c(),f=G(),m=I("div"),fe&&fe.c(),p=G(),A(C.$$.fragment),T=G(),A(N.$$.fragment),b=G(),A(h.$$.fragment),g=G(),c=I("div"),v=I("div"),y=I("div"),V=I("button"),A(H.$$.fragment),P=G(),ye.c(),Z=G(),F=I("button"),A(J.$$.fragment),le=G(),te=I("span"),oe=de(_e),Ve=G(),pe&&pe.c(),Y=G(),x=I("div"),we&&we.c(),z=G(),A(Q.$$.fragment),this.h()},l(M){e=$(M,"DIV",{class:!0});var q=k(e);t=$(q,"DIV",{class:!0});var Qe=k(t);n=$(Qe,"DIV",{class:!0});var Le=k(n);re&&re.l(Le),s=X(Le),o=$(Le,"INPUT",{class:!0,type:!0,placeholder:!0}),i=X(Le),ae&&ae.l(Le),f=X(Le),m=$(Le,"DIV",{class:!0});var Me=k(m);fe&&fe.l(Me),p=X(Me),W(C.$$.fragment,Me),T=X(Me),W(N.$$.fragment,Me),b=X(Me),W(h.$$.fragment,Me),Me.forEach(d),Le.forEach(d),Qe.forEach(d),g=X(q),c=$(q,"DIV",{class:!0});var De=k(c);v=$(De,"DIV",{class:!0});var it=k(v);y=$(it,"DIV",{class:!0});var Ke=k(y);V=$(Ke,"BUTTON",{class:!0});var nt=k(V);W(H.$$.fragment,nt),P=X(nt),ye.l(nt),nt.forEach(d),Z=X(Ke),F=$(Ke,"BUTTON",{class:!0});var st=k(F);W(J.$$.fragment,st),le=X(st),te=$(st,"SPAN",{});var ft=k(te);oe=me(ft,_e),ft.forEach(d),st.forEach(d),Ve=X(Ke),pe&&pe.l(Ke),Ke.forEach(d),it.forEach(d),De.forEach(d),Y=X(q),x=$(q,"DIV",{class:!0,id:!0});var lt=k(x);we&&we.l(lt),z=X(lt),W(Q.$$.fragment,lt),lt.forEach(d),q.forEach(d),this.h()},h(){var M,q,Qe,Le,Me,De;u(o,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),u(o,"type","text"),u(o,"placeholder",r=l[18]?l[0].t("Generating..."):l[0].t("Title")),o.disabled=a=((M=l[2])==null?void 0:M.user_id)!==((q=l[29])==null?void 0:q.id)&&((Qe=l[29])==null?void 0:Qe.role)!=="admin"||l[18],o.required=!0,u(m,"class","flex items-center gap-0.5 translate-x-1"),u(n,"class","w-full flex items-center"),u(t,"class","shrink-0 w-full flex justify-between items-center px-3.5 mb-1.5"),u(V,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg min-w-fit"),u(F,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg min-w-fit"),F.disabled=ze=((Le=l[2])==null?void 0:Le.user_id)!==((Me=l[29])==null?void 0:Me.id)&&((De=l[29])==null?void 0:De.role)!=="admin",u(y,"class","flex gap-1 items-center text-xs font-medium text-gray-500 dark:text-gray-500 w-fit"),u(v,"class","flex w-full bg-transparent overflow-x-auto scrollbar-none"),u(c,"class","px-2.5"),u(x,"class","flex-1 w-full h-full overflow-auto px-3.5 pb-20 relative pt-2.5"),u(x,"id","note-content-container"),u(e,"class",$e="w-full flex flex-col "+(l[20]?"opacity-20":""))},m(M,q){S(M,e,q),w(e,t),w(t,n),re&&re.m(n,null),w(n,s),w(n,o),ct(o,l[2].title),w(n,i),ae&&ae.m(n,null),w(n,f),w(n,m),fe&&fe.m(m,null),w(m,p),U(C,m,null),w(m,T),U(N,m,null),w(m,b),U(h,m,null),w(e,g),w(e,c),w(c,v),w(v,y),w(y,V),U(H,V,null),w(V,P),ye.m(V,null),w(y,Z),w(y,F),U(J,F,null),w(F,le),w(F,te),w(te,oe),w(y,Ve),pe&&pe.m(y,null),w(e,Y),w(e,x),we&&we.m(x,null),w(x,z),U(Q,x,null),Te=!0,Ge||(Ze=[ce(o,"input",l[49]),ce(o,"input",l[31]),ce(o,"focus",l[50]),ce(o,"blur",l[51]),ce(F,"click",l[62]),ce(v,"wheel",Ro)],Ge=!0)},p(M,q){var it,Ke,nt,st,ft,lt,It,$t,Nt;M[27]?re?(re.p(M,q),q[0]&134217728&&E(re,1)):(re=ln(M),re.c(),E(re,1),re.m(n,s)):re&&(Fe(),D(re,1,1,()=>{re=null}),Ye()),(!Te||q[0]&262145&&r!==(r=M[18]?M[0].t("Generating..."):M[0].t("Title")))&&u(o,"placeholder",r),(!Te||q[0]&537133060&&a!==(a=((it=M[2])==null?void 0:it.user_id)!==((Ke=M[29])==null?void 0:Ke.id)&&((nt=M[29])==null?void 0:nt.role)!=="admin"||M[18]))&&(o.disabled=a),q[0]&4&&o.value!==M[2].title&&ct(o,M[2].title),M[17]&&!M[18]?ae?(ae.p(M,q),q[0]&393216&&E(ae,1)):(ae=on(M),ae.c(),E(ae,1),ae.m(n,f)):ae&&(Fe(),D(ae,1,1,()=>{ae=null}),Ye()),M[1]?fe?(fe.p(M,q),q[0]&2&&E(fe,1)):(fe=rn(M),fe.c(),E(fe,1),fe.m(m,p)):fe&&(Fe(),D(fe,1,1,()=>{fe=null}),Ye());const Qe={};q[0]&1&&(Qe.content=M[0].t("Chat")),q[0]&6144|q[3]&131072&&(Qe.$$scope={dirty:q,ctx:M}),C.$set(Qe);const Le={};q[0]&1&&(Le.content=M[0].t("Controls")),q[0]&6144|q[3]&131072&&(Le.$$scope={dirty:q,ctx:M}),N.$set(Le);const Me={};q[0]&5&&(Me.onCopyLink=M[59]),q[0]&5&&(Me.onCopyToClipboard=M[60]),q[0]&16384&&(Me.onDelete=M[61]),q[3]&131072&&(Me.$$scope={dirty:q,ctx:M}),h.$set(Me),Ce===(Ce=Je(M,q))&&ye?ye.p(M,q):(ye.d(1),ye=Ce(M),ye&&(ye.c(),ye.m(V,null))),(!Te||q[0]&5)&&_e!==(_e=((st=M[2])!=null&&st.access_control?M[0].t("Private"):M[0].t("Everyone"))+"")&&Ie(oe,_e),(!Te||q[0]&536870916&&ze!==(ze=((ft=M[2])==null?void 0:ft.user_id)!==((lt=M[29])==null?void 0:lt.id)&&((It=M[29])==null?void 0:It.role)!=="admin"))&&(F.disabled=ze),M[1]?pe?pe.p(M,q):(pe=an(M),pe.c(),pe.m(y,null)):pe&&(pe.d(1),pe=null),M[21]?we?we.p(M,q):(we=fn(M),we.c(),we.m(x,z)):we&&(we.d(1),we=null);const De={};q[0]&4&&(De.id=`note-${M[2].id}`),q[0]&4&&(De.html=(Nt=($t=M[2].data)==null?void 0:$t.content)==null?void 0:Nt.html),q[0]&4&&(De.documentId=`note:${M[2].id}`),q[0]&33554432&&(De.socket=M[25]),q[0]&536870912&&(De.user=M[29]),q[0]&8&&(De.files=M[3]),q[0]&1&&(De.placeholder=M[0].t("Write something...")),q[0]&2097280&&(De.editable=M[7]===null&&!M[21]),q[0]&8192&&(De.onSelectionUpdate=M[63]),q[0]&102&&(De.onChange=M[64]),!se&&q[0]&2&&(se=!0,De.editor=M[1],Ee(()=>se=!1)),!Re&&q[0]&4&&(Re=!0,De.value=M[2].data.content.json,Ee(()=>Re=!1)),Q.$set(De),(!Te||q[0]&1048576&&$e!==($e="w-full flex flex-col "+(M[20]?"opacity-20":"")))&&u(e,"class",$e)},i(M){Te||(E(re),E(ae),E(fe),E(C.$$.fragment,M),E(N.$$.fragment,M),E(h.$$.fragment,M),E(H.$$.fragment,M),E(J.$$.fragment,M),E(Q.$$.fragment,M),Te=!0)},o(M){D(re),D(ae),D(fe),D(C.$$.fragment,M),D(N.$$.fragment,M),D(h.$$.fragment,M),D(H.$$.fragment,M),D(J.$$.fragment,M),D(Q.$$.fragment,M),Te=!1},d(M){M&&d(e),re&&re.d(),ae&&ae.d(),fe&&fe.d(),j(C),j(N),j(h),j(H),ye.d(),j(J),pe&&pe.d(),we&&we.d(),l[66](null),j(Q),Ge=!1,ut(Ze)}}}function po(l){let e,t,n,s;return n=new bn({props:{className:"size-5"}}),{c(){e=I("div"),t=I("div"),A(n.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var r=k(e);t=$(r,"DIV",{class:!0});var a=k(t);W(n.$$.fragment,a),a.forEach(d),r.forEach(d),this.h()},h(){u(t,"class","m-auto"),u(e,"class","absolute top-0 bottom-0 left-0 right-0 flex")},m(o,r){S(o,e,r),w(e,t),U(n,t,null),s=!0},p:ie,i(o){s||(E(n.$$.fragment,o),s=!0)},o(o){D(n.$$.fragment,o),s=!1},d(o){o&&d(e),j(n)}}}function ln(l){let e,t,n,s;return t=new Xe({props:{content:l[28]?l[0].t("Close Sidebar"):l[0].t("Open Sidebar"),$$slots:{default:[vo]},$$scope:{ctx:l}}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var r=k(e);W(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"class",n=(l[28]?"md:hidden pl-0.5":"")+" flex flex-none items-center pr-1 -translate-x-1")},m(o,r){S(o,e,r),U(t,e,null),s=!0},p(o,r){const a={};r[0]&268435457&&(a.content=o[28]?o[0].t("Close Sidebar"):o[0].t("Open Sidebar")),r[0]&268435456|r[3]&131072&&(a.$$scope={dirty:r,ctx:o}),t.$set(a),(!s||r[0]&268435456&&n!==(n=(o[28]?"md:hidden pl-0.5":"")+" flex flex-none items-center pr-1 -translate-x-1"))&&u(e,"class",n)},i(o){s||(E(t.$$.fragment,o),s=!0)},o(o){D(t.$$.fragment,o),s=!1},d(o){o&&d(e),j(t)}}}function vo(l){let e,t,n,s,o,r;return n=new Gs({}),{c(){e=I("button"),t=I("div"),A(n.$$.fragment),this.h()},l(a){e=$(a,"BUTTON",{id:!0,class:!0});var i=k(e);t=$(i,"DIV",{class:!0});var f=k(t);W(n.$$.fragment,f),f.forEach(d),i.forEach(d),this.h()},h(){u(t,"class","self-center p-1.5"),u(e,"id","sidebar-toggle-button"),u(e,"class","cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-")},m(a,i){S(a,e,i),w(e,t),U(n,t,null),s=!0,o||(r=ce(e,"click",l[48]),o=!0)},p:ie,i(a){s||(E(n.$$.fragment,a),s=!0)},o(a){D(n.$$.fragment,a),s=!1},d(a){a&&d(e),j(n),o=!1,r()}}}function on(l){let e,t,n;return t=new Xe({props:{content:l[0].t("Generate"),$$slots:{default:[bo]},$$scope:{ctx:l}}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","flex self-center items-center space-x-1.5 z-10 translate-y-[0.5px] -translate-x-[0.5px] pl-2")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p(s,o){const r={};o[0]&1&&(r.content=s[0].t("Generate")),o[0]&537329668|o[3]&131072&&(r.$$scope={dirty:o,ctx:s}),t.$set(r)},i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function bo(l){let e,t,n,s,o,r;return t=new vn({props:{strokeWidth:"2"}}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(a){e=$(a,"BUTTON",{class:!0,id:!0});var i=k(e);W(t.$$.fragment,i),i.forEach(d),this.h()},h(){var a,i,f;u(e,"class","self-center dark:hover:text-white transition"),u(e,"id","generate-title-button"),e.disabled=n=((a=l[2])==null?void 0:a.user_id)!==((i=l[29])==null?void 0:i.id)&&((f=l[29])==null?void 0:f.role)!=="admin"||l[18]},m(a,i){S(a,e,i),U(t,e,null),s=!0,o||(r=[ce(e,"mouseenter",l[52]),ce(e,"click",l[53])],o=!0)},p(a,i){var f,m,p;(!s||i[0]&537133060&&n!==(n=((f=a[2])==null?void 0:f.user_id)!==((m=a[29])==null?void 0:m.id)&&((p=a[29])==null?void 0:p.role)!=="admin"||a[18]))&&(e.disabled=n)},i(a){s||(E(t.$$.fragment,a),s=!0)},o(a){D(t.$$.fragment,a),s=!1},d(a){a&&d(e),j(t),o=!1,ut(r)}}}function rn(l){let e,t,n,s,o,r,a,i,f,m,p,C;return s=new xl({props:{className:"size-4"}}),i=new no({props:{className:"size-4"}}),{c(){e=I("div"),t=I("div"),n=I("button"),A(s.$$.fragment),r=G(),a=I("button"),A(i.$$.fragment),this.h()},l(T){e=$(T,"DIV",{});var N=k(e);t=$(N,"DIV",{class:!0,dir:!0});var b=k(t);n=$(b,"BUTTON",{class:!0});var h=k(n);W(s.$$.fragment,h),h.forEach(d),r=X(b),a=$(b,"BUTTON",{class:!0});var g=k(a);W(i.$$.fragment,g),g.forEach(d),b.forEach(d),N.forEach(d),this.h()},h(){u(n,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),n.disabled=o=!l[1].can().undo(),u(a,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),a.disabled=f=!l[1].can().redo(),u(t,"class","flex items-center gap-0.5 self-center min-w-fit"),u(t,"dir","ltr")},m(T,N){S(T,e,N),w(e,t),w(t,n),U(s,n,null),w(t,r),w(t,a),U(i,a,null),m=!0,p||(C=[ce(n,"click",l[54]),ce(a,"click",l[55])],p=!0)},p(T,N){(!m||N[0]&2&&o!==(o=!T[1].can().undo()))&&(n.disabled=o),(!m||N[0]&2&&f!==(f=!T[1].can().redo()))&&(a.disabled=f)},i(T){m||(E(s.$$.fragment,T),E(i.$$.fragment,T),m=!0)},o(T){D(s.$$.fragment,T),D(i.$$.fragment,T),m=!1},d(T){T&&d(e),j(s),j(i),p=!1,ut(C)}}}function wo(l){let e,t,n,s,o;return t=new wn({}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0});var a=k(e);W(t.$$.fragment,a),a.forEach(d),this.h()},h(){u(e,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg")},m(r,a){S(r,e,a),U(t,e,null),n=!0,s||(o=ce(e,"click",l[56]),s=!0)},p:ie,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){D(t.$$.fragment,r),n=!1},d(r){r&&d(e),j(t),s=!1,o()}}}function ko(l){let e,t,n,s,o;return t=new ho({}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0});var a=k(e);W(t.$$.fragment,a),a.forEach(d),this.h()},h(){u(e,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg")},m(r,a){S(r,e,a),U(t,e,null),n=!0,s||(o=ce(e,"click",l[57]),s=!0)},p:ie,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){D(t.$$.fragment,r),n=!1},d(r){r&&d(e),j(t),s=!1,o()}}}function Eo(l){let e,t,n;return t=new Js({props:{className:"size-5"}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","p-1 bg-transparent hover:bg-white/5 transition rounded-lg")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p:ie,i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function Io(l){let e,t=Ae(l[2].created_at/1e6).format(l[0].t("DD/MM/YYYY"))+"",n;return{c(){e=I("span"),n=de(t)},l(s){e=$(s,"SPAN",{});var o=k(e);n=me(o,t),o.forEach(d)},m(s,o){S(s,e,o),w(e,n)},p(s,o){o[0]&5&&t!==(t=Ae(s[2].created_at/1e6).format(s[0].t("DD/MM/YYYY"))+"")&&Ie(n,t)},d(s){s&&d(e)}}}function $o(l){let e,t=Ae(l[2].created_at/1e6).format(l[0].t("[Last] dddd [at] h:mm A"))+"",n;return{c(){e=I("span"),n=de(t)},l(s){e=$(s,"SPAN",{});var o=k(e);n=me(o,t),o.forEach(d)},m(s,o){S(s,e,o),w(e,n)},p(s,o){o[0]&5&&t!==(t=Ae(s[2].created_at/1e6).format(s[0].t("[Last] dddd [at] h:mm A"))+"")&&Ie(n,t)},d(s){s&&d(e)}}}function No(l){let e,t=Ae(l[2].created_at/1e6).format(l[0].t("[Yesterday at] h:mm A"))+"",n;return{c(){e=I("span"),n=de(t)},l(s){e=$(s,"SPAN",{});var o=k(e);n=me(o,t),o.forEach(d)},m(s,o){S(s,e,o),w(e,n)},p(s,o){o[0]&5&&t!==(t=Ae(s[2].created_at/1e6).format(s[0].t("[Yesterday at] h:mm A"))+"")&&Ie(n,t)},d(s){s&&d(e)}}}function Co(l){let e,t=Ae(l[2].created_at/1e6).format(l[0].t("[Today at] h:mm A"))+"",n;return{c(){e=I("span"),n=de(t)},l(s){e=$(s,"SPAN",{});var o=k(e);n=me(o,t),o.forEach(d)},m(s,o){S(s,e,o),w(e,n)},p(s,o){o[0]&5&&t!==(t=Ae(s[2].created_at/1e6).format(s[0].t("[Today at] h:mm A"))+"")&&Ie(n,t)},d(s){s&&d(e)}}}function an(l){let e,t,n=l[0].t("{{COUNT}} words",{COUNT:l[5]})+"",s,o,r,a=l[0].t("{{COUNT}} characters",{COUNT:l[6]})+"",i;return{c(){e=I("div"),t=I("div"),s=de(n),o=G(),r=I("div"),i=de(a),this.h()},l(f){e=$(f,"DIV",{class:!0});var m=k(e);t=$(m,"DIV",{});var p=k(t);s=me(p,n),p.forEach(d),o=X(m),r=$(m,"DIV",{});var C=k(r);i=me(C,a),C.forEach(d),m.forEach(d),this.h()},h(){u(e,"class","flex items-center gap-1 px-1 min-w-fit")},m(f,m){S(f,e,m),w(e,t),w(t,s),w(e,o),w(e,r),w(r,i)},p(f,m){m[0]&33&&n!==(n=f[0].t("{{COUNT}} words",{COUNT:f[5]})+"")&&Ie(s,n),m[0]&65&&a!==(a=f[0].t("{{COUNT}} characters",{COUNT:f[6]})+"")&&Ie(i,a)},d(f){f&&d(e)}}}function fn(l){let e,t;return{c(){e=I("div"),this.h()},l(n){e=$(n,"DIV",{class:!0}),k(e).forEach(d),this.h()},h(){u(e,"class",t="w-full h-full fixed top-0 left-0 "+(l[22]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")},m(n,s){S(n,e,s)},p(n,s){s[0]&4194304&&t!==(t="w-full h-full fixed top-0 left-0 "+(n[22]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")&&u(e,"class",t)},d(n){n&&d(e)}}}function Do(l){let e,t,n,s,o;return e=new Jl({props:{onRecord:l[73],onCaptureAudio:l[74],onUpload:l[75],$$slots:{default:[So]},$$scope:{ctx:l}}}),s=new Xe({props:{content:l[0].t("AI"),placement:"top",$$slots:{default:[Oo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),t=G(),n=I("div"),A(s.$$.fragment),this.h()},l(r){W(e.$$.fragment,r),t=X(r),n=$(r,"DIV",{class:!0});var a=k(n);W(s.$$.fragment,a),a.forEach(d),this.h()},h(){u(n,"class","cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850 dark:bg-gray-850 transition shadow-xl")},m(r,a){U(e,r,a),S(r,t,a),S(r,n,a),U(s,n,null),o=!0},p(r,a){const i={};a[0]&1537&&(i.onRecord=r[73]),a[0]&1536&&(i.onCaptureAudio=r[74]),a[0]&1|a[3]&131072&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const f={};a[0]&1&&(f.content=r[0].t("AI")),a[0]&2103296|a[3]&131072&&(f.$$scope={dirty:a,ctx:r}),s.$set(f)},i(r){o||(E(e.$$.fragment,r),E(s.$$.fragment,r),o=!0)},o(r){D(e.$$.fragment,r),D(s.$$.fragment,r),o=!1},d(r){r&&(d(t),d(n)),j(e,r),j(s)}}}function To(l){let e,t,n,s;function o(a){l[72](a)}let r={className:"p-1 w-full max-w-full",transcribe:!1,displayMedia:l[10],echoCancellation:!1,noiseSuppression:!1,onCancel:l[70],onConfirm:l[71]};return l[9]!==void 0&&(r.recording=l[9]),t=new Ts({props:r}),ge.push(()=>ke(t,"recording",o)),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0});var i=k(e);W(t.$$.fragment,i),i.forEach(d),this.h()},h(){u(e,"class","flex-1 w-full")},m(a,i){S(a,e,i),U(t,e,null),s=!0},p(a,i){const f={};i[0]&1024&&(f.displayMedia=a[10]),i[0]&1536&&(f.onCancel=a[70]),i[0]&1536&&(f.onConfirm=a[71]),!n&&i[0]&512&&(n=!0,f.recording=a[9],Ee(()=>n=!1)),t.$set(f)},i(a){s||(E(t.$$.fragment,a),s=!0)},o(a){D(t.$$.fragment,a),s=!1},d(a){a&&d(e),j(t)}}}function Mo(l){let e,t,n;return t=new Rs({props:{className:"size-4.5"}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p:ie,i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function So(l){let e,t;return e=new Xe({props:{content:l[0].t("Record"),placement:"top",$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){U(e,n,s),t=!0},p(n,s){const o={};s[0]&1&&(o.content=n[0].t("Record")),s[3]&131072&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function zo(l){let e,t;return e=new co({props:{onEdit:l[77],onChat:l[78],$$slots:{default:[yo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){U(e,n,s),t=!0},p(n,s){const o={};s[0]&6144&&(o.onChat=n[78]),s[3]&131072&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vo(l){let e,t,n,s,o;return t=new bn({props:{className:"size-5"}}),{c(){e=I("button"),A(t.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0,type:!0});var a=k(e);W(t.$$.fragment,a),a.forEach(d),this.h()},h(){u(e,"class","p-2 flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"),u(e,"type","button")},m(r,a){S(r,e,a),U(t,e,null),n=!0,s||(o=ce(e,"click",l[76]),s=!0)},p:ie,i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){D(t.$$.fragment,r),n=!1},d(r){r&&d(e),j(t),s=!1,o()}}}function yo(l){let e,t,n;return t=new Zl({}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=k(e);W(t.$$.fragment,o),o.forEach(d),this.h()},h(){u(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl")},m(s,o){S(s,e,o),U(t,e,null),n=!0},p:ie,i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){D(t.$$.fragment,s),n=!1},d(s){s&&d(e),j(t)}}}function Oo(l){let e,t,n,s;const o=[Vo,zo],r=[];function a(i,f){return i[21]?0:1}return e=a(l),t=r[e]=o[e](l),{c(){t.c(),n=tt()},l(i){t.l(i),n=tt()},m(i,f){r[e].m(i,f),S(i,n,f),s=!0},p(i,f){let m=e;e=a(i),e===m?r[e].p(i,f):(Fe(),D(r[m],1,1,()=>{r[m]=null}),Ye(),t=r[e],t?t.p(i,f):(t=r[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n))},i(i){s||(E(t),s=!0)},o(i){D(t),s=!1},d(i){i&&d(n),r[e].d(i)}}}function Bo(l){let e,t,n,s,o,r,a,i,f;const m=[po,_o],p=[];function C(h,g){return h[20]?0:1}t=C(l),n=p[t]=m[t](l);const T=[To,Do],N=[];function b(h,g){return h[9]?0:1}return a=b(l),i=N[a]=T[a](l),{c(){e=I("div"),n.c(),s=G(),o=I("div"),r=I("div"),i.c(),this.h()},l(h){e=$(h,"DIV",{class:!0,id:!0});var g=k(e);n.l(g),g.forEach(d),s=X(h),o=$(h,"DIV",{class:!0});var c=k(o);r=$(c,"DIV",{class:!0});var v=k(r);i.l(v),v.forEach(d),c.forEach(d),this.h()},h(){u(e,"class","relative flex-1 w-full h-full flex justify-center pt-[11px]"),u(e,"id","note-editor"),u(r,"class","flex gap-1 w-full min-w-full justify-between"),u(o,"class","absolute z-20 bottom-0 right-0 p-3.5 max-w-full w-full flex")},m(h,g){S(h,e,g),p[t].m(e,null),S(h,s,g),S(h,o,g),w(o,r),N[a].m(r,null),f=!0},p(h,g){let c=t;t=C(h),t===c?p[t].p(h,g):(Fe(),D(p[c],1,1,()=>{p[c]=null}),Ye(),n=p[t],n?n.p(h,g):(n=p[t]=m[t](h),n.c()),E(n,1),n.m(e,null));let v=a;a=b(h),a===v?N[a].p(h,g):(Fe(),D(N[v],1,1,()=>{N[v]=null}),Ye(),i=N[a],i?i.p(h,g):(i=N[a]=T[a](h),i.c()),E(i,1),i.m(r,null))},i(h){f||(E(n),E(i),f=!0)},o(h){D(n),D(i),f=!1},d(h){h&&(d(e),d(s),d(o)),p[t].d(),N[a].d()}}}function Ao(l){let e,t,n,s,o;function r(m){l[88](m)}function a(m){l[89](m)}function i(m){l[90](m)}let f={onUpdate:l[87]};return l[11]!==void 0&&(f.show=l[11]),l[8]!==void 0&&(f.selectedModelId=l[8]),l[3]!==void 0&&(f.files=l[3]),e=new ol({props:f}),ge.push(()=>ke(e,"show",r)),ge.push(()=>ke(e,"selectedModelId",a)),ge.push(()=>ke(e,"files",i)),{c(){A(e.$$.fragment)},l(m){W(e.$$.fragment,m)},m(m,p){U(e,m,p),o=!0},p(m,p){const C={};!t&&p[0]&2048&&(t=!0,C.show=m[11],Ee(()=>t=!1)),!n&&p[0]&256&&(n=!0,C.selectedModelId=m[8],Ee(()=>n=!1)),!s&&p[0]&8&&(s=!0,C.files=m[3],Ee(()=>s=!1)),e.$set(C)},i(m){o||(E(e.$$.fragment,m),o=!0)},o(m){D(e.$$.fragment,m),o=!1},d(m){j(e,m)}}}function Wo(l){let e,t,n,s,o,r,a,i,f;function m(c){l[80](c)}function p(c){l[81](c)}function C(c){l[82](c)}function T(c){l[83](c)}function N(c){l[84](c)}function b(c){l[85](c)}function h(c){l[86](c)}let g={editor:l[1],inputElement:l[24],selectedContent:l[13],files:l[3],onInsert:l[41],onStop:l[35],onEdited:l[32],insertNoteHandler:l[79],scrollToBottomHandler:l[40]};return l[11]!==void 0&&(g.show=l[11]),l[8]!==void 0&&(g.selectedModelId=l[8]),l[4]!==void 0&&(g.messages=l[4]),l[2]!==void 0&&(g.note=l[2]),l[21]!==void 0&&(g.editing=l[21]),l[22]!==void 0&&(g.streaming=l[22]),l[23]!==void 0&&(g.stopResponseFlag=l[23]),e=new Dl({props:g}),ge.push(()=>ke(e,"show",m)),ge.push(()=>ke(e,"selectedModelId",p)),ge.push(()=>ke(e,"messages",C)),ge.push(()=>ke(e,"note",T)),ge.push(()=>ke(e,"editing",N)),ge.push(()=>ke(e,"streaming",b)),ge.push(()=>ke(e,"stopResponseFlag",h)),{c(){A(e.$$.fragment)},l(c){W(e.$$.fragment,c)},m(c,v){U(e,c,v),f=!0},p(c,v){const y={};v[0]&2&&(y.editor=c[1]),v[0]&16777216&&(y.inputElement=c[24]),v[0]&8192&&(y.selectedContent=c[13]),v[0]&8&&(y.files=c[3]),v[0]&4&&(y.insertNoteHandler=c[79]),!t&&v[0]&2048&&(t=!0,y.show=c[11],Ee(()=>t=!1)),!n&&v[0]&256&&(n=!0,y.selectedModelId=c[8],Ee(()=>n=!1)),!s&&v[0]&16&&(s=!0,y.messages=c[4],Ee(()=>s=!1)),!o&&v[0]&4&&(o=!0,y.note=c[2],Ee(()=>o=!1)),!r&&v[0]&2097152&&(r=!0,y.editing=c[21],Ee(()=>r=!1)),!a&&v[0]&4194304&&(a=!0,y.streaming=c[22],Ee(()=>a=!1)),!i&&v[0]&8388608&&(i=!0,y.stopResponseFlag=c[23],Ee(()=>i=!1)),e.$set(y)},i(c){f||(E(e.$$.fragment,c),f=!0)},o(c){D(e.$$.fragment,c),f=!1},d(c){j(e,c)}}}function Uo(l){let e,t,n,s;const o=[Wo,Ao],r=[];function a(i,f){return i[12]==="chat"?0:i[12]==="settings"?1:-1}return~(e=a(l))&&(t=r[e]=o[e](l)),{c(){t&&t.c(),n=tt()},l(i){t&&t.l(i),n=tt()},m(i,f){~e&&r[e].m(i,f),S(i,n,f),s=!0},p(i,f){let m=e;e=a(i),e===m?~e&&r[e].p(i,f):(t&&(Fe(),D(r[m],1,1,()=>{r[m]=null}),Ye()),~e?(t=r[e],t?t.p(i,f):(t=r[e]=o[e](i),t.c()),E(t,1),t.m(n.parentNode,n)):t=null)},i(i){s||(E(t),s=!0)},o(i){D(t),s=!1},d(i){i&&d(n),~e&&r[e].d(i)}}}function jo(l){let e,t,n,s,o;e=new hn({props:{defaultSize:70,minSize:30,class:"h-full flex flex-col w-full relative",$$slots:{default:[Bo]},$$scope:{ctx:l}}});function r(i){l[91](i)}let a={$$slots:{default:[Uo]},$$scope:{ctx:l}};return l[11]!==void 0&&(a.show=l[11]),n=new nl({props:a}),ge.push(()=>ke(n,"show",r)),{c(){A(e.$$.fragment),t=G(),A(n.$$.fragment)},l(i){W(e.$$.fragment,i),t=X(i),W(n.$$.fragment,i)},m(i,f){U(e,i,f),S(i,t,f),U(n,i,f),o=!0},p(i,f){const m={};f[0]&997719791|f[3]&131072&&(m.$$scope={dirty:f,ctx:i}),e.$set(m);const p={};f[0]&31471902|f[3]&131072&&(p.$$scope={dirty:f,ctx:i}),!s&&f[0]&2048&&(s=!0,p.show=i[11],Ee(()=>s=!1)),n.$set(p)},i(i){o||(E(e.$$.fragment,i),E(n.$$.fragment,i),o=!0)},o(i){D(e.$$.fragment,i),D(n.$$.fragment,i),o=!1},d(i){i&&d(t),j(e,i),j(n,i)}}}function Po(l){var N,b,h,g;let e,t,n,s,o,r,a,i,f,m;Tt.title=e=`
		`+((N=l[2])!=null&&N.title?`${((b=l[2])==null?void 0:b.title.length)>30?`${(h=l[2])==null?void 0:h.title.slice(0,30)}...`:(g=l[2])==null?void 0:g.title} • ${l[26]}`:`${l[26]}`)+`
	`;let p=l[2]&&sn(l);s=new Fs({props:{show:l[19]}});function C(c){l[46](c)}let T={title:l[0].t("Delete note?"),$$slots:{default:[go]},$$scope:{ctx:l}};return l[14]!==void 0&&(T.show=l[14]),r=new Ls({props:T}),ge.push(()=>ke(r,"show",C)),r.$on("confirm",l[47]),f=new gs({props:{direction:"horizontal",class:"w-full h-full",$$slots:{default:[jo]},$$scope:{ctx:l}}}),{c(){t=G(),p&&p.c(),n=G(),A(s.$$.fragment),o=G(),A(r.$$.fragment),i=G(),A(f.$$.fragment)},l(c){ls("svelte-zkgjga",Tt.head).forEach(d),t=X(c),p&&p.l(c),n=X(c),W(s.$$.fragment,c),o=X(c),W(r.$$.fragment,c),i=X(c),W(f.$$.fragment,c)},m(c,v){S(c,t,v),p&&p.m(c,v),S(c,n,v),U(s,c,v),S(c,o,v),U(r,c,v),S(c,i,v),U(f,c,v),m=!0},p(c,v){var P,L,K,O;(!m||v[0]&67108868)&&e!==(e=`
		`+((P=c[2])!=null&&P.title?`${((L=c[2])==null?void 0:L.title.length)>30?`${(K=c[2])==null?void 0:K.title.slice(0,30)}...`:(O=c[2])==null?void 0:O.title} • ${c[26]}`:`${c[26]}`)+`
	`)&&(Tt.title=e),c[2]?p?(p.p(c,v),v[0]&4&&E(p,1)):(p=sn(c),p.c(),E(p,1),p.m(n.parentNode,n)):p&&(Fe(),D(p,1,1,()=>{p=null}),Ye());const y={};v[0]&524288&&(y.show=c[19]),s.$set(y);const V={};v[0]&1&&(V.title=c[0].t("Delete note?")),v[0]&5|v[3]&131072&&(V.$$scope={dirty:v,ctx:c}),!a&&v[0]&16384&&(a=!0,V.show=c[14],Ee(()=>a=!1)),r.$set(V);const H={};v[0]&1006108671|v[3]&131072&&(H.$$scope={dirty:v,ctx:c}),f.$set(H)},i(c){m||(E(p),E(s.$$.fragment,c),E(r.$$.fragment,c),E(f.$$.fragment,c),m=!0)},o(c){D(p),D(s.$$.fragment,c),D(r.$$.fragment,c),D(f.$$.fragment,c),m=!1},d(c){c&&(d(t),d(n),d(o),d(i)),p&&p.d(c),j(s,c),j(r,c),j(f,c)}}}function Ho(l,e){return JSON.stringify(l)===JSON.stringify(e)}function cn(l){var n;const e={json:l.data.content.json,html:l.data.content.html,md:l.data.content.md},t=(n=l.data.versions)==null?void 0:n.at(-1);return!t||!Ho(t,e)?(l.data.versions=(l.data.versions??[]).concat(e),!0):!1}const Ro=l=>{l.deltaY!==0&&(l.preventDefault(),l.currentTarget.scrollLeft+=l.deltaY)},Lo=()=>{};function Fo(l,e,t){let n,s,o,r,a,i,f,m,p;Be(l,rs,_=>t(25,n=_)),Be(l,Ot,_=>t(93,s=_)),Be(l,as,_=>t(94,o=_)),Be(l,is,_=>t(95,r=_)),Be(l,fs,_=>t(26,i=_)),Be(l,cs,_=>t(27,f=_)),Be(l,St,_=>t(28,m=_)),Be(l,us,_=>t(29,p=_));const{saveAs:C}=ps,T=dt("i18n");Be(l,T,_=>t(0,a=_)),Ae.extend(Es),Ae.extend(Is),Ae.extend(ks);async function N(_){for(const B of _)try{Ae.locale(B);break}catch(R){console.error(`Could not load locale '${B}':`,R)}}let{id:b=null}=e,h=null,g=null,c=[],v=[],y=0,V=0,H=null,P=null,L=!1,K=!1,O=!1,Z="chat",F=null,J=!1,le=!1,te=!1,_e=!1,oe=!1,ze=!1,Ve=!1,Y=!1,x=!1,z=!1,Q=null;const se=async()=>{t(20,Ve=!0);const _=await js(localStorage.token,b).catch(B=>(Se.error(`${B}`),null));if(t(4,v=[]),_)t(2,g=_),t(3,c=_.data.files||[]);else{Wt("/");return}t(20,Ve=!1)};let Re=null;const $e=()=>{Re&&clearTimeout(Re),Re=setTimeout(async()=>{await Ps(localStorage.token,b,{title:(g==null?void 0:g.title)===""?a.t("Untitled"):g.title,data:{files:c},access_control:g==null?void 0:g.access_control}).catch(_=>{Se.error(`${_}`)})},200)},Te=async()=>{h&&h.commands.setContent(g.data.content.html)},Ge=async()=>{var ve,be;const B=`### Task:
Generate a concise, 3-5 word title with an emoji summarizing the content in the content's primary language.
### Guidelines:
- The title should clearly represent the main theme or subject of the content.
- Use emojis that enhance understanding of the topic, but avoid quotation marks or special formatting.
- Write the title in the content's primary language.
- Prioritize accuracy over excessive creativity; keep it clear and simple.
- Your entire response must consist solely of the JSON object, without any introductory or concluding text.
- The output must be a single, raw JSON object, without any markdown code fences or other encapsulating text.
- Ensure no conversational text, affirmations, or explanations precede or follow the raw JSON output, as this will cause direct parsing failure.
### Output:
JSON format: { "title": "your concise title here" }
### Examples:
- { "title": "📉 Stock Market Trends" },
- { "title": "🍪 Perfect Chocolate Chip Recipe" },
- { "title": "Evolution of Music Streaming" },
- { "title": "Remote Work Productivity Tips" },
- { "title": "Artificial Intelligence in Healthcare" },
- { "title": "🎮 Video Game Development Insights" }
### Content:
<content>
${g.data.content.md}
</content>`,R=JSON.parse(JSON.stringify(g.title));t(2,g.title="",g),t(18,oe=!0);const ne=await Ns(localStorage.token,{model:P,stream:!1,messages:[{role:"user",content:B}]},`${Mt}/api`);if(ne){const ue=((be=(ve=ne==null?void 0:ne.choices[0])==null?void 0:ve.message)==null?void 0:be.content)??"";try{const he=ue.indexOf("{"),Oe=ue.lastIndexOf("}");if(he!==-1&&Oe!==-1){const Ne=ue.substring(he,Oe+1),ee=JSON.parse(Ne);ee&&ee.title&&t(2,g.title=ee.title.trim(),g)}}catch(he){console.error("Error parsing JSON response:",he),Se.error(a.t("Failed to generate title"))}}g.title||t(2,g.title=R,g),t(18,oe=!1),await rt(),$e()};async function Ze(){if(P===""){Se.error(a.t("Please select a model."));return}const _=s.filter(B=>{var R,ne;return B.id===P&&!(((ne=(R=B==null?void 0:B.info)==null?void 0:R.meta)==null?void 0:ne.hidden)??!1)}).find(B=>B.id===P);if(!_){t(8,P="");return}t(21,Y=!0),await at(_),t(21,Y=!1),Te(),t(7,H=null)}const re=async()=>{t(23,z=!0)},ae=async _=>{var ne,ve,be,ue,he,Oe;const B=Bt(),R={type:"file",file:"",id:null,url:"",name:_.name,collection_name:"",status:"uploading",size:_.size,error:"",itemId:B};if(R.size==0)return Se.error(a.t("You cannot upload an empty file.")),null;t(3,c=[...c,R]),t(12,Z="settings"),O||t(11,O=!0);try{let Ne=null;(_.type.startsWith("audio/")||_.type.startsWith("video/"))&&((ve=(ne=r==null?void 0:r.audio)==null?void 0:ne.stt)!=null&&ve.language)&&(Ne={language:(ue=(be=r==null?void 0:r.audio)==null?void 0:be.stt)==null?void 0:ue.language});const ee=await $s(localStorage.token,_,Ne);ee?(ee.id,R.name,(he=ee==null?void 0:ee.meta)==null||he.collection_name,ee.error&&(console.warn("File upload warning:",ee.error),Se.warning(ee.error)),R.status="uploaded",R.file=ee,R.id=ee.id,R.collection_name=((Oe=ee==null?void 0:ee.meta)==null?void 0:Oe.collection_name)||(ee==null?void 0:ee.collection_name),R.url=`${ds}/files/${ee.id}`,t(3,c)):t(3,c=c.filter(qe=>(qe==null?void 0:qe.itemId)!==B))}catch(Ne){Se.error(`${Ne}`),t(3,c=c.filter(ee=>(ee==null?void 0:ee.itemId)!==B))}return c.length>0?t(2,g.data.files=c,g):t(2,g.data.files=null,g),t(1,h.storage.files=c,h),$e(),R},fe=async(_,B={},R={})=>{var Oe,Ne,ee,qe,ot,ht;const ne=(B==null?void 0:B.imageCompression)??!1,ve=((Ne=(Oe=R==null?void 0:R.file)==null?void 0:Oe.image_compression)==null?void 0:Ne.width)??null,be=((qe=(ee=R==null?void 0:R.file)==null?void 0:ee.image_compression)==null?void 0:qe.height)??null;if(!ne&&!ve&&!be)return _;let ue=null,he=null;return ne&&(ue=((ot=B==null?void 0:B.imageCompressionSize)==null?void 0:ot.width)??null,he=((ht=B==null?void 0:B.imageCompressionSize)==null?void 0:ht.height)??null),ve&&(ue===null||ue>ve)&&(ue=ve),be&&(he===null||he>be)&&(he=be),ue||he?await ws(_,ue,he):_},Je=async _=>{var B,R,ne,ve;if(_.name,_.type,_.size,_.name.split(".").at(-1),(((B=o==null?void 0:o.file)==null?void 0:B.max_size)??null)!==null&&_.size>(((R=o==null?void 0:o.file)==null?void 0:R.max_size)??0)*1024*1024){_.size,(((ne=o==null?void 0:o.file)==null?void 0:ne.max_size)??0)*1024*1024,Se.error(a.t("File size should not exceed {{maxSize}} MB.",{maxSize:(ve=o==null?void 0:o.file)==null?void 0:ve.max_size}));return}return _.type.startsWith("image/")?await new Promise(async(ue,he)=>{let Oe=new FileReader;Oe.onload=async Ne=>{try{let ee=Ne.target.result;ee=await fe(ee,r,o);const ot={id:Bt(),type:"image",url:`${ee}`};t(3,c=[...c,ot]),t(2,g.data.files=c,g),t(1,h.storage.files=c,h),$e(),ue(ot)}catch(ee){he(ee)}},Oe.readAsDataURL(_.type==="image/heic"?await _s({blob:_,toType:"image/jpeg"}):_)}):await ae(_)},Ce=async _=>{if(_==="txt"){const B=new Blob([g.data.content.md],{type:"text/plain"});C(B,`${g.title}.txt`)}else if(_==="md"){const B=new Blob([g.data.content.md],{type:"text/markdown"});C(B,`${g.title}.md`)}else _==="pdf"&&await ye(g)},ye=async _=>{var B,R;try{const be=((R=(B=_.data)==null?void 0:B.content)==null?void 0:R.html)??"";let ue;be instanceof HTMLElement?ue=be:(ue=document.createElement("div"),ue.innerHTML=be,document.body.appendChild(ue));const he=await vs(ue,{useCORS:!0,scale:2,width:1024,windowWidth:1024,windowHeight:1400});be instanceof HTMLElement||document.body.removeChild(ue);const Oe=he.toDataURL("image/png"),Ne=new bs("p","mm","a4"),ee=210,qe=297,ot=he.height*ee/he.width;let ht=ot,Dt=0;for(Ne.addImage(Oe,"PNG",0,Dt,ee,ot),ht-=qe;ht>0;)Dt-=qe,Ne.addPage(),Ne.addImage(Oe,"PNG",0,Dt,ee,ot),ht-=qe;Ne.save(`${_.title}.pdf`)}catch(ne){console.error("Error generating PDF",ne),Se.error(`${ne}`)}},pe=async _=>{await Hs(localStorage.token,_).catch(R=>(Se.error(`${R}`),null))?(Se.success(a.t("Note deleted successfully")),Wt("/notes")):Se.error(a.t("Failed to delete note"))},we=()=>{const _=document.getElementById("note-content-container");_&&(_.scrollTop=_==null?void 0:_.scrollHeight)},at=async _=>{t(23,z=!1);let B={json:null,html:"",md:""};const R=`Enhance existing notes using additional context provided from audio transcription or uploaded file content in the content's primary language. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, task lists ([ ]) where tasks or checklists are strongly implied, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[ne,ve]=await _n(localStorage.token,{model:_.id,stream:!0,messages:[{role:"system",content:R},{role:"user",content:`<notes>${g.data.content.md}</notes>`+(c&&c.length>0?`
<context>${c.map(be=>{var ue,he;return`${be.name}: ${((he=(ue=be==null?void 0:be.file)==null?void 0:ue.data)==null?void 0:he.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Mt}/api`);if(await rt(),t(22,x=!0),ne&&ne.ok){const be=ne.body.pipeThrough(new TextDecoderStream).pipeThrough(gn(`
`)).getReader();for(;;){const{value:ue,done:he}=await be.read();if(he||z){z&&ve.abort("User: Stop Response"),t(21,Y=!1),t(22,x=!1);break}try{let Oe=ue.split(`
`);for(const Ne of Oe)if(Ne!==""&&Ne!=="data: [DONE]"){let ee=JSON.parse(Ne.replace(/^data: /,""));if(ee.choices&&ee.choices.length>0){const qe=ee.choices[0];qe.delta&&qe.delta.content&&(B.md+=qe.delta.content,B.html=zt.parse(B.md),t(2,g.data.content.md=B.md,g),t(2,g.data.content.html=B.html,g),t(2,g.data.content.json=null,g),we())}}}catch(Oe){}}}t(22,x=!1)},mt=_=>{cn(g),Q==null||Q.insertContent(_)},xe=async _=>{if(_.id===b){_.access_control&&_.access_control!==g.access_control&&t(2,g.access_control=_.access_control,g),_.data&&_.data.files&&(t(3,c=_.data.files),t(2,g.data.files=c,g)),_.title&&_.title&&t(2,g.title=_.title,g),t(1,h.storage.files=c,h),await rt();for(const B of c)if(B.type==="image"){const R=new CustomEvent("data",{files:c}),ne=document.getElementById(`image:${B.id}`);ne&&ne.dispatchEvent(R)}}};Vt(async()=>{var _;await rt(),n==null||n.emit("join-note",{note_id:b,auth:{token:localStorage.token}}),n==null||n.on("note-events",xe),r!=null&&r.models?t(8,P=r==null?void 0:r.models[0]):o!=null&&o.default_models?t(8,P=o==null?void 0:o.default_models.split(",")[0]):t(8,P=""),P&&(s.filter(R=>{var ne,ve;return R.id===P&&!(((ve=(ne=R==null?void 0:R.info)==null?void 0:ne.meta)==null?void 0:ve.hidden)??!1)}).find(R=>R.id===P)||t(8,P="")),P||t(8,P=((_=s.at(0))==null?void 0:_.id)||""),document.getElementById("note-editor")}),un(()=>{n==null||n.off("note-events",xe),document.getElementById("note-editor")});const wt=()=>{$e()};function kt(_){le=_,t(15,le)}function Et(_){l.$$.not_equal(g.access_control,_)&&(g.access_control=_,t(2,g))}function M(_){J=_,t(14,J)}const q=()=>{pe(g.id),t(14,J=!1)},Qe=()=>{St.set(!m)};function Le(){g.title=this.value,t(2,g)}const Me=()=>{t(17,_e=!0)},De=_=>{if(te){t(16,te=!1);return}t(17,_e=!1),$e()},it=()=>{t(16,te=!0)},Ke=_=>{_.preventDefault(),_.stopImmediatePropagation(),_.stopPropagation(),Ge(),t(17,_e=!1)},nt=()=>{h.chain().focus().undo().run()},st=()=>{h.chain().focus().redo().run()},ft=()=>{O&&Z==="chat"?t(11,O=!1):(O||t(11,O=!0),t(12,Z="chat"))},lt=()=>{O&&Z==="settings"?t(11,O=!1):(O||t(11,O=!0),t(12,Z="settings"))},It=_=>{Ce(_)},$t=async()=>{const _=window.location.origin;await At(`${_}/notes/${g.id}`)?Se.success(a.t("Copied link to clipboard")):Se.error(a.t("Failed to copy link"))},Nt=async()=>{await At(g.data.content.md,g.data.content.html,!0).catch(B=>(Se.error(`${B}`),null))&&Se.success(a.t("Copied to clipboard"))},Nn=()=>{t(14,J=!0)},Cn=()=>{t(15,le=!0)},Dn=({editor:_})=>{const{from:B,to:R}=_.state.selection,ne=_.state.doc.textBetween(B,R," ");ne.length===0?t(13,F=null):t(13,F={text:ne,from:B,to:R})},Tn=_=>{t(2,g.data.content.html=_.html,g),t(2,g.data.content.md=_.md,g),h&&(t(5,y=h.storage.characterCount.words()),t(6,V=h.storage.characterCount.characters()))},Mn=(_,B,R)=>{B.forEach(async ne=>{const ve=await Je(ne).catch(be=>null);ve.type==="image"&&_.chain().insertContentAt(R,{type:"image",attrs:{src:`data://${ve.id}`}}).focus().run()})};function Sn(_){ge[_?"unshift":"push"](()=>{Q=_,t(24,Q)})}function zn(_){h=_,t(1,h)}function Vn(_){l.$$.not_equal(g.data.content.json,_)&&(g.data.content.json=_,t(2,g))}const yn=async _=>{_=_.detail.event||_;const B=_.clipboardData||window.clipboardData;if(B&&B.items){B.items;for(const R of B.items)if(R.type.indexOf("image")!==-1){const ne=R.getAsFile(),ve=await Je(ne);h&&(h==null||h.chain().insertContentAt(h.state.selection.$anchor.pos,{type:"image",attrs:{src:`data://${ve.id}`}}).focus().run())}else if((R==null?void 0:R.kind)==="file"){const ne=R.getAsFile();await Je(ne),_.preventDefault()}}},On=()=>{t(9,L=!1),t(10,K=!1)},Bn=_=>{_!=null&&_.file&&ae(_==null?void 0:_.file),t(9,L=!1),t(10,K=!1)};function An(_){L=_,t(9,L)}const Wn=async()=>{t(10,K=!1);try{let _=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(B){return Se.error(a.t("Permission denied when accessing microphone: {{error}}",{error:B})),null});_&&(t(9,L=!0),_.getTracks().forEach(R=>R.stop())),_=null}catch{Se.error(a.t("Permission denied when accessing microphone"))}},Un=async()=>{t(10,K=!0),t(9,L=!0)},jn=async()=>{const _=document.createElement("input");_.type="file",_.accept="audio/*",_.multiple=!1,_.click(),_.onchange=async B=>{const R=B.target.files;R&&R.length>0&&await ae(R[0])}},Pn=()=>{re()},Hn=()=>{Ze()},Rn=()=>{t(11,O=!0),t(12,Z="chat")},Ln=()=>{cn(g)};function Fn(_){O=_,t(11,O)}function Yn(_){P=_,t(8,P)}function qn(_){v=_,t(4,v)}function Jn(_){g=_,t(2,g)}function Gn(_){Y=_,t(21,Y)}function Xn(_){x=_,t(22,x)}function Zn(_){z=_,t(23,z)}const Qn=()=>{$e()};function Kn(_){O=_,t(11,O)}function xn(_){P=_,t(8,P)}function es(_){c=_,t(3,c)}function ts(_){O=_,t(11,O)}return l.$$set=_=>{"id"in _&&t(42,b=_.id)},l.$$.update=()=>{l.$$.dirty[0]&1&&N(a.languages),l.$$.dirty[1]&2048&&b&&se()},[a,h,g,c,v,y,V,H,P,L,K,O,Z,F,J,le,te,_e,oe,ze,Ve,Y,x,z,Q,n,i,f,m,p,T,$e,Te,Ge,Ze,re,ae,Je,Ce,pe,we,mt,b,wt,kt,Et,M,q,Qe,Le,Me,De,it,Ke,nt,st,ft,lt,It,$t,Nt,Nn,Cn,Dn,Tn,Mn,Sn,zn,Vn,yn,On,Bn,An,Wn,Un,jn,Pn,Hn,Rn,Ln,Fn,Yn,qn,Jn,Gn,Xn,Zn,Qn,Kn,xn,es,ts]}class Yo extends je{constructor(e){super(),Pe(this,e,Fo,Po,He,{id:42},null,[-1,-1,-1,-1])}}function qo(l){let e,t,n,s;return t=new Yo({props:{id:l[1].params.id}}),{c(){e=I("div"),A(t.$$.fragment),this.h()},l(o){e=$(o,"DIV",{id:!0,class:!0});var r=k(e);W(t.$$.fragment,r),r.forEach(d),this.h()},h(){u(e,"id","note-container"),u(e,"class",n="w-full h-full "+(l[0]?"md:max-w-[calc(100%-260px)]":""))},m(o,r){S(o,e,r),U(t,e,null),s=!0},p(o,[r]){const a={};r&2&&(a.id=o[1].params.id),t.$set(a),(!s||r&1&&n!==(n="w-full h-full "+(o[0]?"md:max-w-[calc(100%-260px)]":"")))&&u(e,"class",n)},i(o){s||(E(t.$$.fragment,o),s=!0)},o(o){D(t.$$.fragment,o),s=!1},d(o){o&&d(e),j(t)}}}function Jo(l,e,t){let n,s;return Be(l,St,o=>t(0,n=o)),Be(l,os,o=>t(1,s=o)),[n,s]}class jr extends je{constructor(e){super(),Pe(this,e,Jo,qo,He,{})}}export{jr as component};
//# sourceMappingURL=25.DVD6K6sj.js.map
