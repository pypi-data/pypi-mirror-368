[project]
name = "python_code_changed"
version = "0.4.0"
description = "A Python project to detect real code changes."
authors = [{ name = "Dean Godfree", email = "deangodfree@outlook.com" }]
readme = "README.md"
license = {file = "LICENSE"}
requires-python = ">=3.12"
dependencies = [
    "typer>=0.16.0"
]

[project.scripts]
python-code-changed = "python_code_changed.cli:app"

[project.optional-dependencies]
# install with: uv pip install '.[dev]'
dev = [
    "ruff>=0.4.4",
    "black>=24.4.0",
    "pytest>=8.4.1",
    "typer>=0.16.0",
    "isort>=5.13.2",
    "pip-audit>=2.7.2",
    "pytest-cov>=5.0.0",
    "mypy>=1.10.0",
    "hatch>=1.9.0",
    "toml-cli>=0.8.1"
]

[tool.hatch.envs.default.scripts]
lint = "uv run ruff check . && uv run mypy src/"
format = "uv run black --check . && uv run isort ."
test = "uv run pytest --cov=src/python_code_changed --cov-report=term-missing tests/"
check-all = "hatch run lint && hatch run format && hatch run test"

[tool.ruff]
line-length = 120

[tool.ruff.lint]
select = ["E", "F", "I", "B", "UP", "C90"]
# ignored ones to be fixed in next update. ignored for now..
ignore = [
    "C901", # cognitive complexity
    "PLR0913", # too many arguments
    "PLR2004", # magic value used multiple times
    "PLR0402", # module level import not at top
    "B008", # function call in argument defaults
]

[tool.isort]
profile = "black"

[tool.black]
line-length = 120

[tool.uv]
# uv-specific settings can be added here

[project.urls]
Homepage = "https://github.com/DeanGodfreeItalia/python_code_changed"
Repository = "https://github.com/DeanGodfreeItalia/python_code_changed"
