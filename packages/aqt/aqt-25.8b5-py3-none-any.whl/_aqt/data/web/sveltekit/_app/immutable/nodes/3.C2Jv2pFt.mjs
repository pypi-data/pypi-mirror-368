import{c as _}from"../chunks/DgPlQ0Ae.mjs";import"../chunks/BbkoyQuY.mjs";import{i as P}from"../chunks/BlVs9ZMX.mjs";import{p as R,h as d,i as S,_ as f,r as T,c as g,d as j,k as i,u as c,f as I}from"../chunks/3W_oWfQO.mjs";import{p as B,i as w}from"../chunks/D_GJ3sV_.mjs";import{a as O,s as x}from"../chunks/D-RwVtBd.mjs";import{p as z}from"../chunks/B8_GEaT9.mjs";import{C as b}from"../chunks/NXqlahyq.mjs";import{g as M}from"../chunks/BLeyLqWt.mjs";function C(e){try{return BigInt(e)}catch{return null}}const q=async({params:e})=>{const a=C(e.cardId),u=a!==null?await _({cid:a}):null,n=C(e.previousId),s=n!==null?await _({cid:n}):null;return{currentInfo:u,previousInfo:s}},V=Object.freeze(Object.defineProperty({__proto__:null,load:q},Symbol.toStringTag,{value:"Module"}));var A=d("<h3>Current</h3> <!>",1),D=d("<h3>Previous</h3> <!>",1),E=d("<center><!> <!></center>");function W(e,a){R(a,!1);const[u,n]=x(),s=()=>O(z,"$page",u);let t=B(a,"data",8);const v=s().url.searchParams.get("revlog")!=="0",m=s().url.searchParams.get("curve")!=="0";globalThis.anki||(globalThis.anki={}),globalThis.anki.updateCardInfos=async r=>{const o=`/card-info/${r}`;return M(o).catch(()=>{window.location.href=o})},P();var l=E(),h=S(l);{var $=r=>{var o=A(),p=f(I(o),2);b(p,{get stats(){return i(t()),c(()=>t().currentInfo)},get showRevlog(){return v},get showCurve(){return m}}),g(r,o)};w(h,r=>{i(t()),c(()=>t().currentInfo)&&r($)})}var k=f(h,2);{var y=r=>{var o=D(),p=f(I(o),2);b(p,{get stats(){return i(t()),c(()=>t().previousInfo)},get showRevlog(){return v},get showCurve(){return m}}),g(r,o)};w(k,r=>{i(t()),c(()=>t().previousInfo)&&r(y)})}T(l),g(e,l),j(),n()}export{W as component,V as universal};
