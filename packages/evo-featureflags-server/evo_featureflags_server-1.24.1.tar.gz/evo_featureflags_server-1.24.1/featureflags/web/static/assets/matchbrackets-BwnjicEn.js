import{g as T}from"./index-DV-aAxIQ.js";import{a as j}from"./codemirror-CDnq4I7b.js";function O(x,B){for(var u=0;u<B.length;u++){const g=B[u];if(typeof g!="string"&&!Array.isArray(g)){for(const i in g)if(i!=="default"&&!(i in x)){const k=Object.getOwnPropertyDescriptor(g,i);k&&Object.defineProperty(x,i,k.get?k:{enumerable:!0,get:()=>g[i]})}}}return Object.freeze(Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}))}var _={exports:{}};(function(x,B){(function(u){u(j)})(function(u){var g=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=u.Pos,k={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function m(t){return t&&t.bracketRegex||/[(){}[\]]/}function L(t,r,e){var l=t.getLineHandle(r.line),n=r.ch-1,c=e&&e.afterCursor;c==null&&(c=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var f=m(e),o=!c&&n>=0&&f.test(l.text.charAt(n))&&k[l.text.charAt(n)]||f.test(l.text.charAt(n+1))&&k[l.text.charAt(++n)];if(!o)return null;var a=o.charAt(1)==">"?1:-1;if(e&&e.strict&&a>0!=(n==r.ch))return null;var v=t.getTokenTypeAt(i(r.line,n+1)),s=A(t,i(r.line,n+(a>0?1:0)),a,v,e);return s==null?null:{from:i(r.line,n),to:s&&s.pos,match:s&&s.ch==o.charAt(0),forward:a>0}}function A(t,r,e,l,n){for(var c=n&&n.maxScanLineLength||1e4,f=n&&n.maxScanLines||1e3,o=[],a=m(n),v=e>0?Math.min(r.line+f,t.lastLine()+1):Math.max(t.firstLine()-1,r.line-f),s=r.line;s!=v;s+=e){var h=t.getLine(s);if(h){var p=e>0?0:h.length-1,S=e>0?h.length:-1;if(!(h.length>c))for(s==r.line&&(p=r.ch-(e<0?1:0));p!=S;p+=e){var y=h.charAt(p);if(a.test(y)&&(l===void 0||(t.getTokenTypeAt(i(s,p+1))||"")==(l||""))){var E=k[y];if(E&&E.charAt(1)==">"==e>0)o.push(y);else if(o.length)o.pop();else return{pos:i(s,p),ch:y}}}}}return s-e==(e>0?t.lastLine():t.firstLine())?!1:null}function H(t,r,e){for(var l=t.state.matchBrackets.maxHighlightLineLength||1e3,n=e&&e.highlightNonMatching,c=[],f=t.listSelections(),o=0;o<f.length;o++){var a=f[o].empty()&&L(t,f[o].head,e);if(a&&(a.match||n!==!1)&&t.getLine(a.from.line).length<=l){var v=a.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(t.markText(a.from,i(a.from.line,a.from.ch+1),{className:v})),a.to&&t.getLine(a.to.line).length<=l&&c.push(t.markText(a.to,i(a.to.line,a.to.ch+1),{className:v}))}}if(c.length){g&&t.state.focused&&t.focus();var s=function(){t.operation(function(){for(var h=0;h<c.length;h++)c[h].clear()})};if(r)setTimeout(s,800);else return s}}function d(t){t.operation(function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=H(t,!1,t.state.matchBrackets)})}function b(t){t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)}u.defineOption("matchBrackets",!1,function(t,r,e){e&&e!=u.Init&&(t.off("cursorActivity",d),t.off("focus",d),t.off("blur",b),b(t)),r&&(t.state.matchBrackets=typeof r=="object"?r:{},t.on("cursorActivity",d),t.on("focus",d),t.on("blur",b))}),u.defineExtension("matchBrackets",function(){H(this,!0)}),u.defineExtension("findMatchingBracket",function(t,r,e){return(e||typeof r=="boolean")&&(e?(e.strict=r,r=e):r=r?{strict:!0}:null),L(this,t,r)}),u.defineExtension("scanForBracket",function(t,r,e,l){return A(this,t,r,e,l)})})})();var M=_.exports;const P=T(M),D=O({__proto__:null,default:P},[M]);export{M as a,D as m};
