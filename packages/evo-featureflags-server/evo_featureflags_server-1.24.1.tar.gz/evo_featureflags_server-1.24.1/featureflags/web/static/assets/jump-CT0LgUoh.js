import{C as u}from"./codemirror-CDnq4I7b.js";import{g as p,a as l,e as m,b as g,c,d as j}from"./SchemaReference-Dl8PsiHz.js";import"./index-DV-aAxIQ.js";import"./forEachState-C8esYVuF.js";u.defineOption("jump",!1,(e,r,o)=>{if(o&&o!==u.Init){const t=e.state.jump.onMouseOver;u.off(e.getWrapperElement(),"mouseover",t);const i=e.state.jump.onMouseOut;u.off(e.getWrapperElement(),"mouseout",i),u.off(document,"keydown",e.state.jump.onKeyDown),delete e.state.jump}if(r){const t=e.state.jump={options:r,onMouseOver:M.bind(null,e),onMouseOut:k.bind(null,e),onKeyDown:y.bind(null,e)};u.on(e.getWrapperElement(),"mouseover",t.onMouseOver),u.on(e.getWrapperElement(),"mouseout",t.onMouseOut),u.on(document,"keydown",t.onKeyDown)}});function M(e,r){const o=r.target||r.srcElement;if(!(o instanceof HTMLElement)||(o==null?void 0:o.nodeName)!=="SPAN")return;const t=o.getBoundingClientRect(),i={left:(t.left+t.right)/2,top:(t.top+t.bottom)/2};e.state.jump.cursor=i,e.state.jump.isHoldingModifier&&f(e)}function k(e){if(!e.state.jump.isHoldingModifier&&e.state.jump.cursor){e.state.jump.cursor=null;return}e.state.jump.isHoldingModifier&&e.state.jump.marker&&d(e)}function y(e,r){if(e.state.jump.isHoldingModifier||!O(r.key))return;e.state.jump.isHoldingModifier=!0,e.state.jump.cursor&&f(e);const o=n=>{n.code===r.code&&(e.state.jump.isHoldingModifier=!1,e.state.jump.marker&&d(e),u.off(document,"keyup",o),u.off(document,"click",t),e.off("mousedown",i))},t=n=>{const{destination:s,options:a}=e.state.jump;s&&a.onClick(s,n)},i=(n,s)=>{e.state.jump.destination&&(s.codemirrorIgnore=!0)};u.on(document,"keyup",o),u.on(document,"click",t),e.on("mousedown",i)}const D=typeof navigator<"u"&&navigator.userAgent.includes("Mac");function O(e){return e===(D?"Meta":"Control")}function f(e){if(e.state.jump.marker)return;const{cursor:r,options:o}=e.state.jump,t=e.coordsChar(r),i=e.getTokenAt(t,!0),n=o.getDestination||e.getHelper(t,"jump");if(n){const s=n(i,o,e);if(s){const a=e.markText({line:t.line,ch:i.start},{line:t.line,ch:i.end},{className:"CodeMirror-jump-token"});e.state.jump.marker=a,e.state.jump.destination=s}}}function d(e){const{marker:r}=e.state.jump;e.state.jump.marker=null,e.state.jump.destination=null,r.clear()}u.registerHelper("jump","graphql",(e,r)=>{if(!r.schema||!r.onClick||!e.state)return;const{state:o}=e,{kind:t,step:i}=o,n=p(r.schema,o);if(t==="Field"&&i===0&&n.fieldDef||t==="AliasedField"&&i===2&&n.fieldDef)return l(n);if(t==="Directive"&&i===1&&n.directiveDef)return m(n);if(t==="Argument"&&i===0&&n.argDef)return g(n);if(t==="EnumValue"&&n.enumValue)return c(n);if(t==="NamedType"&&n.type)return j(n)});
