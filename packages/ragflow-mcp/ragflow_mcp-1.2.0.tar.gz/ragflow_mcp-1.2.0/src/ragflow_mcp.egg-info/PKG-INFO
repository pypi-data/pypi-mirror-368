Metadata-Version: 2.4
Name: ragflow-mcp
Version: 1.2.0
Summary: A mcp server that talk with my ragflow
Author: Cheson
Requires-Python: >=3.12
Description-Content-Type: text/markdown
Requires-Dist: fastmcp
Requires-Dist: requests
Requires-Dist: httpx

# RagFlow MCP Server

ä¸€ä¸ªç”¨äºä¸RagFlowçŸ¥è¯†åº“ç³»ç»Ÿäº¤äº’çš„MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“‹ **æ•°æ®é›†ç®¡ç†**: åˆ—å‡ºã€åˆ›å»ºæ•°æ®é›†
- ğŸ“„ **æ–‡æ¡£ç®¡ç†**: åˆ—å‡ºã€åˆ›å»ºã€ä¸‹è½½æ–‡æ¡£
- ğŸ“ **å†…å®¹ç®¡ç†**: åˆ›å»ºæ–‡æœ¬å—ï¼ˆchunksï¼‰åˆ°æ–‡æ¡£
- ğŸ” **æ™ºèƒ½æ£€ç´¢**: åœ¨çŸ¥è¯†åº“ä¸­æœç´¢ç›¸å…³å†…å®¹
- ğŸš€ **è‡ªåŠ¨æ£€æµ‹**: è‡ªåŠ¨æŸ¥æ‰¾æ–‡æ¡£æ‰€å±æ•°æ®é›†

## å®‰è£…

```bash
# å®‰è£…ä¾èµ–
pip install fastmcp requests httpx

# æˆ–è€…å®‰è£…åŒ…
pip install ragflow-mcp
```

## MCP å®¢æˆ·ç«¯é…ç½®

åœ¨ä½ çš„MCPå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

### æ–¹å¼1: ä½¿ç”¨uvxè¿è¡Œï¼ˆæ¨èï¼‰

```json
{
  "mcpServers": {
    "ragflow_mcp": {
      "command": "uvx",
      "args": [
        "ragflow-mcp",
        "--address", "your-ragflow-server.com",
        "--api-key", "your-api-key-here",
        "--dataset-id", "your-default-dataset-id",
        "--dataset-name", "ä½ çš„é»˜è®¤æ•°æ®é›†åç§°"
      ]
    }
  }
}
```

### æ–¹å¼2: ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬

```json
{
  "mcpServers": {
    "ragflow_mcp": {
      "command": "uv",
      "args": [
        "--directory",
        "/path/to/ragflow_mcp/src",
        "run",
        "mcp_server_stdio.py",
        "--address", "your-ragflow-server.com",
        "--api-key", "your-api-key-here",
        "--dataset-id", "your-default-dataset-id",
        "--dataset-name", "ä½ çš„é»˜è®¤æ•°æ®é›†åç§°"
      ]
    }
  }
}
```

### æ–¹å¼3: ä½¿ç”¨Pythonç›´æ¥è¿è¡Œ

```json
{
  "mcpServers": {
    "ragflow_mcp": {
      "command": "python",
      "args": [
        "/path/to/ragflow_mcp/src/mcp_server_stdio.py",
        "--address", "your-ragflow-server.com",
        "--api-key", "your-api-key-here",
        "--dataset-id", "your-default-dataset-id",
        "--dataset-name", "ä½ çš„é»˜è®¤æ•°æ®é›†åç§°"
      ]
    }
  }
}
```

## å‚æ•°è¯´æ˜

| å‚æ•° | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `--address` | âœ… | RagFlowæœåŠ¡å™¨åœ°å€ | `ragflow.example.com` |
| `--api-key` | âœ… | RagFlow APIå¯†é’¥ | `ragflow-xxxxx` |
| `--dataset-id` | âŒ | é»˜è®¤æ•°æ®é›†ID | `abc123def456` |
| `--dataset-name` | âŒ | é»˜è®¤æ•°æ®é›†åç§° | `æˆ‘çš„çŸ¥è¯†åº“` |

## å¯ç”¨å·¥å…·

### 1. list_all_datasets
åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ•°æ®é›†

### 2. list_all_documents  
åˆ—å‡ºæŒ‡å®šæ•°æ®é›†ä¸‹çš„æ‰€æœ‰æ–‡æ¡£

### 3. create_new_dataset
åˆ›å»ºæ–°çš„æ•°æ®é›†

### 4. create_empty_document
åˆ›å»ºç©ºç™½æ–‡æ¡£

### 5. create_chunk_to_document
å‘æ–‡æ¡£æ·»åŠ å†…å®¹å—

### 6. search_chunks
æœç´¢ç›¸å…³å†…å®¹

### 7. download_document
ä¸‹è½½æ–‡æ¡£

## é…ç½®ç¤ºä¾‹

### Claude Desktop é…ç½®ç¤ºä¾‹

```json
{
  "mcpServers": {
    "ragflow_mcp": {
      "command": "uvx",
      "args": [
        "ragflow-mcp",
        "--address", "ragflow.iepose.cn",
        "--api-key", "ragflow-g4ZTU4ZjM4YTAwMTExZWZhZjkyMDI0Mm",
        "--dataset-id", "c3303d4ee45611ef9b610242ac180003",
        "--dataset-name", "ç¬¬äºŒå¤§è„‘"
      ]
    }
  }
}
```

## å®‰å…¨æ³¨æ„äº‹é¡¹

- âš ï¸ **APIå¯†é’¥å®‰å…¨**: ç¡®ä¿APIå¯†é’¥ä¸ä¼šè¢«æ„å¤–æ³„éœ²
- ğŸ” **è®¿é—®æƒé™**: åªé…ç½®ä½ æœ‰æƒè®¿é—®çš„RagFlowæœåŠ¡å™¨
- ğŸ“ **é…ç½®ä¿æŠ¤**: æ³¨æ„ä¿æŠ¤åŒ…å«æ•æ„Ÿä¿¡æ¯çš„é…ç½®æ–‡ä»¶

## æ•…éšœæ’é™¤

### è¿æ¥å¤±è´¥
æ£€æŸ¥æœåŠ¡å™¨åœ°å€å’ŒAPIå¯†é’¥æ˜¯å¦æ­£ç¡®ï¼š
```bash
python src/mcp_server_stdio.py --address your-server --api-key your-key
```

### æƒé™é”™è¯¯
ç¡®ä¿APIå¯†é’¥æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®æŒ‡å®šçš„æ•°æ®é›†ã€‚

### é…ç½®é—®é¢˜
ç¡®ä¿æ‰€æœ‰å¿…éœ€å‚æ•°éƒ½å·²æ­£ç¡®ä¼ é€’ã€‚
