[build-system]
requires = [
  "scikit-build-core>=0.10",
  "torch>=2.5.0",
  "wheel",
]
build-backend = "scikit_build_core.build"

[project]
name = "b10-kernel"
version = "0.1.0"
description = "Baseten Kernel Library"
readme = "README.md"
requires-python = ">=3.12"
license = {file = "LICENSE"}
authors = [
    {name = "Ke Bao", email = "ke.bao@baseten.co"}
]
maintainers = [
    {name = "Ke Bao", email = "ke.bao@baseten.co"},
    {name = "Pankaj Gupta", email = "pankaj@baseten.co"}
]
keywords = ["machine learning", "gpu", "cuda", "kernels", "pytorch"]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: C++",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: Software Development :: Libraries :: Python Modules",
]
dependencies = [
    "nvidia-cutlass-dsl==4.1.0",
    "torch>=2.5.0",
]

[tool.wheel]
exclude = [
  "dist*",
  "test*",
  "benchmark",
]

[tool.scikit-build]
cmake.build-type = "Release"
minimum-version = "build-system.requires"
wheel.py-api = "py312"
wheel.packages = ["python/b10_kernel"]

[tool.ruff.lint]
ignore = [
    "E731",  # do not assign a lambda expression, use a def
    "E741",  # Do not use variables named 'I', 'O', or 'l'
    "F841",  # local variable is assigned to but never used
]
