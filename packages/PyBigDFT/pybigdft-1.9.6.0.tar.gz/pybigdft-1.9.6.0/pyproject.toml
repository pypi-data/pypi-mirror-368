[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "PyBigDFT"
authors = [
  { name="William Dawson", email="william.dawson@riken.jp"},
  { name="Damien Caliste", email="Damien.Caliste@cea.fr"},
  { name="Luigi Genovese", email="Luigi.Genovese@cea.fr"},
]

description="Python utilities for BigDFT"
readme="README.md"
license={file="COPYING"}
requires-python = ">=3.6"
classifiers = [
   "Programming Language :: Python :: 3",
   "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
   "Operating System :: OS Independent",
]
dynamic = ['version']

dependencies = ["numpy", "scipy", "pyyaml", "PyFutile"]

[project.optional-dependencies]
materials = ["ase", "spglib"]
viz = ["py3dmol", "matplotlib"]

[project.urls]
"Homepage" = "https://bigdft.org"
"Bug Tracker" = "https://gitlab.com/l_sim/pybigdft/-/issues"

[tool.hatch.build]
artifacts = ["*.xyz", "psppar*.yaml", "postprocess.yaml"]

[tool.hatch.version]
path = 'BigDFT/__init__.py'

[tool.hatch.build.targets.wheel]
packages = ["BigDFT"]


[tool.bumpver]
current_version = "1.9.6.0"
version_pattern = "MAJOR.MINOR.PATCH.INC0"
commit_message = "[clean] bump version {old_version} -> {new_version}"
commit = true
tag = false
push = false

[tool.bumpver.file_patterns]
"pyproject.toml" = [
    'current_version = "{version}"',
]
"BigDFT/__init__.py" = [
    '^__version__ = "{version}"'
]
"codemeta.json" = [
    '"version": "{version}"'
]
