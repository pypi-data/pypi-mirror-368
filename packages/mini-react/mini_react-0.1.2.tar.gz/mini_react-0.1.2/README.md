
# minireact

ä¸€ä¸ªè½»é‡çº§çš„ ReActï¼ˆReasoning and Actingï¼‰æ™ºèƒ½ä½“æ¡†æ¶ï¼Œè®©æ‚¨è½»æ¾æ„å»ºèƒ½å¤Ÿæ€è€ƒã€ä½¿ç”¨å·¥å…·å¹¶é‡‡å–è¡ŒåŠ¨çš„æ™ºèƒ½ä»£ç†ã€‚ [1](#0-0) 

## âœ¨ ç‰¹æ€§

- **ğŸš€ è½»é‡çº§è®¾è®¡**ï¼šæ ¸å¿ƒåŠŸèƒ½ä»…ä¾èµ–å°‘é‡åº“ï¼Œä¿æŒæ¡†æ¶ç®€æ´é«˜æ•ˆ
- **ğŸ”§ çµæ´»å·¥å…·ç³»ç»Ÿ**ï¼šè‡ªåŠ¨ä»å‡½æ•°ä¸­æå–å‚æ•°å’Œæ–‡æ¡£ï¼Œè½»æ¾é›†æˆè‡ªå®šä¹‰å·¥å…·
- **ğŸ§  æ™ºèƒ½è½¨è¿¹ç®¡ç†**ï¼šè‡ªåŠ¨ç®¡ç†æ¨ç†è¿‡ç¨‹ï¼Œæ”¯æŒä¸Šä¸‹æ–‡çª—å£æ™ºèƒ½æˆªæ–­
- **ğŸŒŠ æµå¼å“åº”**ï¼šæ”¯æŒå®æ—¶æµå¼è¾“å‡ºï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- **ğŸ”Œ å¤šæ¨¡å‹æ”¯æŒ**ï¼šæ”¯æŒ OpenAIã€Ollamaã€OpenRouter ç­‰å¤šç§è¯­è¨€æ¨¡å‹æä¾›å•†
- **ğŸ’¾ æ™ºèƒ½ç¼“å­˜**ï¼šå†…ç½®é¢„æµ‹ç»“æœç¼“å­˜ï¼Œæå‡æ€§èƒ½å¹¶é™ä½ API æˆæœ¬
- **ğŸ›¡ï¸ é”™è¯¯æ¢å¤**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

minireact åŸºäºæ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½ç»§æ‰¿è‡ªç»Ÿä¸€çš„ `Module` åŸºç±»ï¼š [2](#0-1) 

```
minireact/
â”œâ”€â”€ Module          # æ‰€æœ‰ç»„ä»¶çš„åŸºç±»
â”œâ”€â”€ ReAct           # æ ¸å¿ƒæ¨ç†-è¡ŒåŠ¨å¾ªç¯
â”œâ”€â”€ Tool            # å·¥å…·å°è£…å’Œæ‰§è¡Œ
â”œâ”€â”€ Signature       # è¾“å…¥è¾“å‡ºè§„èŒƒå®šä¹‰
â”œâ”€â”€ Predict         # è¯­è¨€æ¨¡å‹äº¤äº’
â”œâ”€â”€ LM              # å¤šæä¾›å•†è¯­è¨€æ¨¡å‹æ¥å£
â””â”€â”€ streamify       # æµå¼å“åº”åŒ…è£…å™¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
pip install -e .
```

### åŸºç¡€ç”¨æ³•

```python
import minireact as mr

# å®šä¹‰ä»»åŠ¡ç­¾å
signature = mr.Signature(
    {"query": mr.InputField()},
    {"answer": mr.OutputField()},
    instructions="å›ç­”ç”¨æˆ·çš„é—®é¢˜"
)

# å®šä¹‰å·¥å…·å‡½æ•°
def search_tool(query: str):
    """æœç´¢ç›¸å…³ä¿¡æ¯"""
    return f"æœç´¢åˆ°å…³äº {query} çš„ç›¸å…³ä¿¡æ¯"

def calculator(expression: str):
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        return str(eval(expression))
    except:
        return "è®¡ç®—é”™è¯¯"

# åˆ›å»º ReAct æ™ºèƒ½ä½“
agent = mr.ReAct(signature, tools=[search_tool, calculator])

# æ‰§è¡Œä»»åŠ¡
result = agent(query="è®¡ç®— 15 * 23 + 45")
print(result.answer)
```

### æµå¼å“åº”

```python
# ä½¿ç”¨æµå¼åŒ…è£…å™¨
streaming_agent = mr.streamify(agent)

async for response in streaming_agent(query="ä»Šå¤©å¤©æ°”å¦‚ä½•ï¼Ÿ"):
    if isinstance(response, mr.ThoughtResponse):
        print(f"ğŸ’­ æ€è€ƒ: {response.thought}")
    elif isinstance(response, mr.ToolCallResponse):
        print(f"ğŸ”§ è°ƒç”¨å·¥å…·: {response.tool_name}")
    elif isinstance(response, mr.ObservationResponse):
        print(f"ğŸ‘€ è§‚å¯Ÿ: {response.observation}")
    elif isinstance(response, mr.FinishResponse):
        print(f"âœ… å®Œæˆ: {response.outputs}")
```

## ğŸ”§ é…ç½®è¯­è¨€æ¨¡å‹

### OpenAI

```python
import minireact as mr

# è®¾ç½® OpenAI æ¨¡å‹
mr.set_model("gpt-4o-mini")
mr.lm_config.set_api_key("your-openai-api-key")
```

### Ollamaï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰

```python
# è®¾ç½® Ollama
mr.setup_ollama(model="qwen3:8b", api_base="http://localhost:11434")
```

### OpenRouter

```python
# è®¾ç½® OpenRouter
mr.setup_openrouter(api_key="your-openrouter-key", model="qwen/qwq-32b-preview")
```

## ğŸ“š æ ¸å¿ƒç»„ä»¶è¯¦è§£

### ReAct æ™ºèƒ½ä½“

ReAct ç±»å®ç°äº†æ¨ç†-è¡ŒåŠ¨-è§‚å¯Ÿçš„æ ¸å¿ƒå¾ªç¯ï¼š [3](#0-2) 

```python
# åˆ›å»ºæ™ºèƒ½ä½“æ—¶çš„å…³é”®å‚æ•°
agent = mr.ReAct(
    signature=signature,      # ä»»åŠ¡å®šä¹‰
    tools=[tool1, tool2],    # å¯ç”¨å·¥å…·åˆ—è¡¨
    max_iters=5,             # æœ€å¤§è¿­ä»£æ¬¡æ•°
    lm=custom_lm             # è‡ªå®šä¹‰è¯­è¨€æ¨¡å‹
)
```

### å·¥å…·ç³»ç»Ÿ

å·¥å…·ç³»ç»Ÿè‡ªåŠ¨å¤„ç†å‡½æ•°å°è£…å’Œå‚æ•°éªŒè¯ï¼š [4](#0-3) 

```python
# å‡½æ•°ä¼šè‡ªåŠ¨è½¬æ¢ä¸º Tool å¯¹è±¡
def my_tool(param1: str, param2: int = 10):
    """å·¥å…·æè¿°"""
    return f"å¤„ç† {param1} å’Œ {param2}"

# æˆ–è€…æ‰‹åŠ¨åˆ›å»º Tool
tool = mr.Tool(
    func=my_function,
    name="custom_name",
    desc="è‡ªå®šä¹‰æè¿°"
)
```

### ç­¾åç³»ç»Ÿ

ç­¾åå®šä¹‰äº†ä»»åŠ¡çš„è¾“å…¥è¾“å‡ºè§„èŒƒï¼š [5](#0-4) 

```python
signature = mr.Signature(
    input_fields={"question": mr.InputField()},
    output_fields={"answer": mr.OutputField()},
    instructions="æ ¹æ®é—®é¢˜æä¾›å‡†ç¡®ç­”æ¡ˆ"
)
```

## ğŸ”„ æ‰§è¡Œæµç¨‹

1. **è¾“å…¥éªŒè¯**ï¼šæ ¹æ®ç­¾åéªŒè¯è¾“å…¥å‚æ•°
2. **æ¨ç†å¾ªç¯**ï¼šæ‰§è¡Œæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿå¾ªç¯
3. **å·¥å…·è°ƒç”¨**ï¼šé€‰æ‹©å¹¶æ‰§è¡Œåˆé€‚çš„å·¥å…·
4. **è½¨è¿¹ç®¡ç†**ï¼šè®°å½•å®Œæ•´çš„æ¨ç†è¿‡ç¨‹
5. **ç»“æœæå–**ï¼šä»è½¨è¿¹ä¸­æå–æœ€ç»ˆç­”æ¡ˆ
6. **é”™è¯¯å¤„ç†**ï¼šå¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ [6](#0-5) 

## ğŸ› ï¸ é«˜çº§åŠŸèƒ½

### è½¨è¿¹æˆªæ–­

å½“ä¸Šä¸‹æ–‡çª—å£è¶…å‡ºé™åˆ¶æ—¶ï¼Œç³»ç»Ÿä¼šæ™ºèƒ½æˆªæ–­è½¨è¿¹ï¼š [7](#0-6) 

### é¢„æµ‹ç¼“å­˜

å†…ç½®ç¼“å­˜ç³»ç»Ÿæå‡æ€§èƒ½ï¼š [8](#0-7) 

### é”™è¯¯æ¢å¤

å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼š [9](#0-8) 

## ğŸ“ é¡¹ç›®ç»“æ„

```
mini-react/
â”œâ”€â”€ minireact/
â”‚   â”œâ”€â”€ __init__.py      # åŒ…åˆå§‹åŒ–å’Œå¯¼å‡º
â”‚   â”œâ”€â”€ module.py        # æ¨¡å—åŸºç±»
â”‚   â”œâ”€â”€ react.py         # ReAct æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ tool.py          # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ signature.py     # ç­¾åç³»ç»Ÿ
â”‚   â”œâ”€â”€ predict.py       # é¢„æµ‹æ¨¡å—
â”‚   â”œâ”€â”€ lm.py           # è¯­è¨€æ¨¡å‹æ¥å£
â”‚   â”œâ”€â”€ streamify.py    # æµå¼å“åº”
â”‚   â””â”€â”€ prompt.py       # æç¤ºæ¨¡æ¿
â”œâ”€â”€ examples/           # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ setup.py           # å®‰è£…é…ç½®
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**minireact** - è®©æ™ºèƒ½ä½“å¼€å‘å˜å¾—ç®€å•è€Œå¼ºå¤§ ğŸš€

## Notes

è¿™ä¸ª README åŸºäºé¡¹ç›®çš„å®é™…ä»£ç ç»“æ„å’ŒåŠŸèƒ½ç¼–å†™ï¼Œçªå‡ºäº† minireact æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ï¼šè½»é‡çº§è®¾è®¡ã€æ¨¡å—åŒ–æ¶æ„ã€æµå¼å“åº”æ”¯æŒå’Œå¤šè¯­è¨€æ¨¡å‹é›†æˆã€‚ [10](#0-9)  ç›¸æ¯”åŸæœ‰çš„ READMEï¼Œæ–°ç‰ˆæœ¬æ›´åŠ ç»“æ„åŒ–ï¼Œå¢åŠ äº†æ›´å¤šå®ç”¨çš„ä»£ç ç¤ºä¾‹å’Œé…ç½®è¯´æ˜ï¼ŒåŒæ—¶ä¿æŒäº†ä¸­æ–‡æ–‡æ¡£çš„ç‰¹è‰²ã€‚

